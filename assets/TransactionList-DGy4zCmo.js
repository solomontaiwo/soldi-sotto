import{t as Me,i as Se,k as De,r as D,e as _e,d as $e,j as e,m as V,f as q,l as ce,v as Ne,w as Ce,A as ue,x as me,y as pe}from"./index-BsuRMmVW.js";import{T as Ye}from"./TransactionModal-BcIGokNr.js";import{S as X,f as le}from"./formatCurrency-ChWFhNJW.js";import{u as Te}from"./categories-DbXDQrsJ.js";import{t as Oe,c as ne,n as Fe,s as de,a as ze,e as We,b as Le,d as He,f as Re,g as Ae}from"./format-CrPPGQr8.js";import{e as Be,a as Ee}from"./endOfWeek-BovlL6-H.js";import{F as ee}from"./Form-DB0IUDCf.js";import{A as Ie}from"./Alert-DtdB1iiJ.js";import"./Modal-DbNhBklx.js";import"./useEventCallback-CuFq5ihd.js";import"./Col-BeTjwsmv.js";import"./Row-6nD61_uA.js";import"./hook-CweEDvEt.js";function qe(f,N,x){const b=Oe(f,x?.in);return isNaN(N)?ne(f,NaN):(b.setDate(b.getDate()+N),b)}function ge(f){return ne(f,Date.now())}function be(f,N,x){const[b,C]=Fe(x?.in,f,N);return+de(b)==+de(C)}function Pe(f,N){return be(ne(f,f),ge(f))}function Ue(f,N,x){return qe(f,-1,x)}function Je(f,N){return be(ne(f,f),Ue(ge(f)))}var re={exports:{}},Qe=re.exports,xe;function ye(){return xe||(xe=1,function(f,N){(function(x,b){f.exports=b()})(Qe,function(){var x=1e3,b=6e4,C=36e5,T="millisecond",k="second",R="minute",z="hour",O="day",I="week",$="month",J="quarter",Y="year",M="date",P="Invalid Date",Q=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ie=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var n=["th","st","nd","rd"],r=t%100;return"["+t+(n[(r-20)%10]||n[r]||n[0])+"]"}},Z=function(t,n,r){var i=String(t);return!i||i.length>=n?t:""+Array(n+1-i.length).join(r)+t},oe={s:Z,z:function(t){var n=-t.utcOffset(),r=Math.abs(n),i=Math.floor(r/60),s=r%60;return(n<=0?"+":"-")+Z(i,2,"0")+":"+Z(s,2,"0")},m:function t(n,r){if(n.date()<r.date())return-t(r,n);var i=12*(r.year()-n.year())+(r.month()-n.month()),s=n.clone().add(i,$),d=r-s<0,o=n.clone().add(i+(d?-1:1),$);return+(-(i+(r-s)/(d?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:$,y:Y,w:I,d:O,D:M,h:z,m:R,s:k,ms:T,Q:J}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return t===void 0}},W="en",S={};S[W]=A;var G="$isDayjsObject",L=function(t){return t instanceof u||!(!t||!t[G])},U=function t(n,r,i){var s;if(!n)return W;if(typeof n=="string"){var d=n.toLowerCase();S[d]&&(s=d),r&&(S[d]=r,s=d);var o=n.split("-");if(!s&&o.length>1)return t(o[0])}else{var h=n.name;S[h]=n,s=h}return!i&&s&&(W=s),s||!i&&W},g=function(t,n){if(L(t))return t.clone();var r=typeof n=="object"?n:{};return r.date=t,r.args=arguments,new u(r)},p=oe;p.l=U,p.i=L,p.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var u=function(){function t(r){this.$L=U(r.locale,null,!0),this.parse(r),this.$x=this.$x||r.x||{},this[G]=!0}var n=t.prototype;return n.parse=function(r){this.$d=function(i){var s=i.date,d=i.utc;if(s===null)return new Date(NaN);if(p.u(s))return new Date;if(s instanceof Date)return new Date(s);if(typeof s=="string"&&!/Z$/i.test(s)){var o=s.match(Q);if(o){var h=o[2]-1||0,y=(o[7]||"0").substring(0,3);return d?new Date(Date.UTC(o[1],h,o[3]||1,o[4]||0,o[5]||0,o[6]||0,y)):new Date(o[1],h,o[3]||1,o[4]||0,o[5]||0,o[6]||0,y)}}return new Date(s)}(r),this.init()},n.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},n.$utils=function(){return p},n.isValid=function(){return this.$d.toString()!==P},n.isSame=function(r,i){var s=g(r);return this.startOf(i)<=s&&s<=this.endOf(i)},n.isAfter=function(r,i){return g(r)<this.startOf(i)},n.isBefore=function(r,i){return this.endOf(i)<g(r)},n.$g=function(r,i,s){return p.u(r)?this[i]:this.set(s,r)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(r,i){var s=this,d=!!p.u(i)||i,o=p.p(r),h=function(a,c){var l=p.w(s.$u?Date.UTC(s.$y,c,a):new Date(s.$y,c,a),s);return d?l:l.endOf(O)},y=function(a,c){return p.w(s.toDate()[a].apply(s.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(c)),s)},v=this.$W,w=this.$M,_=this.$D,B="set"+(this.$u?"UTC":"");switch(o){case Y:return d?h(1,0):h(31,11);case $:return d?h(1,w):h(0,w+1);case I:var H=this.$locale().weekStart||0,E=(v<H?v+7:v)-H;return h(d?_-E:_+(6-E),w);case O:case M:return y(B+"Hours",0);case z:return y(B+"Minutes",1);case R:return y(B+"Seconds",2);case k:return y(B+"Milliseconds",3);default:return this.clone()}},n.endOf=function(r){return this.startOf(r,!1)},n.$set=function(r,i){var s,d=p.p(r),o="set"+(this.$u?"UTC":""),h=(s={},s[O]=o+"Date",s[M]=o+"Date",s[$]=o+"Month",s[Y]=o+"FullYear",s[z]=o+"Hours",s[R]=o+"Minutes",s[k]=o+"Seconds",s[T]=o+"Milliseconds",s)[d],y=d===O?this.$D+(i-this.$W):i;if(d===$||d===Y){var v=this.clone().set(M,1);v.$d[h](y),v.init(),this.$d=v.set(M,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](y);return this.init(),this},n.set=function(r,i){return this.clone().$set(r,i)},n.get=function(r){return this[p.p(r)]()},n.add=function(r,i){var s,d=this;r=Number(r);var o=p.p(i),h=function(w){var _=g(d);return p.w(_.date(_.date()+Math.round(w*r)),d)};if(o===$)return this.set($,this.$M+r);if(o===Y)return this.set(Y,this.$y+r);if(o===O)return h(1);if(o===I)return h(7);var y=(s={},s[R]=b,s[z]=C,s[k]=x,s)[o]||1,v=this.$d.getTime()+r*y;return p.w(v,this)},n.subtract=function(r,i){return this.add(-1*r,i)},n.format=function(r){var i=this,s=this.$locale();if(!this.isValid())return s.invalidDate||P;var d=r||"YYYY-MM-DDTHH:mm:ssZ",o=p.z(this),h=this.$H,y=this.$m,v=this.$M,w=s.weekdays,_=s.months,B=s.meridiem,H=function(c,l,j,m){return c&&(c[l]||c(i,d))||j[l].slice(0,m)},E=function(c){return p.s(h%12||12,c,"0")},a=B||function(c,l,j){var m=c<12?"AM":"PM";return j?m.toLowerCase():m};return d.replace(ie,function(c,l){return l||function(j){switch(j){case"YY":return String(i.$y).slice(-2);case"YYYY":return p.s(i.$y,4,"0");case"M":return v+1;case"MM":return p.s(v+1,2,"0");case"MMM":return H(s.monthsShort,v,_,3);case"MMMM":return H(_,v);case"D":return i.$D;case"DD":return p.s(i.$D,2,"0");case"d":return String(i.$W);case"dd":return H(s.weekdaysMin,i.$W,w,2);case"ddd":return H(s.weekdaysShort,i.$W,w,3);case"dddd":return w[i.$W];case"H":return String(h);case"HH":return p.s(h,2,"0");case"h":return E(1);case"hh":return E(2);case"a":return a(h,y,!0);case"A":return a(h,y,!1);case"m":return String(y);case"mm":return p.s(y,2,"0");case"s":return String(i.$s);case"ss":return p.s(i.$s,2,"0");case"SSS":return p.s(i.$ms,3,"0");case"Z":return o}return null}(c)||o.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(r,i,s){var d,o=this,h=p.p(i),y=g(r),v=(y.utcOffset()-this.utcOffset())*b,w=this-y,_=function(){return p.m(o,y)};switch(h){case Y:d=_()/12;break;case $:d=_();break;case J:d=_()/3;break;case I:d=(w-v)/6048e5;break;case O:d=(w-v)/864e5;break;case z:d=w/C;break;case R:d=w/b;break;case k:d=w/x;break;default:d=w}return s?d:p.a(d)},n.daysInMonth=function(){return this.endOf($).$D},n.$locale=function(){return S[this.$L]},n.locale=function(r,i){if(!r)return this.$L;var s=this.clone(),d=U(r,i,!0);return d&&(s.$L=d),s},n.clone=function(){return p.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},t}(),F=u.prototype;return g.prototype=F,[["$ms",T],["$s",k],["$m",R],["$H",z],["$W",O],["$M",$],["$y",Y],["$D",M]].forEach(function(t){F[t[1]]=function(n){return this.$g(n,t[0],t[1])}}),g.extend=function(t,n){return t.$i||(t(n,u,g),t.$i=!0),g},g.locale=U,g.isDayjs=L,g.unix=function(t){return g(1e3*t)},g.en=S[W],g.Ls=S,g.p={},g})}(re)),re.exports}var Ze=ye();const te=Me(Ze);var ae={exports:{}},Ve=ae.exports,he;function Xe(){return he||(he=1,function(f,N){(function(x,b){f.exports=b(ye())})(Ve,function(x){function b(k){return k&&typeof k=="object"&&"default"in k?k:{default:k}}var C=b(x),T={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(k){return k+"º"}};return C.default.locale(T,null,!0),T})}(ae)),ae.exports}Xe();var se={exports:{}},Ge=se.exports,fe;function Ke(){return fe||(fe=1,function(f,N){(function(x,b){f.exports=b()})(Ge,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var b=["th","st","nd","rd"],C=x%100;return"["+x+(b[(C-20)%10]||b[C]||b[0])+"]"}}})}(se)),se.exports}Ke();const pt=()=>{const{currentUser:f,loading:N}=Se(),{transactions:x,loading:b,deleteTransaction:C,isDemo:T,canAddMoreTransactions:k,maxTransactions:R}=De(),{expenseCategories:z,incomeCategories:O}=Te(),[I,$]=D.useState([]),[J,Y]=D.useState(null),[M,P]=D.useState(null),[Q,ie]=D.useState("monthly"),[A,Z]=D.useState(""),[oe,W]=D.useState(!1),[S,G]=D.useState(!1),[L,U]=D.useState("all"),[g,p]=D.useState("all"),{t:u,i18n:F}=_e(),t=$e({maxWidth:768}),n=N||b,r=D.useMemo(()=>u("dashboard.motivationalQuotes",{returnObjects:!0}),[u]),[i,s]=D.useState("");D.useEffect(()=>{r&&r.length>0&&s(r[Math.floor(Math.random()*r.length)])},[r]);const d=a=>{const c=F.language||"it";return Pe(a)?u("transactions.today"):Je(a)?u("transactions.yesterday"):te(a).locale(c).format(c==="it"?"DD MMMM YYYY":"MMM DD, YYYY")},o=a=>a.date?.toDate?a.date.toDate():a.date?.seconds?new Date(a.date.seconds*1e3):a.date instanceof Date?a.date:new Date(a.date),h=a=>{const c={};return a.forEach(l=>{const j=o(l),m=Ae(j,"yyyy-MM-dd");c[m]||(c[m]={date:j,displayDate:d(j),transactions:[]}),c[m].transactions.push(l)}),Object.values(c).sort((l,j)=>j.date-l.date)},y=a=>{const l=[...z,...O].find(j=>j.value===a);return l?l.label.split(" ")[0]:"💸"},v=a=>{const l=[...z,...O].find(j=>j.value===a);return l?l.label:a};D.useEffect(()=>{if(x.length>0){const a=new Date;let c,l;switch(Q){case"weekly":c=Re(a,{weekStartsOn:1}),l=Ee(a,{weekStartsOn:1});break;case"daily":c=de(a),l=Be(a);break;case"annually":c=Le(a),l=He(a);break;case"all":c=new Date(0),l=new Date;break;case"monthly":default:c=ze(a),l=We(a);break}let j=x.filter(m=>{const K=o(m),ve=K>=c&&K<=l,je=A===""||m.description.toLowerCase().includes(A.toLowerCase())||m.category.toLowerCase().includes(A.toLowerCase()),we=L==="all"||m.category===L,ke=g==="all"||m.type===g;return ve&&je&&we&&ke});j.sort((m,K)=>o(K)-o(m)),$(j)}},[x,Q,A,L,g]);const w=D.useCallback(async a=>{P(a)},[]),_=D.useCallback(async()=>{M&&await C(M)&&P(null)},[M,C]),B=[...new Set(x.map(a=>a.category))],H=[{value:"daily",label:u("transactions.filters.today")},{value:"weekly",label:u("transactions.filters.week")},{value:"monthly",label:u("transactions.filters.month")},{value:"annually",label:u("transactions.filters.year")},{value:"all",label:u("transactions.filters.all")}];if(n)return e.jsx("div",{className:"container mt-4",children:[...Array(6)].map((a,c)=>e.jsxs("div",{className:"mb-5",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3 mb-3",children:[e.jsx("div",{className:"flex-grow-1",style:{height:"2px",background:"rgba(0, 0, 0, 0.1)",borderRadius:"1px"}}),e.jsx("span",{className:"fw-medium px-3 py-1 timeline-date-badge",style:{background:"rgba(255,255,255,0.65)",color:"var(--timeline-date-color, var(--text-secondary))",borderRadius:"1rem",fontSize:"0.875rem",border:"1px solid var(--timeline-date-border, rgba(0,0,0,0.08))",backdropFilter:"blur(8px)"},children:e.jsx(X,{width:90,height:18})}),e.jsx("div",{className:"flex-grow-1",style:{height:"2px",background:"rgba(0, 0, 0, 0.1)",borderRadius:"1px"}})]}),e.jsx("div",{className:"d-flex flex-column gap-3",children:[...Array(2)].map((l,j)=>e.jsxs("div",{className:"d-flex align-items-center justify-content-between p-3 mb-2 rounded-3 transaction-card",style:{background:"rgba(255,255,255,0.95)",minHeight:60},children:[e.jsxs("div",{className:"d-flex align-items-center gap-3 flex-grow-1",style:{minWidth:0},children:[e.jsx(X,{circle:!0,width:40,height:40,style:{marginRight:16}}),e.jsxs("div",{className:"flex-grow-1",style:{minWidth:0},children:[e.jsx(X,{height:16,width:120,style:{marginBottom:6}}),e.jsx(X,{height:12,width:80})]})]}),e.jsx(X,{height:18,width:60})]},j))})]},c))});if(!f&&!T)return e.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",style:{background:"var(--gradient-soft-blue)"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"display-6 text-dark mb-3",children:u("transactions.accessRequired")}),e.jsx("p",{className:"lead text-muted",children:u("transactions.loginRequired")})]})});const E=h(I);return e.jsxs("div",{className:"min-vh-100",style:{background:"transparent",overflowX:"hidden",WebkitOverflowScrolling:"touch"},children:[e.jsx(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"position-sticky top-0",style:{backgroundColor:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(25px)",WebkitBackdropFilter:"blur(25px)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 1px 20px rgba(0, 0, 0, 0.08)",zIndex:1020,padding:"16px 0"},children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:`fw-bold text-dark mb-1 ${t?"h4":"h2"}`,children:["💳 ",u("transactions.title")]}),e.jsx("div",{className:"text-primary fw-medium mb-2",style:{fontSize:t?"1rem":"1.15rem",opacity:.85},children:e.jsx("span",{style:{fontStyle:"italic"},children:i})}),e.jsx("div",{className:"d-flex align-items-center gap-2",children:e.jsxs("span",{style:{fontSize:"1rem",color:"#6c757d",fontWeight:400,display:"flex",alignItems:"center",gap:4},children:[I.length,e.jsx("span",{style:{margin:"0 2px"},children:u("of")}),x.length]})})]}),e.jsxs(q,{variant:"primary",size:t?"sm":"md",onClick:()=>W(!0),disabled:T&&!k,className:"d-flex align-items-center gap-1",style:{background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",borderColor:"var(--primary-500)",borderRadius:"1.5rem",padding:t?"8px 16px":"12px 20px",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsx(ce,{size:t?16:18}),!t&&e.jsx("span",{children:u("addTransaction")})]})]}),e.jsxs("div",{className:"position-relative mb-3",children:[e.jsx(Ne,{className:"position-absolute top-50 start-0 translate-middle-y text-muted ms-3",size:18}),e.jsx(ee.Control,{type:"text",className:"ps-5 border-0",placeholder:u("searchTransactions"),value:A,onChange:a=>Z(a.target.value),style:{borderRadius:"1.5rem",padding:t?"12px 16px 12px 48px":"14px 16px 14px 48px",background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"}})]}),e.jsxs("div",{className:`d-flex gap-2 mb-2 ${t?"flex-column":"flex-row"}`,children:[e.jsx(ee.Select,{value:Q,onChange:a=>ie(a.target.value),className:"border-0",style:{borderRadius:"0.75rem",fontSize:t?"14px":"16px",flex:t?"none":"1",marginBottom:t?"8px":"0",background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:H.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsxs(q,{variant:S?"primary":"outline-secondary",size:"sm",onClick:()=>G(!S),className:"d-flex align-items-center gap-1 px-3",style:{borderRadius:"0.75rem",background:S?"linear-gradient(135deg, var(--primary-500), var(--primary-600))":"rgba(255, 255, 255, 0.75)",borderColor:S?"var(--primary-500)":"rgba(255, 255, 255, 0.3)",color:S?"white":"var(--text-secondary)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",minWidth:t?"100%":"auto"},children:[e.jsx(Ce,{size:16}),!t&&u("transactions.filters.label"),t&&u(S?"transactions.filters.hide":"transactions.filters.show")]})]}),T&&e.jsx(Ie,{variant:"info",className:"mb-0 border-0 small",style:{background:"rgba(255, 255, 255, 0.6)",color:"var(--text-secondary)",borderRadius:"1.5rem",padding:t?"8px 12px":"12px 16px",border:"1px solid rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("span",{children:"🎯"}),e.jsxs("span",{children:[e.jsx("strong",{children:u("transactions.demoMode")})," - ",x.length,"/",R," ",u("transactions.transactions")]})]})}),e.jsx(ue,{children:S&&e.jsx(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3",children:e.jsxs("div",{className:`${t?"d-flex flex-column gap-2":"row g-2"}`,children:[e.jsx("div",{className:t?"w-100":"col-6",children:e.jsxs(ee.Select,{value:g,onChange:a=>p(a.target.value),className:"border-0 small",style:{borderRadius:"0.75rem",background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[e.jsx("option",{value:"all",children:u("transactions.filters.allTypes")}),e.jsx("option",{value:"income",children:u("income")}),e.jsx("option",{value:"expense",children:u("expense")})]})}),e.jsx("div",{className:t?"w-100":"col-6",children:e.jsxs(ee.Select,{value:L,onChange:a=>U(a.target.value),className:"border-0 small",style:{borderRadius:"0.75rem",background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[e.jsx("option",{value:"all",children:"Categorie"}),B.map(a=>e.jsx("option",{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a))]})})]})})})]})}),e.jsx("div",{className:"container",style:{paddingBottom:t?"100px":"40px",paddingTop:"20px"},children:E.length>0?e.jsx("div",{className:"mt-4",children:e.jsx(ue,{children:E.map((a,c)=>e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"mb-5",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3 mb-3",children:[e.jsx("div",{className:"flex-grow-1",style:{height:"2px",background:"rgba(0, 0, 0, 0.1)",borderRadius:"1px"}}),e.jsx("span",{className:"fw-medium px-3 py-1 timeline-date-badge",style:{background:"var(--timeline-date-bg, rgba(255,255,255,0.65))",color:"var(--timeline-date-color, var(--text-secondary))",borderRadius:"1rem",fontSize:"0.875rem",border:"1px solid var(--timeline-date-border, rgba(0,0,0,0.08))",backdropFilter:"blur(8px)"},children:a.displayDate}),e.jsx("div",{className:"flex-grow-1",style:{height:"2px",background:"rgba(0, 0, 0, 0.1)",borderRadius:"1px"}})]}),e.jsx("div",{className:"d-flex flex-column gap-3",children:a.transactions.map((l,j)=>e.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:j*.05},className:"d-flex align-items-center justify-content-between p-3 mb-2 rounded-3 transaction-card",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",cursor:"pointer",transition:"all 0.2s ease",minHeight:t?"70px":"60px"},onMouseEnter:m=>{m.currentTarget.style.background="rgba(255, 255, 255, 1)",m.currentTarget.style.transform="translateX(4px)",m.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.1)"},onMouseLeave:m=>{m.currentTarget.style.background="rgba(255, 255, 255, 0.95)",m.currentTarget.style.transform="translateX(0)",m.currentTarget.style.boxShadow=""},children:[e.jsxs("div",{className:"d-flex align-items-center gap-3 flex-grow-1",style:{minWidth:0},children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center flex-shrink-0",style:{width:t?"44px":"40px",height:t?"44px":"40px",backgroundColor:l.type==="income"?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)",color:l.type==="income"?"#22c55e":"#ef4444",fontSize:t?"18px":"16px"},children:l.type==="income"?"💰":y(l.category)}),t?e.jsxs("div",{className:"d-flex flex-column w-100",style:{gap:"2px"},children:[e.jsx("div",{className:"fw-semibold text-dark",style:{fontSize:"16px",lineHeight:"1.3",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word",marginBottom:"2px"},children:l.description}),e.jsxs("div",{className:"text-muted small d-flex align-items-center justify-content-between",style:{fontSize:"12px",marginBottom:"6px"},children:[e.jsx("span",{children:v(l.category)}),e.jsx("span",{style:{fontSize:"11px",opacity:.7},children:te(o(l)).locale(F.language).format(F.language==="it"?"DD MMM YYYY":"MMM DD, YYYY")})]}),e.jsxs("div",{className:"d-flex align-items-end justify-content-between mt-1",children:[e.jsxs("div",{className:"fw-bold",style:{fontSize:"17px",color:l.type==="income"?"#22c55e":"#ef4444",lineHeight:"1.2"},children:[l.type==="income"?"+":"-",le(l.amount)]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx(q,{variant:"link",size:"sm",onClick:m=>{m.stopPropagation(),Y(l)},className:"text-info p-1 d-flex align-items-center justify-content-center",style:{width:"26px",height:"26px",borderRadius:"7px",backgroundColor:"rgba(13, 202, 240, 0.08)",border:"1px solid rgba(13, 202, 240, 0.13)"},children:e.jsx(me,{size:12})}),e.jsx(q,{variant:"link",size:"sm",onClick:m=>{m.stopPropagation(),w(l.id)},className:"text-danger p-1 d-flex align-items-center justify-content-center",style:{width:"26px",height:"26px",borderRadius:"7px",backgroundColor:"rgba(239, 68, 68, 0.08)",border:"1px solid rgba(239, 68, 68, 0.13)"},children:e.jsx(pe,{size:12})})]})]})]}):e.jsxs("div",{className:"flex-grow-1",style:{minWidth:0,overflow:"hidden"},children:[e.jsx("div",{className:"fw-semibold text-dark mb-1",style:{fontSize:"14px",lineHeight:"1.3",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:l.description}),e.jsxs("div",{className:"text-muted small d-flex align-items-center gap-2",children:[e.jsx("span",{children:te(o(l)).locale(F.language).format(F.language==="it"?"DD MMM YYYY":"MMM DD, YYYY")}),e.jsx("span",{children:"•"}),e.jsx("span",{children:v(l.category)})]})]})]}),!t&&e.jsxs("div",{className:"d-flex align-items-center gap-2 flex-shrink-0",children:[e.jsxs("div",{className:"text-end",children:[e.jsxs("div",{className:"fw-bold",style:{fontSize:t?"16px":"15px",color:l.type==="income"?"#22c55e":"#ef4444",lineHeight:"1.2"},children:[l.type==="income"?"+":"-",le(l.amount)]}),t&&e.jsx("div",{className:"text-muted small",style:{fontSize:"10px"},children:te(o(l)).locale(F.language).format((F.language==="it","HH:mm"))})]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx(q,{variant:"link",size:"sm",onClick:m=>{m.stopPropagation(),Y(l)},className:"text-info p-1 d-flex align-items-center justify-content-center",style:{width:t?"32px":"28px",height:t?"32px":"28px",borderRadius:"8px",backgroundColor:"rgba(13, 202, 240, 0.1)",border:"1px solid rgba(13, 202, 240, 0.2)"},children:e.jsx(me,{size:t?14:12})}),e.jsx(q,{variant:"link",size:"sm",onClick:m=>{m.stopPropagation(),w(l.id)},className:"text-danger p-1 d-flex align-items-center justify-content-center",style:{width:t?"32px":"28px",height:t?"32px":"28px",borderRadius:"8px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:e.jsx(pe,{size:t?14:12})})]})]})]},l.id))})]},a.date.toISOString()))})}):e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-5",style:{marginTop:"3rem"},children:[e.jsx("div",{className:"mx-auto mb-4 rounded-circle d-flex align-items-center justify-content-center",style:{width:"120px",height:"120px",background:"rgba(255, 255, 255, 0.65)",border:"1px solid rgba(0, 0, 0, 0.08)",backdropFilter:"blur(8px)"},children:e.jsx("span",{style:{fontSize:"3rem"},children:"💳"})}),e.jsx("h3",{className:"text-dark fw-bold mb-2",children:u("transactions.empty.title")}),e.jsx("p",{className:"text-muted mb-4",children:u(A||L!=="all"||g!=="all"?"transactions.empty.tryFilters":"transactions.empty.addFirst")}),e.jsxs(q,{variant:"primary",size:"lg",onClick:()=>W(!0),disabled:T&&!k,className:"d-flex align-items-center gap-2 mx-auto",style:{background:"linear-gradient(135deg, var(--primary-500), var(--primary-600))",borderColor:"var(--primary-500)",borderRadius:"1.5rem",padding:"12px 24px",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:[e.jsx(ce,{size:20}),"Aggiungi Transazione"]})]})}),e.jsx(Ye,{show:oe||!!J,onClose:()=>{W(!1),Y(null)},transaction:J}),M&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.18)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(255,255,255,0.97) 0%, rgba(255,255,255,0.89) 100%)",borderRadius:"28px",boxShadow:"0 20px 40px rgba(0,0,0,0.18)",padding:"32px 28px",minWidth:"320px",maxWidth:"95vw",border:"1px solid rgba(0,0,0,0.08)",textAlign:"center"},children:[e.jsx("div",{className:"mb-3 fw-semibold",style:{fontSize:"1.1rem"},children:u("confirmDelete")}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"fw-bold text-dark mb-1",children:x.find(a=>a.id===M)?.description}),e.jsxs("div",{className:"text-muted small mb-1",children:[d(o(x.find(a=>a.id===M)))," • ",v(x.find(a=>a.id===M)?.category)]}),e.jsxs("div",{className:"fw-bold",style:{color:x.find(a=>a.id===M)?.type==="income"?"#198754":"#dc3545"},children:[x.find(a=>a.id===M)?.type==="income"?"+":"-",le(x.find(a=>a.id===M)?.amount)]})]}),e.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[e.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>P(null),style:{borderRadius:"16px",minWidth:"120px"},children:u("cancel")}),e.jsx("button",{className:"btn btn-danger",onClick:_,style:{borderRadius:"16px",minWidth:"180px"},children:u("transactions.deleteConfirm")})]})]})})]})};export{pt as default};
