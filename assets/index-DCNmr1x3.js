const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-u68qG4bn.js","assets/TransactionModal-COwawuaV.js","assets/categories-BgufHZlB.js","assets/Modal-SyrgkZuq.js","assets/useEventCallback-XqrTujS4.js","assets/Col-CnkjMeCY.js","assets/Form-B_oNmvwT.js","assets/Row-C_BR9QAy.js","assets/formatCurrency-DQxE0pTn.js","assets/Card-Bt_fe03c.js","assets/hook-BULXEYgS.js","assets/TransactionList-D1p-DTY-.js","assets/format-CrPPGQr8.js","assets/endOfWeek-BovlL6-H.js","assets/Alert-xX_BZNvl.js","assets/it-DBO_pyXn.js","assets/TransactionAnalytics-cZUxP8uU.js","assets/Stats-ym2KgibC.js","assets/loadingWrapper-Ck70ht-r.js","assets/Profile-BtlN7qUw.js","assets/Home-DVvrXBFO.js","assets/LandingPage-DiqSEHVU.js","assets/Login-DkEptWwl.js","assets/Register-B6Xp9XpS.js"])))=>i.map(i=>d[i]);
function ZA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var yj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oa(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ip={exports:{}},zl={},Pp={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function ex(){if(Z0)return Ne;Z0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=y&&U[y]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,x={};function A(U,Q,pe){this.props=U,this.context=Q,this.refs=x,this.updater=pe||S}A.prototype.isReactComponent={},A.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},A.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=A.prototype;function j(U,Q,pe){this.props=U,this.context=Q,this.refs=x,this.updater=pe||S}var z=j.prototype=new F;z.constructor=j,P(z,A.prototype),z.isPureReactComponent=!0;var G=Array.isArray,te=Object.prototype.hasOwnProperty,ie={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function C(U,Q,pe){var Re,De={},Fe=null,$e=null;if(Q!=null)for(Re in Q.ref!==void 0&&($e=Q.ref),Q.key!==void 0&&(Fe=""+Q.key),Q)te.call(Q,Re)&&!N.hasOwnProperty(Re)&&(De[Re]=Q[Re]);var We=arguments.length-2;if(We===1)De.children=pe;else if(1<We){for(var Qe=Array(We),kt=0;kt<We;kt++)Qe[kt]=arguments[kt+2];De.children=Qe}if(U&&U.defaultProps)for(Re in We=U.defaultProps,We)De[Re]===void 0&&(De[Re]=We[Re]);return{$$typeof:n,type:U,key:Fe,ref:$e,props:De,_owner:ie.current}}function k(U,Q){return{$$typeof:n,type:U.type,key:Q,ref:U.ref,props:U.props,_owner:U._owner}}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(pe){return Q[pe]})}var B=/\/+/g;function b(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):Q.toString(36)}function Le(U,Q,pe,Re,De){var Fe=typeof U;(Fe==="undefined"||Fe==="boolean")&&(U=null);var $e=!1;if(U===null)$e=!0;else switch(Fe){case"string":case"number":$e=!0;break;case"object":switch(U.$$typeof){case n:case e:$e=!0}}if($e)return $e=U,De=De($e),U=Re===""?"."+b($e,0):Re,G(De)?(pe="",U!=null&&(pe=U.replace(B,"$&/")+"/"),Le(De,Q,pe,"",function(kt){return kt})):De!=null&&(L(De)&&(De=k(De,pe+(!De.key||$e&&$e.key===De.key?"":(""+De.key).replace(B,"$&/")+"/")+U)),Q.push(De)),1;if($e=0,Re=Re===""?".":Re+":",G(U))for(var We=0;We<U.length;We++){Fe=U[We];var Qe=Re+b(Fe,We);$e+=Le(Fe,Q,pe,Qe,De)}else if(Qe=w(U),typeof Qe=="function")for(U=Qe.call(U),We=0;!(Fe=U.next()).done;)Fe=Fe.value,Qe=Re+b(Fe,We++),$e+=Le(Fe,Q,pe,Qe,De);else if(Fe==="object")throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return $e}function yt(U,Q,pe){if(U==null)return U;var Re=[],De=0;return Le(U,Re,"","",function(Fe){return Q.call(pe,Fe,De++)}),Re}function Ke(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(pe){(U._status===0||U._status===-1)&&(U._status=1,U._result=pe)},function(pe){(U._status===0||U._status===-1)&&(U._status=2,U._result=pe)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var ve={current:null},re={transition:null},fe={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:re,ReactCurrentOwner:ie};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:yt,forEach:function(U,Q,pe){yt(U,function(){Q.apply(this,arguments)},pe)},count:function(U){var Q=0;return yt(U,function(){Q++}),Q},toArray:function(U){return yt(U,function(Q){return Q})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ne.Component=A,Ne.Fragment=t,Ne.Profiler=i,Ne.PureComponent=j,Ne.StrictMode=r,Ne.Suspense=d,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ne.act=ae,Ne.cloneElement=function(U,Q,pe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Re=P({},U.props),De=U.key,Fe=U.ref,$e=U._owner;if(Q!=null){if(Q.ref!==void 0&&(Fe=Q.ref,$e=ie.current),Q.key!==void 0&&(De=""+Q.key),U.type&&U.type.defaultProps)var We=U.type.defaultProps;for(Qe in Q)te.call(Q,Qe)&&!N.hasOwnProperty(Qe)&&(Re[Qe]=Q[Qe]===void 0&&We!==void 0?We[Qe]:Q[Qe])}var Qe=arguments.length-2;if(Qe===1)Re.children=pe;else if(1<Qe){We=Array(Qe);for(var kt=0;kt<Qe;kt++)We[kt]=arguments[kt+2];Re.children=We}return{$$typeof:n,type:U.type,key:De,ref:Fe,props:Re,_owner:$e}},Ne.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ne.createElement=C,Ne.createFactory=function(U){var Q=C.bind(null,U);return Q.type=U,Q},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:c,render:U}},Ne.isValidElement=L,Ne.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:Ke}},Ne.memo=function(U,Q){return{$$typeof:p,type:U,compare:Q===void 0?null:Q}},Ne.startTransition=function(U){var Q=re.transition;re.transition={};try{U()}finally{re.transition=Q}},Ne.unstable_act=ae,Ne.useCallback=function(U,Q){return ve.current.useCallback(U,Q)},Ne.useContext=function(U){return ve.current.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U){return ve.current.useDeferredValue(U)},Ne.useEffect=function(U,Q){return ve.current.useEffect(U,Q)},Ne.useId=function(){return ve.current.useId()},Ne.useImperativeHandle=function(U,Q,pe){return ve.current.useImperativeHandle(U,Q,pe)},Ne.useInsertionEffect=function(U,Q){return ve.current.useInsertionEffect(U,Q)},Ne.useLayoutEffect=function(U,Q){return ve.current.useLayoutEffect(U,Q)},Ne.useMemo=function(U,Q){return ve.current.useMemo(U,Q)},Ne.useReducer=function(U,Q,pe){return ve.current.useReducer(U,Q,pe)},Ne.useRef=function(U){return ve.current.useRef(U)},Ne.useState=function(U){return ve.current.useState(U)},Ne.useSyncExternalStore=function(U,Q,pe){return ve.current.useSyncExternalStore(U,Q,pe)},Ne.useTransition=function(){return ve.current.useTransition()},Ne.version="18.3.1",Ne}var e_;function pg(){return e_||(e_=1,Pp.exports=ex()),Pp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function tx(){if(t_)return zl;t_=1;var n=pg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var g,y={},w=null,S=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:c,key:w,ref:S,props:y,_owner:i.current}}return zl.Fragment=t,zl.jsx=l,zl.jsxs=l,zl}var n_;function nx(){return n_||(n_=1,Ip.exports=tx()),Ip.exports}var J=nx(),hh={},Cp={exports:{}},mn={},Ap={exports:{}},xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function rx(){return r_||(r_=1,function(n){function e(re,fe){var ae=re.length;re.push(fe);e:for(;0<ae;){var U=ae-1>>>1,Q=re[U];if(0<i(Q,fe))re[U]=fe,re[ae]=Q,ae=U;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var fe=re[0],ae=re.pop();if(ae!==fe){re[0]=ae;e:for(var U=0,Q=re.length,pe=Q>>>1;U<pe;){var Re=2*(U+1)-1,De=re[Re],Fe=Re+1,$e=re[Fe];if(0>i(De,ae))Fe<Q&&0>i($e,De)?(re[U]=$e,re[Fe]=ae,U=Fe):(re[U]=De,re[Re]=ae,U=Re);else if(Fe<Q&&0>i($e,ae))re[U]=$e,re[Fe]=ae,U=Fe;else break e}}return fe}function i(re,fe){var ae=re.sortIndex-fe.sortIndex;return ae!==0?ae:re.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],p=[],g=1,y=null,w=3,S=!1,P=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(re){for(var fe=t(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=re)r(p),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(p)}}function G(re){if(x=!1,z(re),!P)if(t(d)!==null)P=!0,Ke(te);else{var fe=t(p);fe!==null&&ve(G,fe.startTime-re)}}function te(re,fe){P=!1,x&&(x=!1,F(C),C=-1),S=!0;var ae=w;try{for(z(fe),y=t(d);y!==null&&(!(y.expirationTime>fe)||re&&!M());){var U=y.callback;if(typeof U=="function"){y.callback=null,w=y.priorityLevel;var Q=U(y.expirationTime<=fe);fe=n.unstable_now(),typeof Q=="function"?y.callback=Q:y===t(d)&&r(d),z(fe)}else r(d);y=t(d)}if(y!==null)var pe=!0;else{var Re=t(p);Re!==null&&ve(G,Re.startTime-fe),pe=!1}return pe}finally{y=null,w=ae,S=!1}}var ie=!1,N=null,C=-1,k=5,L=-1;function M(){return!(n.unstable_now()-L<k)}function B(){if(N!==null){var re=n.unstable_now();L=re;var fe=!0;try{fe=N(!0,re)}finally{fe?b():(ie=!1,N=null)}}else ie=!1}var b;if(typeof j=="function")b=function(){j(B)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,yt=Le.port2;Le.port1.onmessage=B,b=function(){yt.postMessage(null)}}else b=function(){A(B,0)};function Ke(re){N=re,ie||(ie=!0,b())}function ve(re,fe){C=A(function(){re(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){P||S||(P=!0,Ke(te))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(re){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var ae=w;w=fe;try{return re()}finally{w=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,fe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=w;w=re;try{return fe()}finally{w=ae}},n.unstable_scheduleCallback=function(re,fe,ae){var U=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ae+Q,re={id:g++,callback:fe,priorityLevel:re,startTime:ae,expirationTime:Q,sortIndex:-1},ae>U?(re.sortIndex=ae,e(p,re),t(d)===null&&re===t(p)&&(x?(F(C),C=-1):x=!0,ve(G,ae-U))):(re.sortIndex=Q,e(d,re),P||S||(P=!0,Ke(te))),re},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(re){var fe=w;return function(){var ae=w;w=fe;try{return re.apply(this,arguments)}finally{w=ae}}}}(xp)),xp}var i_;function ix(){return i_||(i_=1,Ap.exports=rx()),Ap.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function sx(){if(s_)return mn;s_=1;var n=pg(),e=ix();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(s){return d.call(y,s)?!0:d.call(g,s)?!1:p.test(s)?y[s]=!0:(g[s]=!0,!1)}function S(s,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,o,u,f){if(o===null||typeof o>"u"||S(s,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(s,o,u,f,m,_,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=T}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];A[o]=new x(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(F,j);A[o]=new x(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(F,j);A[o]=new x(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(F,j);A[o]=new x(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,o,u,f){var m=A.hasOwnProperty(o)?A[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,m,f)&&(u=null),f||m===null?w(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,o,u):s.setAttribute(o,u))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),ie=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),re=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,U;function Q(s){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+s}var pe=!1;function Re(s,o){if(!s||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var f=q}Reflect.construct(s,[],o)}else{try{o.call()}catch(q){f=q}s.call(o.prototype)}else{try{throw Error()}catch(q){f=q}s()}}catch(q){if(q&&f&&typeof q.stack=="string"){for(var m=q.stack.split(`
`),_=f.stack.split(`
`),T=m.length-1,R=_.length-1;1<=T&&0<=R&&m[T]!==_[R];)R--;for(;1<=T&&0<=R;T--,R--)if(m[T]!==_[R]){if(T!==1||R!==1)do if(T--,R--,0>R||m[T]!==_[R]){var O=`
`+m[T].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=T&&0<=R);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Q(s):""}function De(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=Re(s.type,!1),s;case 11:return s=Re(s.type.render,!1),s;case 1:return s=Re(s.type,!0),s;default:return""}}function Fe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case ie:return"Portal";case k:return"Profiler";case C:return"StrictMode";case b:return"Suspense";case Le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case B:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case yt:return o=s.displayName||null,o!==null?o:Fe(s.type)||"Memo";case Ke:o=s._payload,s=s._init;try{return Fe(s(o))}catch{}}return null}function $e(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function We(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kt(s){var o=Qe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Dr(s){s._valueTracker||(s._valueTracker=kt(s))}function po(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=Qe(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function di(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ms(s,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function mo(s,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=We(o.value!=null?o.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ga(s,o){o=o.checked,o!=null&&z(s,"checked",o,!1)}function Qa(s,o){Ga(s,o);var u=We(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?go(s,o.type,u):o.hasOwnProperty("defaultValue")&&go(s,o.type,We(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Yu(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function go(s,o,u){(o!=="number"||di(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Nr=Array.isArray;function Lr(s,o,u,f){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+We(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ya(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function yo(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Nr(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:We(u)}}function vo(s,o){var u=We(o.value),f=We(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function Xa(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function It(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?It(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Or,Ja=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,f,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Or.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function fi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ys=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(s){ys.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),gs[o]=gs[s]})});function Za(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||gs.hasOwnProperty(s)&&gs[s]?(""+o).trim():o+"px"}function el(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Za(u,o[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var tl=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nl(s,o){if(o){if(tl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function rl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vs=null;function _o(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var wo=null,xn=null,cr=null;function Eo(s){if(s=Al(s)){if(typeof wo!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Cc(o),wo(s.stateNode,s.type,o))}}function hr(s){xn?cr?cr.push(s):cr=[s]:xn=s}function il(){if(xn){var s=xn,o=cr;if(cr=xn=null,Eo(s),o)for(s=0;s<o.length;s++)Eo(o[s])}}function _s(s,o){return s(o)}function sl(){}var Vr=!1;function ol(s,o,u){if(Vr)return s(o,u);Vr=!0;try{return _s(s,o,u)}finally{Vr=!1,(xn!==null||cr!==null)&&(sl(),il())}}function dt(s,o){var u=s.stateNode;if(u===null)return null;var f=Cc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var To=!1;if(c)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){To=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{To=!1}function ws(s,o,u,f,m,_,T,R,O){var q=Array.prototype.slice.call(arguments,3);try{o.apply(u,q)}catch(ee){this.onError(ee)}}var Es=!1,So=null,Hn=!1,al=null,Xd={onError:function(s){Es=!0,So=s}};function Io(s,o,u,f,m,_,T,R,O){Es=!1,So=null,ws.apply(Xd,arguments)}function Xu(s,o,u,f,m,_,T,R,O){if(Io.apply(this,arguments),Es){if(Es){var q=So;Es=!1,So=null}else throw Error(t(198));Hn||(Hn=!0,al=q)}}function qn(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Ts(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Kn(s){if(qn(s)!==s)throw Error(t(188))}function Ju(s){var o=s.alternate;if(!o){if(o=qn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,f=o;;){var m=u.return;if(m===null)break;var _=m.alternate;if(_===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===u)return Kn(m),s;if(_===f)return Kn(m),o;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=_;else{for(var T=!1,R=m.child;R;){if(R===u){T=!0,u=m,f=_;break}if(R===f){T=!0,f=m,u=_;break}R=R.sibling}if(!T){for(R=_.child;R;){if(R===u){T=!0,u=_,f=m;break}if(R===f){T=!0,f=_,u=m;break}R=R.sibling}if(!T)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function ll(s){return s=Ju(s),s!==null?Po(s):null}function Po(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Po(s);if(o!==null)return o;s=s.sibling}return null}var Co=e.unstable_scheduleCallback,ul=e.unstable_cancelCallback,Zu=e.unstable_shouldYield,Jd=e.unstable_requestPaint,Ye=e.unstable_now,ec=e.unstable_getCurrentPriorityLevel,Ss=e.unstable_ImmediatePriority,pi=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,cl=e.unstable_LowPriority,tc=e.unstable_IdlePriority,Is=null,vn=null;function nc(s){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Is,s,void 0,(s.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:ic,hl=Math.log,rc=Math.LN2;function ic(s){return s>>>=0,s===0?32:31-(hl(s)/rc|0)|0}var Ao=64,xo=4194304;function mi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ps(s,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,_=s.pingedLanes,T=u&268435455;if(T!==0){var R=T&~m;R!==0?f=mi(R):(_&=T,_!==0&&(f=mi(_)))}else T=u&~m,T!==0?f=mi(T):_!==0&&(f=mi(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,_=o&-o,m>=_||m===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)u=31-tn(o),m=1<<u,f|=s[u],o&=~m;return f}function Zd(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes;0<_;){var T=31-tn(_),R=1<<T,O=m[T];O===-1?((R&u)===0||(R&f)!==0)&&(m[T]=Zd(R,o)):O<=o&&(s.expiredLanes|=R),_&=~R}}function _n(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Cs(){var s=Ao;return Ao<<=1,(Ao&4194240)===0&&(Ao=64),s}function gi(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function yi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-tn(o),s[o]=u}function Ge(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-tn(u),_=1<<m;o[m]=0,f[m]=-1,s[m]=-1,u&=~_}}function vi(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-tn(u),m=1<<f;m&o|s[f]&o&&(s[f]|=o),u&=~m}}var Me=0;function _i(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var sc,Ro,oc,ac,lc,dl=!1,dr=[],Vt=null,Gn=null,Qn=null,wi=new Map,kn=new Map,fr=[],ef="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(s,o){switch(s){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":wi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(o.pointerId)}}function ln(s,o,u,f,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[m]},o!==null&&(o=Al(o),o!==null&&Ro(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function tf(s,o,u,f,m){switch(o){case"focusin":return Vt=ln(Vt,s,o,u,f,m),!0;case"dragenter":return Gn=ln(Gn,s,o,u,f,m),!0;case"mouseover":return Qn=ln(Qn,s,o,u,f,m),!0;case"pointerover":var _=m.pointerId;return wi.set(_,ln(wi.get(_)||null,s,o,u,f,m)),!0;case"gotpointercapture":return _=m.pointerId,kn.set(_,ln(kn.get(_)||null,s,o,u,f,m)),!0}return!1}function cc(s){var o=bs(s.target);if(o!==null){var u=qn(o);if(u!==null){if(o=u.tag,o===13){if(o=Ts(u),o!==null){s.blockedOn=o,lc(s.priority,function(){oc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Fr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=ko(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);vs=f,u.target.dispatchEvent(f),vs=null}else return o=Al(u),o!==null&&Ro(o),s.blockedOn=u,!1;o.shift()}return!0}function As(s,o,u){Fr(s)&&u.delete(o)}function hc(){dl=!1,Vt!==null&&Fr(Vt)&&(Vt=null),Gn!==null&&Fr(Gn)&&(Gn=null),Qn!==null&&Fr(Qn)&&(Qn=null),wi.forEach(As),kn.forEach(As)}function Yn(s,o){s.blockedOn===o&&(s.blockedOn=null,dl||(dl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hc)))}function Xn(s){function o(m){return Yn(m,s)}if(0<dr.length){Yn(dr[0],s);for(var u=1;u<dr.length;u++){var f=dr[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Vt!==null&&Yn(Vt,s),Gn!==null&&Yn(Gn,s),Qn!==null&&Yn(Qn,s),wi.forEach(o),kn.forEach(o),u=0;u<fr.length;u++)f=fr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<fr.length&&(u=fr[0],u.blockedOn===null);)cc(u),u.blockedOn===null&&fr.shift()}var Ur=G.ReactCurrentBatchConfig,Ei=!0;function rt(s,o,u,f){var m=Me,_=Ur.transition;Ur.transition=null;try{Me=1,fl(s,o,u,f)}finally{Me=m,Ur.transition=_}}function nf(s,o,u,f){var m=Me,_=Ur.transition;Ur.transition=null;try{Me=4,fl(s,o,u,f)}finally{Me=m,Ur.transition=_}}function fl(s,o,u,f){if(Ei){var m=ko(s,o,u,f);if(m===null)pf(s,o,f,xs,u),uc(s,f);else if(tf(m,s,o,u,f))f.stopPropagation();else if(uc(s,f),o&4&&-1<ef.indexOf(s)){for(;m!==null;){var _=Al(m);if(_!==null&&sc(_),_=ko(s,o,u,f),_===null&&pf(s,o,f,xs,u),_===m)break;m=_}m!==null&&f.stopPropagation()}else pf(s,o,f,null,u)}}var xs=null;function ko(s,o,u,f){if(xs=null,s=_o(f),s=bs(s),s!==null)if(o=qn(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Ts(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return xs=s,null}function pl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case Ss:return 1;case pi:return 4;case Rn:case cl:return 16;case tc:return 536870912;default:return 16}default:return 16}}var wn=null,bo=null,un=null;function ml(){if(un)return un;var s,o=bo,u=o.length,f,m="value"in wn?wn.value:wn.textContent,_=m.length;for(s=0;s<u&&o[s]===m[s];s++);var T=u-s;for(f=1;f<=T&&o[u-f]===m[_-f];f++);return un=m.slice(s,1<f?1-f:void 0)}function Do(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function pr(){return!0}function gl(){return!1}function Mt(s){function o(u,f,m,_,T){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(u=s[R],this[R]=u?u(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?pr:gl,this.isPropagationStopped=gl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),o}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=Mt(Jn),mr=ae({},Jn,{view:0,detail:0}),rf=Mt(mr),Lo,jr,Ti,Rs=ae({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ti&&(Ti&&s.type==="mousemove"?(Lo=s.screenX-Ti.screenX,jr=s.screenY-Ti.screenY):jr=Lo=0,Ti=s),Lo)},movementY:function(s){return"movementY"in s?s.movementY:jr}}),Oo=Mt(Rs),yl=ae({},Rs,{dataTransfer:0}),dc=Mt(yl),Vo=ae({},mr,{relatedTarget:0}),Mo=Mt(Vo),fc=ae({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Br=Mt(fc),pc=ae({},Jn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mc=Mt(pc),gc=ae({},Jn,{data:0}),vl=Mt(gc),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=yc[s])?!!o[s]:!1}function gr(){return vc}var h=ae({},mr,{key:function(s){if(s.key){var o=Fo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Do(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(s){return s.type==="keypress"?Do(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Do(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Mt(h),E=ae({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Mt(E),$=ae({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),K=Mt($),oe=ae({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Mt(oe),Ct=ae({},Rs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Mt(Ct),bt=[9,13,27,32],vt=c&&"CompositionEvent"in window,bn=null;c&&"documentMode"in document&&(bn=document.documentMode);var En=c&&"TextEvent"in window&&!bn,ks=c&&(!vt||bn&&8<bn&&11>=bn),Uo=" ",Ky=!1;function Gy(s,o){switch(s){case"keyup":return bt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var jo=!1;function YC(s,o){switch(s){case"compositionend":return Qy(o);case"keypress":return o.which!==32?null:(Ky=!0,Uo);case"textInput":return s=o.data,s===Uo&&Ky?null:s;default:return null}}function XC(s,o){if(jo)return s==="compositionend"||!vt&&Gy(s,o)?(s=ml(),un=bo=wn=null,jo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ks&&o.locale!=="ko"?null:o.data;default:return null}}var JC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!JC[s.type]:o==="textarea"}function Xy(s,o,u,f){hr(f),o=Sc(o,"onChange"),0<o.length&&(u=new No("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var _l=null,wl=null;function ZC(s){mv(s,0)}function _c(s){var o=Ho(s);if(po(o))return s}function eA(s,o){if(s==="change")return o}var Jy=!1;if(c){var sf;if(c){var of="oninput"in document;if(!of){var Zy=document.createElement("div");Zy.setAttribute("oninput","return;"),of=typeof Zy.oninput=="function"}sf=of}else sf=!1;Jy=sf&&(!document.documentMode||9<document.documentMode)}function ev(){_l&&(_l.detachEvent("onpropertychange",tv),wl=_l=null)}function tv(s){if(s.propertyName==="value"&&_c(wl)){var o=[];Xy(o,wl,s,_o(s)),ol(ZC,o)}}function tA(s,o,u){s==="focusin"?(ev(),_l=o,wl=u,_l.attachEvent("onpropertychange",tv)):s==="focusout"&&ev()}function nA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _c(wl)}function rA(s,o){if(s==="click")return _c(o)}function iA(s,o){if(s==="input"||s==="change")return _c(o)}function sA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Zn=typeof Object.is=="function"?Object.is:sA;function El(s,o){if(Zn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(o,m)||!Zn(s[m],o[m]))return!1}return!0}function nv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function rv(s,o){var u=nv(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=nv(u)}}function iv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?iv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function sv(){for(var s=window,o=di();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=di(s.document)}return o}function af(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function oA(s){var o=sv(),u=s.focusedElem,f=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&iv(u.ownerDocument.documentElement,u)){if(f!==null&&af(u)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,_=Math.min(f.start,m);f=f.end===void 0?_:Math.min(f.end,m),!s.extend&&_>f&&(m=f,f=_,_=m),m=rv(u,_);var T=rv(u,f);m&&T&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),_>f?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var aA=c&&"documentMode"in document&&11>=document.documentMode,Bo=null,lf=null,Tl=null,uf=!1;function ov(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;uf||Bo==null||Bo!==di(f)||(f=Bo,"selectionStart"in f&&af(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Tl&&El(Tl,f)||(Tl=f,f=Sc(lf,"onSelect"),0<f.length&&(o=new No("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=Bo)))}function wc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var zo={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},cf={},av={};c&&(av=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Ec(s){if(cf[s])return cf[s];if(!zo[s])return s;var o=zo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in av)return cf[s]=o[u];return s}var lv=Ec("animationend"),uv=Ec("animationiteration"),cv=Ec("animationstart"),hv=Ec("transitionend"),dv=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(s,o){dv.set(s,o),a(o,[s])}for(var hf=0;hf<fv.length;hf++){var df=fv[hf],lA=df.toLowerCase(),uA=df[0].toUpperCase()+df.slice(1);Si(lA,"on"+uA)}Si(lv,"onAnimationEnd"),Si(uv,"onAnimationIteration"),Si(cv,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(hv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function pv(s,o,u){var f=s.type||"unknown-event";s.currentTarget=u,Xu(f,o,void 0,s),s.currentTarget=null}function mv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var T=f.length-1;0<=T;T--){var R=f[T],O=R.instance,q=R.currentTarget;if(R=R.listener,O!==_&&m.isPropagationStopped())break e;pv(m,R,q),_=O}else for(T=0;T<f.length;T++){if(R=f[T],O=R.instance,q=R.currentTarget,R=R.listener,O!==_&&m.isPropagationStopped())break e;pv(m,R,q),_=O}}}if(Hn)throw s=al,Hn=!1,al=null,s}function Ze(s,o){var u=o[wf];u===void 0&&(u=o[wf]=new Set);var f=s+"__bubble";u.has(f)||(gv(o,s,2,!1),u.add(f))}function ff(s,o,u){var f=0;o&&(f|=4),gv(u,s,f,o)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Il(s){if(!s[Tc]){s[Tc]=!0,r.forEach(function(u){u!=="selectionchange"&&(cA.has(u)||ff(u,!1,s),ff(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Tc]||(o[Tc]=!0,ff("selectionchange",!1,o))}}function gv(s,o,u,f){switch(pl(o)){case 1:var m=rt;break;case 4:m=nf;break;default:m=fl}u=m.bind(null,o,u,s),m=void 0,!To||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function pf(s,o,u,f,m){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var R=f.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(T===4)for(T=f.return;T!==null;){var O=T.tag;if((O===3||O===4)&&(O=T.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;T=T.return}for(;R!==null;){if(T=bs(R),T===null)return;if(O=T.tag,O===5||O===6){f=_=T;continue e}R=R.parentNode}}f=f.return}ol(function(){var q=_,ee=_o(u),ne=[];e:{var Z=dv.get(s);if(Z!==void 0){var ue=No,de=s;switch(s){case"keypress":if(Do(u)===0)break e;case"keydown":case"keyup":ue=v;break;case"focusin":de="focus",ue=Mo;break;case"focusout":de="blur",ue=Mo;break;case"beforeblur":case"afterblur":ue=Mo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=K;break;case lv:case uv:case cv:ue=Br;break;case hv:ue=qe;break;case"scroll":ue=rf;break;case"wheel":ue=Ue;break;case"copy":case"cut":case"paste":ue=mc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var me=(o&4)!==0,ft=!me&&s==="scroll",W=me?Z!==null?Z+"Capture":null:Z;me=[];for(var V=q,H;V!==null;){H=V;var se=H.stateNode;if(H.tag===5&&se!==null&&(H=se,W!==null&&(se=dt(V,W),se!=null&&me.push(Pl(V,se,H)))),ft)break;V=V.return}0<me.length&&(Z=new ue(Z,de,null,u,ee),ne.push({event:Z,listeners:me}))}}if((o&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",Z&&u!==vs&&(de=u.relatedTarget||u.fromElement)&&(bs(de)||de[zr]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(de=u.relatedTarget||u.toElement,ue=q,de=de?bs(de):null,de!==null&&(ft=qn(de),de!==ft||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=q),ue!==de)){if(me=Oo,se="onMouseLeave",W="onMouseEnter",V="mouse",(s==="pointerout"||s==="pointerover")&&(me=I,se="onPointerLeave",W="onPointerEnter",V="pointer"),ft=ue==null?Z:Ho(ue),H=de==null?Z:Ho(de),Z=new me(se,V+"leave",ue,u,ee),Z.target=ft,Z.relatedTarget=H,se=null,bs(ee)===q&&(me=new me(W,V+"enter",de,u,ee),me.target=H,me.relatedTarget=ft,se=me),ft=se,ue&&de)t:{for(me=ue,W=de,V=0,H=me;H;H=$o(H))V++;for(H=0,se=W;se;se=$o(se))H++;for(;0<V-H;)me=$o(me),V--;for(;0<H-V;)W=$o(W),H--;for(;V--;){if(me===W||W!==null&&me===W.alternate)break t;me=$o(me),W=$o(W)}me=null}else me=null;ue!==null&&yv(ne,Z,ue,me,!1),de!==null&&ft!==null&&yv(ne,ft,de,me,!0)}}e:{if(Z=q?Ho(q):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var ge=eA;else if(Yy(Z))if(Jy)ge=iA;else{ge=nA;var _e=tA}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ge=rA);if(ge&&(ge=ge(s,q))){Xy(ne,ge,u,ee);break e}_e&&_e(s,Z,q),s==="focusout"&&(_e=Z._wrapperState)&&_e.controlled&&Z.type==="number"&&go(Z,"number",Z.value)}switch(_e=q?Ho(q):window,s){case"focusin":(Yy(_e)||_e.contentEditable==="true")&&(Bo=_e,lf=q,Tl=null);break;case"focusout":Tl=lf=Bo=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,ov(ne,u,ee);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":ov(ne,u,ee)}var we;if(vt)e:{switch(s){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else jo?Gy(s,u)&&(Ie="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ie="onCompositionStart");Ie&&(ks&&u.locale!=="ko"&&(jo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&jo&&(we=ml()):(wn=ee,bo="value"in wn?wn.value:wn.textContent,jo=!0)),_e=Sc(q,Ie),0<_e.length&&(Ie=new vl(Ie,s,null,u,ee),ne.push({event:Ie,listeners:_e}),we?Ie.data=we:(we=Qy(u),we!==null&&(Ie.data=we)))),(we=En?YC(s,u):XC(s,u))&&(q=Sc(q,"onBeforeInput"),0<q.length&&(ee=new vl("onBeforeInput","beforeinput",null,u,ee),ne.push({event:ee,listeners:q}),ee.data=we))}mv(ne,o)})}function Pl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Sc(s,o){for(var u=o+"Capture",f=[];s!==null;){var m=s,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=dt(s,u),_!=null&&f.unshift(Pl(s,_,m)),_=dt(s,o),_!=null&&f.push(Pl(s,_,m))),s=s.return}return f}function $o(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function yv(s,o,u,f,m){for(var _=o._reactName,T=[];u!==null&&u!==f;){var R=u,O=R.alternate,q=R.stateNode;if(O!==null&&O===f)break;R.tag===5&&q!==null&&(R=q,m?(O=dt(u,_),O!=null&&T.unshift(Pl(u,O,R))):m||(O=dt(u,_),O!=null&&T.push(Pl(u,O,R)))),u=u.return}T.length!==0&&s.push({event:o,listeners:T})}var hA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function vv(s){return(typeof s=="string"?s:""+s).replace(hA,`
`).replace(dA,"")}function Ic(s,o,u){if(o=vv(o),vv(s)!==o&&u)throw Error(t(425))}function Pc(){}var mf=null,gf=null;function yf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var vf=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(s){return _v.resolve(null).then(s).catch(mA)}:vf;function mA(s){setTimeout(function(){throw s})}function _f(s,o){var u=o,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),Xn(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Xn(o)}function Ii(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function wv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),yr="__reactFiber$"+Wo,Cl="__reactProps$"+Wo,zr="__reactContainer$"+Wo,wf="__reactEvents$"+Wo,gA="__reactListeners$"+Wo,yA="__reactHandles$"+Wo;function bs(s){var o=s[yr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[zr]||u[yr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=wv(s);s!==null;){if(u=s[yr])return u;s=wv(s)}return o}s=u,u=s.parentNode}return null}function Al(s){return s=s[yr]||s[zr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ho(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Cc(s){return s[Cl]||null}var Ef=[],qo=-1;function Pi(s){return{current:s}}function et(s){0>qo||(s.current=Ef[qo],Ef[qo]=null,qo--)}function Xe(s,o){qo++,Ef[qo]=s.current,s.current=o}var Ci={},Wt=Pi(Ci),cn=Pi(!1),Ds=Ci;function Ko(s,o){var u=s.type.contextTypes;if(!u)return Ci;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in u)m[_]=o[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function hn(s){return s=s.childContextTypes,s!=null}function Ac(){et(cn),et(Wt)}function Ev(s,o,u){if(Wt.current!==Ci)throw Error(t(168));Xe(Wt,o),Xe(cn,u)}function Tv(s,o,u){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,$e(s)||"Unknown",m));return ae({},u,f)}function xc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ci,Ds=Wt.current,Xe(Wt,s),Xe(cn,cn.current),!0}function Sv(s,o,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=Tv(s,o,Ds),f.__reactInternalMemoizedMergedChildContext=s,et(cn),et(Wt),Xe(Wt,s)):et(cn),Xe(cn,u)}var $r=null,Rc=!1,Tf=!1;function Iv(s){$r===null?$r=[s]:$r.push(s)}function vA(s){Rc=!0,Iv(s)}function Ai(){if(!Tf&&$r!==null){Tf=!0;var s=0,o=Me;try{var u=$r;for(Me=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}$r=null,Rc=!1}catch(m){throw $r!==null&&($r=$r.slice(s+1)),Co(Ss,Ai),m}finally{Me=o,Tf=!1}}return null}var Go=[],Qo=0,kc=null,bc=0,Dn=[],Nn=0,Ns=null,Wr=1,Hr="";function Ls(s,o){Go[Qo++]=bc,Go[Qo++]=kc,kc=s,bc=o}function Pv(s,o,u){Dn[Nn++]=Wr,Dn[Nn++]=Hr,Dn[Nn++]=Ns,Ns=s;var f=Wr;s=Hr;var m=32-tn(f)-1;f&=~(1<<m),u+=1;var _=32-tn(o)+m;if(30<_){var T=m-m%5;_=(f&(1<<T)-1).toString(32),f>>=T,m-=T,Wr=1<<32-tn(o)+m|u<<m|f,Hr=_+s}else Wr=1<<_|u<<m|f,Hr=s}function Sf(s){s.return!==null&&(Ls(s,1),Pv(s,1,0))}function If(s){for(;s===kc;)kc=Go[--Qo],Go[Qo]=null,bc=Go[--Qo],Go[Qo]=null;for(;s===Ns;)Ns=Dn[--Nn],Dn[Nn]=null,Hr=Dn[--Nn],Dn[Nn]=null,Wr=Dn[--Nn],Dn[Nn]=null}var Tn=null,Sn=null,it=!1,er=null;function Cv(s,o){var u=Mn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Av(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Tn=s,Sn=Ii(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Tn=s,Sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ns!==null?{id:Wr,overflow:Hr}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Mn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Tn=s,Sn=null,!0):!1;default:return!1}}function Pf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Cf(s){if(it){var o=Sn;if(o){var u=o;if(!Av(s,o)){if(Pf(s))throw Error(t(418));o=Ii(u.nextSibling);var f=Tn;o&&Av(s,o)?Cv(f,u):(s.flags=s.flags&-4097|2,it=!1,Tn=s)}}else{if(Pf(s))throw Error(t(418));s.flags=s.flags&-4097|2,it=!1,Tn=s}}}function xv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Tn=s}function Dc(s){if(s!==Tn)return!1;if(!it)return xv(s),it=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!yf(s.type,s.memoizedProps)),o&&(o=Sn)){if(Pf(s))throw Rv(),Error(t(418));for(;o;)Cv(s,o),o=Ii(o.nextSibling)}if(xv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Sn=Ii(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Sn=null}}else Sn=Tn?Ii(s.stateNode.nextSibling):null;return!0}function Rv(){for(var s=Sn;s;)s=Ii(s.nextSibling)}function Yo(){Sn=Tn=null,it=!1}function Af(s){er===null?er=[s]:er.push(s)}var _A=G.ReactCurrentBatchConfig;function xl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var m=f,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(T){var R=m.refs;T===null?delete R[_]:R[_]=T},o._stringRef=_,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Nc(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function kv(s){var o=s._init;return o(s._payload)}function bv(s){function o(W,V){if(s){var H=W.deletions;H===null?(W.deletions=[V],W.flags|=16):H.push(V)}}function u(W,V){if(!s)return null;for(;V!==null;)o(W,V),V=V.sibling;return null}function f(W,V){for(W=new Map;V!==null;)V.key!==null?W.set(V.key,V):W.set(V.index,V),V=V.sibling;return W}function m(W,V){return W=Oi(W,V),W.index=0,W.sibling=null,W}function _(W,V,H){return W.index=H,s?(H=W.alternate,H!==null?(H=H.index,H<V?(W.flags|=2,V):H):(W.flags|=2,V)):(W.flags|=1048576,V)}function T(W){return s&&W.alternate===null&&(W.flags|=2),W}function R(W,V,H,se){return V===null||V.tag!==6?(V=vp(H,W.mode,se),V.return=W,V):(V=m(V,H),V.return=W,V)}function O(W,V,H,se){var ge=H.type;return ge===N?ee(W,V,H.props.children,se,H.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ke&&kv(ge)===V.type)?(se=m(V,H.props),se.ref=xl(W,V,H),se.return=W,se):(se=rh(H.type,H.key,H.props,null,W.mode,se),se.ref=xl(W,V,H),se.return=W,se)}function q(W,V,H,se){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=_p(H,W.mode,se),V.return=W,V):(V=m(V,H.children||[]),V.return=W,V)}function ee(W,V,H,se,ge){return V===null||V.tag!==7?(V=zs(H,W.mode,se,ge),V.return=W,V):(V=m(V,H),V.return=W,V)}function ne(W,V,H){if(typeof V=="string"&&V!==""||typeof V=="number")return V=vp(""+V,W.mode,H),V.return=W,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case te:return H=rh(V.type,V.key,V.props,null,W.mode,H),H.ref=xl(W,null,V),H.return=W,H;case ie:return V=_p(V,W.mode,H),V.return=W,V;case Ke:var se=V._init;return ne(W,se(V._payload),H)}if(Nr(V)||fe(V))return V=zs(V,W.mode,H,null),V.return=W,V;Nc(W,V)}return null}function Z(W,V,H,se){var ge=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ge!==null?null:R(W,V,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case te:return H.key===ge?O(W,V,H,se):null;case ie:return H.key===ge?q(W,V,H,se):null;case Ke:return ge=H._init,Z(W,V,ge(H._payload),se)}if(Nr(H)||fe(H))return ge!==null?null:ee(W,V,H,se,null);Nc(W,H)}return null}function ue(W,V,H,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return W=W.get(H)||null,R(V,W,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case te:return W=W.get(se.key===null?H:se.key)||null,O(V,W,se,ge);case ie:return W=W.get(se.key===null?H:se.key)||null,q(V,W,se,ge);case Ke:var _e=se._init;return ue(W,V,H,_e(se._payload),ge)}if(Nr(se)||fe(se))return W=W.get(H)||null,ee(V,W,se,ge,null);Nc(V,se)}return null}function de(W,V,H,se){for(var ge=null,_e=null,we=V,Ie=V=0,Lt=null;we!==null&&Ie<H.length;Ie++){we.index>Ie?(Lt=we,we=null):Lt=we.sibling;var ze=Z(W,we,H[Ie],se);if(ze===null){we===null&&(we=Lt);break}s&&we&&ze.alternate===null&&o(W,we),V=_(ze,V,Ie),_e===null?ge=ze:_e.sibling=ze,_e=ze,we=Lt}if(Ie===H.length)return u(W,we),it&&Ls(W,Ie),ge;if(we===null){for(;Ie<H.length;Ie++)we=ne(W,H[Ie],se),we!==null&&(V=_(we,V,Ie),_e===null?ge=we:_e.sibling=we,_e=we);return it&&Ls(W,Ie),ge}for(we=f(W,we);Ie<H.length;Ie++)Lt=ue(we,W,Ie,H[Ie],se),Lt!==null&&(s&&Lt.alternate!==null&&we.delete(Lt.key===null?Ie:Lt.key),V=_(Lt,V,Ie),_e===null?ge=Lt:_e.sibling=Lt,_e=Lt);return s&&we.forEach(function(Vi){return o(W,Vi)}),it&&Ls(W,Ie),ge}function me(W,V,H,se){var ge=fe(H);if(typeof ge!="function")throw Error(t(150));if(H=ge.call(H),H==null)throw Error(t(151));for(var _e=ge=null,we=V,Ie=V=0,Lt=null,ze=H.next();we!==null&&!ze.done;Ie++,ze=H.next()){we.index>Ie?(Lt=we,we=null):Lt=we.sibling;var Vi=Z(W,we,ze.value,se);if(Vi===null){we===null&&(we=Lt);break}s&&we&&Vi.alternate===null&&o(W,we),V=_(Vi,V,Ie),_e===null?ge=Vi:_e.sibling=Vi,_e=Vi,we=Lt}if(ze.done)return u(W,we),it&&Ls(W,Ie),ge;if(we===null){for(;!ze.done;Ie++,ze=H.next())ze=ne(W,ze.value,se),ze!==null&&(V=_(ze,V,Ie),_e===null?ge=ze:_e.sibling=ze,_e=ze);return it&&Ls(W,Ie),ge}for(we=f(W,we);!ze.done;Ie++,ze=H.next())ze=ue(we,W,Ie,ze.value,se),ze!==null&&(s&&ze.alternate!==null&&we.delete(ze.key===null?Ie:ze.key),V=_(ze,V,Ie),_e===null?ge=ze:_e.sibling=ze,_e=ze);return s&&we.forEach(function(JA){return o(W,JA)}),it&&Ls(W,Ie),ge}function ft(W,V,H,se){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case te:e:{for(var ge=H.key,_e=V;_e!==null;){if(_e.key===ge){if(ge=H.type,ge===N){if(_e.tag===7){u(W,_e.sibling),V=m(_e,H.props.children),V.return=W,W=V;break e}}else if(_e.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ke&&kv(ge)===_e.type){u(W,_e.sibling),V=m(_e,H.props),V.ref=xl(W,_e,H),V.return=W,W=V;break e}u(W,_e);break}else o(W,_e);_e=_e.sibling}H.type===N?(V=zs(H.props.children,W.mode,se,H.key),V.return=W,W=V):(se=rh(H.type,H.key,H.props,null,W.mode,se),se.ref=xl(W,V,H),se.return=W,W=se)}return T(W);case ie:e:{for(_e=H.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){u(W,V.sibling),V=m(V,H.children||[]),V.return=W,W=V;break e}else{u(W,V);break}else o(W,V);V=V.sibling}V=_p(H,W.mode,se),V.return=W,W=V}return T(W);case Ke:return _e=H._init,ft(W,V,_e(H._payload),se)}if(Nr(H))return de(W,V,H,se);if(fe(H))return me(W,V,H,se);Nc(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,V!==null&&V.tag===6?(u(W,V.sibling),V=m(V,H),V.return=W,W=V):(u(W,V),V=vp(H,W.mode,se),V.return=W,W=V),T(W)):u(W,V)}return ft}var Xo=bv(!0),Dv=bv(!1),Lc=Pi(null),Oc=null,Jo=null,xf=null;function Rf(){xf=Jo=Oc=null}function kf(s){var o=Lc.current;et(Lc),s._currentValue=o}function bf(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function Zo(s,o){Oc=s,xf=Jo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(dn=!0),s.firstContext=null)}function Ln(s){var o=s._currentValue;if(xf!==s)if(s={context:s,memoizedValue:o,next:null},Jo===null){if(Oc===null)throw Error(t(308));Jo=s,Oc.dependencies={lanes:0,firstContext:s}}else Jo=Jo.next=s;return o}var Os=null;function Df(s){Os===null?Os=[s]:Os.push(s)}function Nv(s,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Df(o)):(u.next=m.next,m.next=u),o.interleaved=u,qr(s,f)}function qr(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var xi=!1;function Nf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Kr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ri(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Be&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,qr(s,u)}return m=f.interleaved,m===null?(o.next=o,Df(f)):(o.next=m.next,m.next=o),f.interleaved=o,qr(s,u)}function Vc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,vi(s,u)}}function Ov(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?m=_=T:_=_.next=T,u=u.next}while(u!==null);_===null?m=_=o:_=_.next=o}else m=_=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Mc(s,o,u,f){var m=s.updateQueue;xi=!1;var _=m.firstBaseUpdate,T=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var O=R,q=O.next;O.next=null,T===null?_=q:T.next=q,T=O;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==T&&(R===null?ee.firstBaseUpdate=q:R.next=q,ee.lastBaseUpdate=O))}if(_!==null){var ne=m.baseState;T=0,ee=q=O=null,R=_;do{var Z=R.lane,ue=R.eventTime;if((f&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var de=s,me=R;switch(Z=o,ue=u,me.tag){case 1:if(de=me.payload,typeof de=="function"){ne=de.call(ue,ne,Z);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=me.payload,Z=typeof de=="function"?de.call(ue,ne,Z):de,Z==null)break e;ne=ae({},ne,Z);break e;case 2:xi=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,Z=m.effects,Z===null?m.effects=[R]:Z.push(R))}else ue={eventTime:ue,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(q=ee=ue,O=ne):ee=ee.next=ue,T|=Z;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(O=ne),m.baseState=O,m.firstBaseUpdate=q,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else _===null&&(m.shared.lanes=0);Fs|=T,s.lanes=T,s.memoizedState=ne}}function Vv(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Rl={},vr=Pi(Rl),kl=Pi(Rl),bl=Pi(Rl);function Vs(s){if(s===Rl)throw Error(t(174));return s}function Lf(s,o){switch(Xe(bl,o),Xe(kl,s),Xe(vr,Rl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Pt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Pt(o,s)}et(vr),Xe(vr,o)}function ea(){et(vr),et(kl),et(bl)}function Mv(s){Vs(bl.current);var o=Vs(vr.current),u=Pt(o,s.type);o!==u&&(Xe(kl,s),Xe(vr,u))}function Of(s){kl.current===s&&(et(vr),et(kl))}var st=Pi(0);function Fc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vf=[];function Mf(){for(var s=0;s<Vf.length;s++)Vf[s]._workInProgressVersionPrimary=null;Vf.length=0}var Uc=G.ReactCurrentDispatcher,Ff=G.ReactCurrentBatchConfig,Ms=0,ot=null,At=null,Dt=null,jc=!1,Dl=!1,Nl=0,wA=0;function Ht(){throw Error(t(321))}function Uf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Zn(s[u],o[u]))return!1;return!0}function jf(s,o,u,f,m,_){if(Ms=_,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Uc.current=s===null||s.memoizedState===null?IA:PA,s=u(f,m),Dl){_=0;do{if(Dl=!1,Nl=0,25<=_)throw Error(t(301));_+=1,Dt=At=null,o.updateQueue=null,Uc.current=CA,s=u(f,m)}while(Dl)}if(Uc.current=$c,o=At!==null&&At.next!==null,Ms=0,Dt=At=ot=null,jc=!1,o)throw Error(t(300));return s}function Bf(){var s=Nl!==0;return Nl=0,s}function _r(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ot.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function On(){if(At===null){var s=ot.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var o=Dt===null?ot.memoizedState:Dt.next;if(o!==null)Dt=o,At=s;else{if(s===null)throw Error(t(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Dt===null?ot.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function Ll(s,o){return typeof o=="function"?o(s):o}function zf(s){var o=On(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=At,m=f.baseQueue,_=u.pending;if(_!==null){if(m!==null){var T=m.next;m.next=_.next,_.next=T}f.baseQueue=m=_,u.pending=null}if(m!==null){_=m.next,f=f.baseState;var R=T=null,O=null,q=_;do{var ee=q.lane;if((Ms&ee)===ee)O!==null&&(O=O.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),f=q.hasEagerState?q.eagerState:s(f,q.action);else{var ne={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};O===null?(R=O=ne,T=f):O=O.next=ne,ot.lanes|=ee,Fs|=ee}q=q.next}while(q!==null&&q!==_);O===null?T=f:O.next=R,Zn(f,o.memoizedState)||(dn=!0),o.memoizedState=f,o.baseState=T,o.baseQueue=O,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do _=m.lane,ot.lanes|=_,Fs|=_,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function $f(s){var o=On(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,_=o.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do _=s(_,T.action),T=T.next;while(T!==m);Zn(_,o.memoizedState)||(dn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function Fv(){}function Uv(s,o){var u=ot,f=On(),m=o(),_=!Zn(f.memoizedState,m);if(_&&(f.memoizedState=m,dn=!0),f=f.queue,Wf(zv.bind(null,u,f,s),[s]),f.getSnapshot!==o||_||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,Ol(9,Bv.bind(null,u,f,m,o),void 0,null),Nt===null)throw Error(t(349));(Ms&30)!==0||jv(u,o,m)}return m}function jv(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Bv(s,o,u,f){o.value=u,o.getSnapshot=f,$v(o)&&Wv(s)}function zv(s,o,u){return u(function(){$v(o)&&Wv(s)})}function $v(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Zn(s,u)}catch{return!0}}function Wv(s){var o=qr(s,1);o!==null&&ir(o,s,1,-1)}function Hv(s){var o=_r();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:s},o.queue=s,s=s.dispatch=SA.bind(null,ot,s),[o.memoizedState,s]}function Ol(s,o,u,f){return s={tag:s,create:o,destroy:u,deps:f,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s)),s}function qv(){return On().memoizedState}function Bc(s,o,u,f){var m=_r();ot.flags|=s,m.memoizedState=Ol(1|o,u,void 0,f===void 0?null:f)}function zc(s,o,u,f){var m=On();f=f===void 0?null:f;var _=void 0;if(At!==null){var T=At.memoizedState;if(_=T.destroy,f!==null&&Uf(f,T.deps)){m.memoizedState=Ol(o,u,_,f);return}}ot.flags|=s,m.memoizedState=Ol(1|o,u,_,f)}function Kv(s,o){return Bc(8390656,8,s,o)}function Wf(s,o){return zc(2048,8,s,o)}function Gv(s,o){return zc(4,2,s,o)}function Qv(s,o){return zc(4,4,s,o)}function Yv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Xv(s,o,u){return u=u!=null?u.concat([s]):null,zc(4,4,Yv.bind(null,o,s),u)}function Hf(){}function Jv(s,o){var u=On();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Uf(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function Zv(s,o){var u=On();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Uf(o,f[1])?f[0]:(s=s(),u.memoizedState=[s,o],s)}function e0(s,o,u){return(Ms&21)===0?(s.baseState&&(s.baseState=!1,dn=!0),s.memoizedState=u):(Zn(u,o)||(u=Cs(),ot.lanes|=u,Fs|=u,s.baseState=!0),o)}function EA(s,o){var u=Me;Me=u!==0&&4>u?u:4,s(!0);var f=Ff.transition;Ff.transition={};try{s(!1),o()}finally{Me=u,Ff.transition=f}}function t0(){return On().memoizedState}function TA(s,o,u){var f=Ni(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},n0(s))r0(o,u);else if(u=Nv(s,o,u,f),u!==null){var m=sn();ir(u,s,f,m),i0(u,o,f)}}function SA(s,o,u){var f=Ni(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(n0(s))r0(o,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var T=o.lastRenderedState,R=_(T,u);if(m.hasEagerState=!0,m.eagerState=R,Zn(R,T)){var O=o.interleaved;O===null?(m.next=m,Df(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}finally{}u=Nv(s,o,m,f),u!==null&&(m=sn(),ir(u,s,f,m),i0(u,o,f))}}function n0(s){var o=s.alternate;return s===ot||o!==null&&o===ot}function r0(s,o){Dl=jc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function i0(s,o,u){if((u&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,vi(s,u)}}var $c={readContext:Ln,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},IA={readContext:Ln,useCallback:function(s,o){return _r().memoizedState=[s,o===void 0?null:o],s},useContext:Ln,useEffect:Kv,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Bc(4194308,4,Yv.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Bc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Bc(4,2,s,o)},useMemo:function(s,o){var u=_r();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var f=_r();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=TA.bind(null,ot,s),[f.memoizedState,s]},useRef:function(s){var o=_r();return s={current:s},o.memoizedState=s},useState:Hv,useDebugValue:Hf,useDeferredValue:function(s){return _r().memoizedState=s},useTransition:function(){var s=Hv(!1),o=s[0];return s=EA.bind(null,s[1]),_r().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var f=ot,m=_r();if(it){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Nt===null)throw Error(t(349));(Ms&30)!==0||jv(f,o,u)}m.memoizedState=u;var _={value:u,getSnapshot:o};return m.queue=_,Kv(zv.bind(null,f,_,s),[s]),f.flags|=2048,Ol(9,Bv.bind(null,f,_,u,o),void 0,null),u},useId:function(){var s=_r(),o=Nt.identifierPrefix;if(it){var u=Hr,f=Wr;u=(f&~(1<<32-tn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Nl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=wA++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},PA={readContext:Ln,useCallback:Jv,useContext:Ln,useEffect:Wf,useImperativeHandle:Xv,useInsertionEffect:Gv,useLayoutEffect:Qv,useMemo:Zv,useReducer:zf,useRef:qv,useState:function(){return zf(Ll)},useDebugValue:Hf,useDeferredValue:function(s){var o=On();return e0(o,At.memoizedState,s)},useTransition:function(){var s=zf(Ll)[0],o=On().memoizedState;return[s,o]},useMutableSource:Fv,useSyncExternalStore:Uv,useId:t0,unstable_isNewReconciler:!1},CA={readContext:Ln,useCallback:Jv,useContext:Ln,useEffect:Wf,useImperativeHandle:Xv,useInsertionEffect:Gv,useLayoutEffect:Qv,useMemo:Zv,useReducer:$f,useRef:qv,useState:function(){return $f(Ll)},useDebugValue:Hf,useDeferredValue:function(s){var o=On();return At===null?o.memoizedState=s:e0(o,At.memoizedState,s)},useTransition:function(){var s=$f(Ll)[0],o=On().memoizedState;return[s,o]},useMutableSource:Fv,useSyncExternalStore:Uv,useId:t0,unstable_isNewReconciler:!1};function tr(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function qf(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:ae({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Wc={isMounted:function(s){return(s=s._reactInternals)?qn(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var f=sn(),m=Ni(s),_=Kr(f,m);_.payload=o,u!=null&&(_.callback=u),o=Ri(s,_,m),o!==null&&(ir(o,s,m,f),Vc(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=sn(),m=Ni(s),_=Kr(f,m);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Ri(s,_,m),o!==null&&(ir(o,s,m,f),Vc(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=sn(),f=Ni(s),m=Kr(u,f);m.tag=2,o!=null&&(m.callback=o),o=Ri(s,m,f),o!==null&&(ir(o,s,f,u),Vc(o,s,f))}};function s0(s,o,u,f,m,_,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,T):o.prototype&&o.prototype.isPureReactComponent?!El(u,f)||!El(m,_):!0}function o0(s,o,u){var f=!1,m=Ci,_=o.contextType;return typeof _=="object"&&_!==null?_=Ln(_):(m=hn(o)?Ds:Wt.current,f=o.contextTypes,_=(f=f!=null)?Ko(s,m):Ci),o=new o(u,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Wc,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=_),o}function a0(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&Wc.enqueueReplaceState(o,o.state,null)}function Kf(s,o,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Nf(s);var _=o.contextType;typeof _=="object"&&_!==null?m.context=Ln(_):(_=hn(o)?Ds:Wt.current,m.context=Ko(s,_)),m.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(qf(s,o,_,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Wc.enqueueReplaceState(m,m.state,null),Mc(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ta(s,o){try{var u="",f=o;do u+=De(f),f=f.return;while(f);var m=u}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:m,digest:null}}function Gf(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Qf(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var AA=typeof WeakMap=="function"?WeakMap:Map;function l0(s,o,u){u=Kr(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Xc||(Xc=!0,cp=f),Qf(s,o)},u}function u0(s,o,u){u=Kr(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Qf(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Qf(s,o),typeof f!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function c0(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new AA;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),s=BA.bind(null,s,o,u),o.then(s,s))}function h0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function d0(s,o,u,f,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Kr(-1,1),o.tag=2,Ri(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var xA=G.ReactCurrentOwner,dn=!1;function rn(s,o,u,f){o.child=s===null?Dv(o,null,u,f):Xo(o,s.child,u,f)}function f0(s,o,u,f,m){u=u.render;var _=o.ref;return Zo(o,m),f=jf(s,o,u,f,_,m),u=Bf(),s!==null&&!dn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Gr(s,o,m)):(it&&u&&Sf(o),o.flags|=1,rn(s,o,f,m),o.child)}function p0(s,o,u,f,m){if(s===null){var _=u.type;return typeof _=="function"&&!yp(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,m0(s,o,_,f,m)):(s=rh(u.type,null,f,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&m)===0){var T=_.memoizedProps;if(u=u.compare,u=u!==null?u:El,u(T,f)&&s.ref===o.ref)return Gr(s,o,m)}return o.flags|=1,s=Oi(_,f),s.ref=o.ref,s.return=o,o.child=s}function m0(s,o,u,f,m){if(s!==null){var _=s.memoizedProps;if(El(_,f)&&s.ref===o.ref)if(dn=!1,o.pendingProps=f=_,(s.lanes&m)!==0)(s.flags&131072)!==0&&(dn=!0);else return o.lanes=s.lanes,Gr(s,o,m)}return Yf(s,o,u,f,m)}function g0(s,o,u){var f=o.pendingProps,m=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ra,In),In|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Xe(ra,In),In|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,Xe(ra,In),In|=f}else _!==null?(f=_.baseLanes|u,o.memoizedState=null):f=u,Xe(ra,In),In|=f;return rn(s,o,m,u),o.child}function y0(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Yf(s,o,u,f,m){var _=hn(u)?Ds:Wt.current;return _=Ko(o,_),Zo(o,m),u=jf(s,o,u,f,_,m),f=Bf(),s!==null&&!dn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Gr(s,o,m)):(it&&f&&Sf(o),o.flags|=1,rn(s,o,u,m),o.child)}function v0(s,o,u,f,m){if(hn(u)){var _=!0;xc(o)}else _=!1;if(Zo(o,m),o.stateNode===null)qc(s,o),o0(o,u,f),Kf(o,u,f,m),f=!0;else if(s===null){var T=o.stateNode,R=o.memoizedProps;T.props=R;var O=T.context,q=u.contextType;typeof q=="object"&&q!==null?q=Ln(q):(q=hn(u)?Ds:Wt.current,q=Ko(o,q));var ee=u.getDerivedStateFromProps,ne=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==f||O!==q)&&a0(o,T,f,q),xi=!1;var Z=o.memoizedState;T.state=Z,Mc(o,f,T,m),O=o.memoizedState,R!==f||Z!==O||cn.current||xi?(typeof ee=="function"&&(qf(o,u,ee,f),O=o.memoizedState),(R=xi||s0(o,u,R,f,Z,O,q))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=O),T.props=f,T.state=O,T.context=q,f=R):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{T=o.stateNode,Lv(s,o),R=o.memoizedProps,q=o.type===o.elementType?R:tr(o.type,R),T.props=q,ne=o.pendingProps,Z=T.context,O=u.contextType,typeof O=="object"&&O!==null?O=Ln(O):(O=hn(u)?Ds:Wt.current,O=Ko(o,O));var ue=u.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==ne||Z!==O)&&a0(o,T,f,O),xi=!1,Z=o.memoizedState,T.state=Z,Mc(o,f,T,m);var de=o.memoizedState;R!==ne||Z!==de||cn.current||xi?(typeof ue=="function"&&(qf(o,u,ue,f),de=o.memoizedState),(q=xi||s0(o,u,q,f,Z,de,O)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,de,O),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,de,O)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=de),T.props=f,T.state=de,T.context=O,f=q):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),f=!1)}return Xf(s,o,u,f,_,m)}function Xf(s,o,u,f,m,_){y0(s,o);var T=(o.flags&128)!==0;if(!f&&!T)return m&&Sv(o,u,!1),Gr(s,o,_);f=o.stateNode,xA.current=o;var R=T&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&T?(o.child=Xo(o,s.child,null,_),o.child=Xo(o,null,R,_)):rn(s,o,R,_),o.memoizedState=f.state,m&&Sv(o,u,!0),o.child}function _0(s){var o=s.stateNode;o.pendingContext?Ev(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Ev(s,o.context,!1),Lf(s,o.containerInfo)}function w0(s,o,u,f,m){return Yo(),Af(m),o.flags|=256,rn(s,o,u,f),o.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function Zf(s){return{baseLanes:s,cachePool:null,transitions:null}}function E0(s,o,u){var f=o.pendingProps,m=st.current,_=!1,T=(o.flags&128)!==0,R;if((R=T)||(R=s!==null&&s.memoizedState===null?!1:(m&2)!==0),R?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Xe(st,m&1),s===null)return Cf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=f.children,s=f.fallback,_?(f=o.mode,_=o.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=ih(T,f,0,null),s=zs(s,f,u,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=Zf(u),o.memoizedState=Jf,s):ep(o,T));if(m=s.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return RA(s,o,T,f,R,m,u);if(_){_=f.fallback,T=o.mode,m=s.child,R=m.sibling;var O={mode:"hidden",children:f.children};return(T&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=O,o.deletions=null):(f=Oi(m,O),f.subtreeFlags=m.subtreeFlags&14680064),R!==null?_=Oi(R,_):(_=zs(_,T,u,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,T=s.child.memoizedState,T=T===null?Zf(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=s.childLanes&~u,o.memoizedState=Jf,f}return _=s.child,s=_.sibling,f=Oi(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=f,o.memoizedState=null,f}function ep(s,o){return o=ih({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Hc(s,o,u,f){return f!==null&&Af(f),Xo(o,s.child,null,u),s=ep(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function RA(s,o,u,f,m,_,T){if(u)return o.flags&256?(o.flags&=-257,f=Gf(Error(t(422))),Hc(s,o,T,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=f.fallback,m=o.mode,f=ih({mode:"visible",children:f.children},m,0,null),_=zs(_,m,T,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&Xo(o,s.child,null,T),o.child.memoizedState=Zf(T),o.memoizedState=Jf,_);if((o.mode&1)===0)return Hc(s,o,T,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var R=f.dgst;return f=R,_=Error(t(419)),f=Gf(_,f,void 0),Hc(s,o,T,f)}if(R=(T&s.childLanes)!==0,dn||R){if(f=Nt,f!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|T))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,qr(s,m),ir(f,s,m,-1))}return gp(),f=Gf(Error(t(421))),Hc(s,o,T,f)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=zA.bind(null,s),m._reactRetry=o,null):(s=_.treeContext,Sn=Ii(m.nextSibling),Tn=o,it=!0,er=null,s!==null&&(Dn[Nn++]=Wr,Dn[Nn++]=Hr,Dn[Nn++]=Ns,Wr=s.id,Hr=s.overflow,Ns=o),o=ep(o,f.children),o.flags|=4096,o)}function T0(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),bf(s.return,o,u)}function tp(s,o,u,f,m){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=m)}function S0(s,o,u){var f=o.pendingProps,m=f.revealOrder,_=f.tail;if(rn(s,o,f.children,u),f=st.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&T0(s,u,o);else if(s.tag===19)T0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Xe(st,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Fc(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),tp(o,!1,m,u,_);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Fc(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}tp(o,!0,u,null,_);break;case"together":tp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Gr(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Fs|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=Oi(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Oi(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function kA(s,o,u){switch(o.tag){case 3:_0(o),Yo();break;case 5:Mv(o);break;case 1:hn(o.type)&&xc(o);break;case 4:Lf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Xe(Lc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Xe(st,st.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?E0(s,o,u):(Xe(st,st.current&1),s=Gr(s,o,u),s!==null?s.sibling:null);Xe(st,st.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(s.flags&128)!==0){if(f)return S0(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Xe(st,st.current),f)break;return null;case 22:case 23:return o.lanes=0,g0(s,o,u)}return Gr(s,o,u)}var I0,np,P0,C0;I0=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},np=function(){},P0=function(s,o,u,f){var m=s.memoizedProps;if(m!==f){s=o.stateNode,Vs(vr.current);var _=null;switch(u){case"input":m=ms(s,m),f=ms(s,f),_=[];break;case"select":m=ae({},m,{value:void 0}),f=ae({},f,{value:void 0}),_=[];break;case"textarea":m=Ya(s,m),f=Ya(s,f),_=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Pc)}nl(u,f);var T;u=null;for(q in m)if(!f.hasOwnProperty(q)&&m.hasOwnProperty(q)&&m[q]!=null)if(q==="style"){var R=m[q];for(T in R)R.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?_||(_=[]):(_=_||[]).push(q,null));for(q in f){var O=f[q];if(R=m?.[q],f.hasOwnProperty(q)&&O!==R&&(O!=null||R!=null))if(q==="style")if(R){for(T in R)!R.hasOwnProperty(T)||O&&O.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in O)O.hasOwnProperty(T)&&R[T]!==O[T]&&(u||(u={}),u[T]=O[T])}else u||(_||(_=[]),_.push(q,u)),u=O;else q==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,R=R?R.__html:void 0,O!=null&&R!==O&&(_=_||[]).push(q,O)):q==="children"?typeof O!="string"&&typeof O!="number"||(_=_||[]).push(q,""+O):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(O!=null&&q==="onScroll"&&Ze("scroll",s),_||R===O||(_=[])):(_=_||[]).push(q,O))}u&&(_=_||[]).push("style",u);var q=_;(o.updateQueue=q)&&(o.flags|=4)}},C0=function(s,o,u,f){u!==f&&(o.flags|=4)};function Vl(s,o){if(!it)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function qt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function bA(s,o,u){var f=o.pendingProps;switch(If(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return hn(o.type)&&Ac(),qt(o),null;case 3:return f=o.stateNode,ea(),et(cn),et(Wt),Mf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Dc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,er!==null&&(fp(er),er=null))),np(s,o),qt(o),null;case 5:Of(o);var m=Vs(bl.current);if(u=o.type,s!==null&&o.stateNode!=null)P0(s,o,u,f,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return qt(o),null}if(s=Vs(vr.current),Dc(o)){f=o.stateNode,u=o.type;var _=o.memoizedProps;switch(f[yr]=o,f[Cl]=_,s=(o.mode&1)!==0,u){case"dialog":Ze("cancel",f),Ze("close",f);break;case"iframe":case"object":case"embed":Ze("load",f);break;case"video":case"audio":for(m=0;m<Sl.length;m++)Ze(Sl[m],f);break;case"source":Ze("error",f);break;case"img":case"image":case"link":Ze("error",f),Ze("load",f);break;case"details":Ze("toggle",f);break;case"input":mo(f,_),Ze("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Ze("invalid",f);break;case"textarea":yo(f,_),Ze("invalid",f)}nl(u,_),m=null;for(var T in _)if(_.hasOwnProperty(T)){var R=_[T];T==="children"?typeof R=="string"?f.textContent!==R&&(_.suppressHydrationWarning!==!0&&Ic(f.textContent,R,s),m=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(_.suppressHydrationWarning!==!0&&Ic(f.textContent,R,s),m=["children",""+R]):i.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&Ze("scroll",f)}switch(u){case"input":Dr(f),Yu(f,_,!0);break;case"textarea":Dr(f),Xa(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Pc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=It(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=T.createElement(u,{is:f.is}):(s=T.createElement(u),u==="select"&&(T=s,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):s=T.createElementNS(s,u),s[yr]=o,s[Cl]=f,I0(s,o,!1,!1),o.stateNode=s;e:{switch(T=rl(u,f),u){case"dialog":Ze("cancel",s),Ze("close",s),m=f;break;case"iframe":case"object":case"embed":Ze("load",s),m=f;break;case"video":case"audio":for(m=0;m<Sl.length;m++)Ze(Sl[m],s);m=f;break;case"source":Ze("error",s),m=f;break;case"img":case"image":case"link":Ze("error",s),Ze("load",s),m=f;break;case"details":Ze("toggle",s),m=f;break;case"input":mo(s,f),m=ms(s,f),Ze("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=ae({},f,{value:void 0}),Ze("invalid",s);break;case"textarea":yo(s,f),m=Ya(s,f),Ze("invalid",s);break;default:m=f}nl(u,m),R=m;for(_ in R)if(R.hasOwnProperty(_)){var O=R[_];_==="style"?el(s,O):_==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ja(s,O)):_==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&fi(s,O):typeof O=="number"&&fi(s,""+O):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?O!=null&&_==="onScroll"&&Ze("scroll",s):O!=null&&z(s,_,O,T))}switch(u){case"input":Dr(s),Yu(s,f,!1);break;case"textarea":Dr(s),Xa(s);break;case"option":f.value!=null&&s.setAttribute("value",""+We(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?Lr(s,!!f.multiple,_,!1):f.defaultValue!=null&&Lr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Pc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return qt(o),null;case 6:if(s&&o.stateNode!=null)C0(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=Vs(bl.current),Vs(vr.current),Dc(o)){if(f=o.stateNode,u=o.memoizedProps,f[yr]=o,(_=f.nodeValue!==u)&&(s=Tn,s!==null))switch(s.tag){case 3:Ic(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ic(f.nodeValue,u,(s.mode&1)!==0)}_&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[yr]=o,o.stateNode=f}return qt(o),null;case 13:if(et(st),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(it&&Sn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Rv(),Yo(),o.flags|=98560,_=!1;else if(_=Dc(o),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[yr]=o}else Yo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),_=!1}else er!==null&&(fp(er),er=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(st.current&1)!==0?xt===0&&(xt=3):gp())),o.updateQueue!==null&&(o.flags|=4),qt(o),null);case 4:return ea(),np(s,o),s===null&&Il(o.stateNode.containerInfo),qt(o),null;case 10:return kf(o.type._context),qt(o),null;case 17:return hn(o.type)&&Ac(),qt(o),null;case 19:if(et(st),_=o.memoizedState,_===null)return qt(o),null;if(f=(o.flags&128)!==0,T=_.rendering,T===null)if(f)Vl(_,!1);else{if(xt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=Fc(s),T!==null){for(o.flags|=128,Vl(_,!1),f=T.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)_=u,s=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,s=T.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Xe(st,st.current&1|2),o.child}s=s.sibling}_.tail!==null&&Ye()>ia&&(o.flags|=128,f=!0,Vl(_,!1),o.lanes=4194304)}else{if(!f)if(s=Fc(T),s!==null){if(o.flags|=128,f=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Vl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!it)return qt(o),null}else 2*Ye()-_.renderingStartTime>ia&&u!==1073741824&&(o.flags|=128,f=!0,Vl(_,!1),o.lanes=4194304);_.isBackwards?(T.sibling=o.child,o.child=T):(u=_.last,u!==null?u.sibling=T:o.child=T,_.last=T)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Ye(),o.sibling=null,u=st.current,Xe(st,f?u&1|2:u&1),o):(qt(o),null);case 22:case 23:return mp(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(In&1073741824)!==0&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function DA(s,o){switch(If(o),o.tag){case 1:return hn(o.type)&&Ac(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ea(),et(cn),et(Wt),Mf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Of(o),null;case 13:if(et(st),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Yo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return et(st),null;case 4:return ea(),null;case 10:return kf(o.type._context),null;case 22:case 23:return mp(),null;case 24:return null;default:return null}}var Kc=!1,Kt=!1,NA=typeof WeakSet=="function"?WeakSet:Set,he=null;function na(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){ut(s,o,f)}else u.current=null}function rp(s,o,u){try{u()}catch(f){ut(s,o,f)}}var A0=!1;function LA(s,o){if(mf=Ei,s=sv(),af(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var T=0,R=-1,O=-1,q=0,ee=0,ne=s,Z=null;t:for(;;){for(var ue;ne!==u||m!==0&&ne.nodeType!==3||(R=T+m),ne!==_||f!==0&&ne.nodeType!==3||(O=T+f),ne.nodeType===3&&(T+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)Z=ne,ne=ue;for(;;){if(ne===s)break t;if(Z===u&&++q===m&&(R=T),Z===_&&++ee===f&&(O=T),(ue=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ue}u=R===-1||O===-1?null:{start:R,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(gf={focusedElem:s,selectionRange:u},Ei=!1,he=o;he!==null;)if(o=he,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,he=s;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var me=de.memoizedProps,ft=de.memoizedState,W=o.stateNode,V=W.getSnapshotBeforeUpdate(o.elementType===o.type?me:tr(o.type,me),ft);W.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ut(o,o.return,se)}if(s=o.sibling,s!==null){s.return=o.return,he=s;break}he=o.return}return de=A0,A0=!1,de}function Ml(s,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var _=m.destroy;m.destroy=void 0,_!==void 0&&rp(o,u,_)}m=m.next}while(m!==f)}}function Gc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function ip(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function x0(s){var o=s.alternate;o!==null&&(s.alternate=null,x0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[yr],delete o[Cl],delete o[wf],delete o[gA],delete o[yA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function R0(s){return s.tag===5||s.tag===3||s.tag===4}function k0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||R0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sp(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Pc));else if(f!==4&&(s=s.child,s!==null))for(sp(s,o,u),s=s.sibling;s!==null;)sp(s,o,u),s=s.sibling}function op(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(op(s,o,u),s=s.sibling;s!==null;)op(s,o,u),s=s.sibling}var Ft=null,nr=!1;function ki(s,o,u){for(u=u.child;u!==null;)b0(s,o,u),u=u.sibling}function b0(s,o,u){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Is,u)}catch{}switch(u.tag){case 5:Kt||na(u,o);case 6:var f=Ft,m=nr;Ft=null,ki(s,o,u),Ft=f,nr=m,Ft!==null&&(nr?(s=Ft,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Ft.removeChild(u.stateNode));break;case 18:Ft!==null&&(nr?(s=Ft,u=u.stateNode,s.nodeType===8?_f(s.parentNode,u):s.nodeType===1&&_f(s,u),Xn(s)):_f(Ft,u.stateNode));break;case 4:f=Ft,m=nr,Ft=u.stateNode.containerInfo,nr=!0,ki(s,o,u),Ft=f,nr=m;break;case 0:case 11:case 14:case 15:if(!Kt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var _=m,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&rp(u,o,T),m=m.next}while(m!==f)}ki(s,o,u);break;case 1:if(!Kt&&(na(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(R){ut(u,o,R)}ki(s,o,u);break;case 21:ki(s,o,u);break;case 22:u.mode&1?(Kt=(f=Kt)||u.memoizedState!==null,ki(s,o,u),Kt=f):ki(s,o,u);break;default:ki(s,o,u)}}function D0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new NA),o.forEach(function(f){var m=$A.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function rr(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var _=s,T=o,R=T;e:for(;R!==null;){switch(R.tag){case 5:Ft=R.stateNode,nr=!1;break e;case 3:Ft=R.stateNode.containerInfo,nr=!0;break e;case 4:Ft=R.stateNode.containerInfo,nr=!0;break e}R=R.return}if(Ft===null)throw Error(t(160));b0(_,T,m),Ft=null,nr=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(q){ut(m,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)N0(o,s),o=o.sibling}function N0(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(rr(o,s),wr(s),f&4){try{Ml(3,s,s.return),Gc(3,s)}catch(me){ut(s,s.return,me)}try{Ml(5,s,s.return)}catch(me){ut(s,s.return,me)}}break;case 1:rr(o,s),wr(s),f&512&&u!==null&&na(u,u.return);break;case 5:if(rr(o,s),wr(s),f&512&&u!==null&&na(u,u.return),s.flags&32){var m=s.stateNode;try{fi(m,"")}catch(me){ut(s,s.return,me)}}if(f&4&&(m=s.stateNode,m!=null)){var _=s.memoizedProps,T=u!==null?u.memoizedProps:_,R=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{R==="input"&&_.type==="radio"&&_.name!=null&&Ga(m,_),rl(R,T);var q=rl(R,_);for(T=0;T<O.length;T+=2){var ee=O[T],ne=O[T+1];ee==="style"?el(m,ne):ee==="dangerouslySetInnerHTML"?Ja(m,ne):ee==="children"?fi(m,ne):z(m,ee,ne,q)}switch(R){case"input":Qa(m,_);break;case"textarea":vo(m,_);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var ue=_.value;ue!=null?Lr(m,!!_.multiple,ue,!1):Z!==!!_.multiple&&(_.defaultValue!=null?Lr(m,!!_.multiple,_.defaultValue,!0):Lr(m,!!_.multiple,_.multiple?[]:"",!1))}m[Cl]=_}catch(me){ut(s,s.return,me)}}break;case 6:if(rr(o,s),wr(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,_=s.memoizedProps;try{m.nodeValue=_}catch(me){ut(s,s.return,me)}}break;case 3:if(rr(o,s),wr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Xn(o.containerInfo)}catch(me){ut(s,s.return,me)}break;case 4:rr(o,s),wr(s);break;case 13:rr(o,s),wr(s),m=s.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(up=Ye())),f&4&&D0(s);break;case 22:if(ee=u!==null&&u.memoizedState!==null,s.mode&1?(Kt=(q=Kt)||ee,rr(o,s),Kt=q):rr(o,s),wr(s),f&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!ee&&(s.mode&1)!==0)for(he=s,ee=s.child;ee!==null;){for(ne=he=ee;he!==null;){switch(Z=he,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:Ml(4,Z,Z.return);break;case 1:na(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){f=Z,u=Z.return;try{o=f,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(me){ut(f,u,me)}}break;case 5:na(Z,Z.return);break;case 22:if(Z.memoizedState!==null){V0(ne);continue}}ue!==null?(ue.return=Z,he=ue):V0(ne)}ee=ee.sibling}e:for(ee=null,ne=s;;){if(ne.tag===5){if(ee===null){ee=ne;try{m=ne.stateNode,q?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(R=ne.stateNode,O=ne.memoizedProps.style,T=O!=null&&O.hasOwnProperty("display")?O.display:null,R.style.display=Za("display",T))}catch(me){ut(s,s.return,me)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(me){ut(s,s.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===s)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===s)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===s)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:rr(o,s),wr(s),f&4&&D0(s);break;case 21:break;default:rr(o,s),wr(s)}}function wr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(R0(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(fi(m,""),f.flags&=-33);var _=k0(s);op(s,_,m);break;case 3:case 4:var T=f.stateNode.containerInfo,R=k0(s);sp(s,R,T);break;default:throw Error(t(161))}}catch(O){ut(s,s.return,O)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function OA(s,o,u){he=s,L0(s)}function L0(s,o,u){for(var f=(s.mode&1)!==0;he!==null;){var m=he,_=m.child;if(m.tag===22&&f){var T=m.memoizedState!==null||Kc;if(!T){var R=m.alternate,O=R!==null&&R.memoizedState!==null||Kt;R=Kc;var q=Kt;if(Kc=T,(Kt=O)&&!q)for(he=m;he!==null;)T=he,O=T.child,T.tag===22&&T.memoizedState!==null?M0(m):O!==null?(O.return=T,he=O):M0(m);for(;_!==null;)he=_,L0(_),_=_.sibling;he=m,Kc=R,Kt=q}O0(s)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,he=_):O0(s)}}function O0(s){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Kt||Gc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Kt)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:tr(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&Vv(o,_,f);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Vv(o,T,u)}break;case 5:var R=o.stateNode;if(u===null&&o.flags&4){u=R;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Xn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kt||o.flags&512&&ip(o)}catch(Z){ut(o,o.return,Z)}}if(o===s){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function V0(s){for(;he!==null;){var o=he;if(o===s){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function M0(s){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Gc(4,o)}catch(O){ut(o,u,O)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(O){ut(o,m,O)}}var _=o.return;try{ip(o)}catch(O){ut(o,_,O)}break;case 5:var T=o.return;try{ip(o)}catch(O){ut(o,T,O)}}}catch(O){ut(o,o.return,O)}if(o===s){he=null;break}var R=o.sibling;if(R!==null){R.return=o.return,he=R;break}he=o.return}}var VA=Math.ceil,Qc=G.ReactCurrentDispatcher,ap=G.ReactCurrentOwner,Vn=G.ReactCurrentBatchConfig,Be=0,Nt=null,_t=null,Ut=0,In=0,ra=Pi(0),xt=0,Fl=null,Fs=0,Yc=0,lp=0,Ul=null,fn=null,up=0,ia=1/0,Qr=null,Xc=!1,cp=null,bi=null,Jc=!1,Di=null,Zc=0,jl=0,hp=null,eh=-1,th=0;function sn(){return(Be&6)!==0?Ye():eh!==-1?eh:eh=Ye()}function Ni(s){return(s.mode&1)===0?1:(Be&2)!==0&&Ut!==0?Ut&-Ut:_A.transition!==null?(th===0&&(th=Cs()),th):(s=Me,s!==0||(s=window.event,s=s===void 0?16:pl(s.type)),s)}function ir(s,o,u,f){if(50<jl)throw jl=0,hp=null,Error(t(185));yi(s,u,f),((Be&2)===0||s!==Nt)&&(s===Nt&&((Be&2)===0&&(Yc|=u),xt===4&&Li(s,Ut)),pn(s,f),u===1&&Be===0&&(o.mode&1)===0&&(ia=Ye()+500,Rc&&Ai()))}function pn(s,o){var u=s.callbackNode;Mr(s,o);var f=Ps(s,s===Nt?Ut:0);if(f===0)u!==null&&ul(u),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(u!=null&&ul(u),o===1)s.tag===0?vA(U0.bind(null,s)):Iv(U0.bind(null,s)),pA(function(){(Be&6)===0&&Ai()}),u=null;else{switch(_i(f)){case 1:u=Ss;break;case 4:u=pi;break;case 16:u=Rn;break;case 536870912:u=tc;break;default:u=Rn}u=K0(u,F0.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function F0(s,o){if(eh=-1,th=0,(Be&6)!==0)throw Error(t(327));var u=s.callbackNode;if(sa()&&s.callbackNode!==u)return null;var f=Ps(s,s===Nt?Ut:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=nh(s,f);else{o=f;var m=Be;Be|=2;var _=B0();(Nt!==s||Ut!==o)&&(Qr=null,ia=Ye()+500,js(s,o));do try{UA();break}catch(R){j0(s,R)}while(!0);Rf(),Qc.current=_,Be=m,_t!==null?o=0:(Nt=null,Ut=0,o=xt)}if(o!==0){if(o===2&&(m=_n(s),m!==0&&(f=m,o=dp(s,m))),o===1)throw u=Fl,js(s,0),Li(s,f),pn(s,Ye()),u;if(o===6)Li(s,f);else{if(m=s.current.alternate,(f&30)===0&&!MA(m)&&(o=nh(s,f),o===2&&(_=_n(s),_!==0&&(f=_,o=dp(s,_))),o===1))throw u=Fl,js(s,0),Li(s,f),pn(s,Ye()),u;switch(s.finishedWork=m,s.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Bs(s,fn,Qr);break;case 3:if(Li(s,f),(f&130023424)===f&&(o=up+500-Ye(),10<o)){if(Ps(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){sn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=vf(Bs.bind(null,s,fn,Qr),o);break}Bs(s,fn,Qr);break;case 4:if(Li(s,f),(f&4194240)===f)break;for(o=s.eventTimes,m=-1;0<f;){var T=31-tn(f);_=1<<T,T=o[T],T>m&&(m=T),f&=~_}if(f=m,f=Ye()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*VA(f/1960))-f,10<f){s.timeoutHandle=vf(Bs.bind(null,s,fn,Qr),f);break}Bs(s,fn,Qr);break;case 5:Bs(s,fn,Qr);break;default:throw Error(t(329))}}}return pn(s,Ye()),s.callbackNode===u?F0.bind(null,s):null}function dp(s,o){var u=Ul;return s.current.memoizedState.isDehydrated&&(js(s,o).flags|=256),s=nh(s,o),s!==2&&(o=fn,fn=u,o!==null&&fp(o)),s}function fp(s){fn===null?fn=s:fn.push.apply(fn,s)}function MA(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],_=m.getSnapshot;m=m.value;try{if(!Zn(_(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Li(s,o){for(o&=~lp,o&=~Yc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-tn(o),f=1<<u;s[u]=-1,o&=~f}}function U0(s){if((Be&6)!==0)throw Error(t(327));sa();var o=Ps(s,0);if((o&1)===0)return pn(s,Ye()),null;var u=nh(s,o);if(s.tag!==0&&u===2){var f=_n(s);f!==0&&(o=f,u=dp(s,f))}if(u===1)throw u=Fl,js(s,0),Li(s,o),pn(s,Ye()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Bs(s,fn,Qr),pn(s,Ye()),null}function pp(s,o){var u=Be;Be|=1;try{return s(o)}finally{Be=u,Be===0&&(ia=Ye()+500,Rc&&Ai())}}function Us(s){Di!==null&&Di.tag===0&&(Be&6)===0&&sa();var o=Be;Be|=1;var u=Vn.transition,f=Me;try{if(Vn.transition=null,Me=1,s)return s()}finally{Me=f,Vn.transition=u,Be=o,(Be&6)===0&&Ai()}}function mp(){In=ra.current,et(ra)}function js(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,fA(u)),_t!==null)for(u=_t.return;u!==null;){var f=u;switch(If(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ac();break;case 3:ea(),et(cn),et(Wt),Mf();break;case 5:Of(f);break;case 4:ea();break;case 13:et(st);break;case 19:et(st);break;case 10:kf(f.type._context);break;case 22:case 23:mp()}u=u.return}if(Nt=s,_t=s=Oi(s.current,null),Ut=In=o,xt=0,Fl=null,lp=Yc=Fs=0,fn=Ul=null,Os!==null){for(o=0;o<Os.length;o++)if(u=Os[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,_=u.pending;if(_!==null){var T=_.next;_.next=m,f.next=T}u.pending=f}Os=null}return s}function j0(s,o){do{var u=_t;try{if(Rf(),Uc.current=$c,jc){for(var f=ot.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}jc=!1}if(Ms=0,Dt=At=ot=null,Dl=!1,Nl=0,ap.current=null,u===null||u.return===null){xt=1,Fl=o,_t=null;break}e:{var _=s,T=u.return,R=u,O=o;if(o=Ut,R.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=O,ee=R,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=h0(T);if(ue!==null){ue.flags&=-257,d0(ue,T,R,_,o),ue.mode&1&&c0(_,q,o),o=ue,O=q;var de=o.updateQueue;if(de===null){var me=new Set;me.add(O),o.updateQueue=me}else de.add(O);break e}else{if((o&1)===0){c0(_,q,o),gp();break e}O=Error(t(426))}}else if(it&&R.mode&1){var ft=h0(T);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),d0(ft,T,R,_,o),Af(ta(O,R));break e}}_=O=ta(O,R),xt!==4&&(xt=2),Ul===null?Ul=[_]:Ul.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var W=l0(_,O,o);Ov(_,W);break e;case 1:R=O;var V=_.type,H=_.stateNode;if((_.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(bi===null||!bi.has(H)))){_.flags|=65536,o&=-o,_.lanes|=o;var se=u0(_,R,o);Ov(_,se);break e}}_=_.return}while(_!==null)}$0(u)}catch(ge){o=ge,_t===u&&u!==null&&(_t=u=u.return);continue}break}while(!0)}function B0(){var s=Qc.current;return Qc.current=$c,s===null?$c:s}function gp(){(xt===0||xt===3||xt===2)&&(xt=4),Nt===null||(Fs&268435455)===0&&(Yc&268435455)===0||Li(Nt,Ut)}function nh(s,o){var u=Be;Be|=2;var f=B0();(Nt!==s||Ut!==o)&&(Qr=null,js(s,o));do try{FA();break}catch(m){j0(s,m)}while(!0);if(Rf(),Be=u,Qc.current=f,_t!==null)throw Error(t(261));return Nt=null,Ut=0,xt}function FA(){for(;_t!==null;)z0(_t)}function UA(){for(;_t!==null&&!Zu();)z0(_t)}function z0(s){var o=q0(s.alternate,s,In);s.memoizedProps=s.pendingProps,o===null?$0(s):_t=o,ap.current=null}function $0(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=bA(u,o,In),u!==null){_t=u;return}}else{if(u=DA(u,o),u!==null){u.flags&=32767,_t=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{xt=6,_t=null;return}}if(o=o.sibling,o!==null){_t=o;return}_t=o=s}while(o!==null);xt===0&&(xt=5)}function Bs(s,o,u){var f=Me,m=Vn.transition;try{Vn.transition=null,Me=1,jA(s,o,u,f)}finally{Vn.transition=m,Me=f}return null}function jA(s,o,u,f){do sa();while(Di!==null);if((Be&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(Ge(s,_),s===Nt&&(_t=Nt=null,Ut=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Jc||(Jc=!0,K0(Rn,function(){return sa(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Vn.transition,Vn.transition=null;var T=Me;Me=1;var R=Be;Be|=4,ap.current=null,LA(s,u),N0(u,s),oA(gf),Ei=!!mf,gf=mf=null,s.current=u,OA(u),Jd(),Be=R,Me=T,Vn.transition=_}else s.current=u;if(Jc&&(Jc=!1,Di=s,Zc=m),_=s.pendingLanes,_===0&&(bi=null),nc(u.stateNode),pn(s,Ye()),o!==null)for(f=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Xc)throw Xc=!1,s=cp,cp=null,s;return(Zc&1)!==0&&s.tag!==0&&sa(),_=s.pendingLanes,(_&1)!==0?s===hp?jl++:(jl=0,hp=s):jl=0,Ai(),null}function sa(){if(Di!==null){var s=_i(Zc),o=Vn.transition,u=Me;try{if(Vn.transition=null,Me=16>s?16:s,Di===null)var f=!1;else{if(s=Di,Di=null,Zc=0,(Be&6)!==0)throw Error(t(331));var m=Be;for(Be|=4,he=s.current;he!==null;){var _=he,T=_.child;if((he.flags&16)!==0){var R=_.deletions;if(R!==null){for(var O=0;O<R.length;O++){var q=R[O];for(he=q;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Ml(8,ee,_)}var ne=ee.child;if(ne!==null)ne.return=ee,he=ne;else for(;he!==null;){ee=he;var Z=ee.sibling,ue=ee.return;if(x0(ee),ee===q){he=null;break}if(Z!==null){Z.return=ue,he=Z;break}he=ue}}}var de=_.alternate;if(de!==null){var me=de.child;if(me!==null){de.child=null;do{var ft=me.sibling;me.sibling=null,me=ft}while(me!==null)}}he=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,he=T;else e:for(;he!==null;){if(_=he,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Ml(9,_,_.return)}var W=_.sibling;if(W!==null){W.return=_.return,he=W;break e}he=_.return}}var V=s.current;for(he=V;he!==null;){T=he;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,he=H;else e:for(T=V;he!==null;){if(R=he,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Gc(9,R)}}catch(ge){ut(R,R.return,ge)}if(R===T){he=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,he=se;break e}he=R.return}}if(Be=m,Ai(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Is,s)}catch{}f=!0}return f}finally{Me=u,Vn.transition=o}}return!1}function W0(s,o,u){o=ta(u,o),o=l0(s,o,1),s=Ri(s,o,1),o=sn(),s!==null&&(yi(s,1,o),pn(s,o))}function ut(s,o,u){if(s.tag===3)W0(s,s,u);else for(;o!==null;){if(o.tag===3){W0(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(bi===null||!bi.has(f))){s=ta(u,s),s=u0(o,s,1),o=Ri(o,s,1),s=sn(),o!==null&&(yi(o,1,s),pn(o,s));break}}o=o.return}}function BA(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),o=sn(),s.pingedLanes|=s.suspendedLanes&u,Nt===s&&(Ut&u)===u&&(xt===4||xt===3&&(Ut&130023424)===Ut&&500>Ye()-up?js(s,0):lp|=u),pn(s,o)}function H0(s,o){o===0&&((s.mode&1)===0?o=1:(o=xo,xo<<=1,(xo&130023424)===0&&(xo=4194304)));var u=sn();s=qr(s,o),s!==null&&(yi(s,o,u),pn(s,u))}function zA(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),H0(s,u)}function $A(s,o){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),H0(s,u)}var q0;q0=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||cn.current)dn=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return dn=!1,kA(s,o,u);dn=(s.flags&131072)!==0}else dn=!1,it&&(o.flags&1048576)!==0&&Pv(o,bc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;qc(s,o),s=o.pendingProps;var m=Ko(o,Wt.current);Zo(o,u),m=jf(null,o,f,s,m,u);var _=Bf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,hn(f)?(_=!0,xc(o)):_=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Nf(o),m.updater=Wc,o.stateNode=m,m._reactInternals=o,Kf(o,f,s,u),o=Xf(null,o,f,!0,_,u)):(o.tag=0,it&&_&&Sf(o),rn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(qc(s,o),s=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=HA(f),s=tr(f,s),m){case 0:o=Yf(null,o,f,s,u);break e;case 1:o=v0(null,o,f,s,u);break e;case 11:o=f0(null,o,f,s,u);break e;case 14:o=p0(null,o,f,tr(f.type,s),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),Yf(s,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),v0(s,o,f,m,u);case 3:e:{if(_0(o),s===null)throw Error(t(387));f=o.pendingProps,_=o.memoizedState,m=_.element,Lv(s,o),Mc(o,f,null,u);var T=o.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){m=ta(Error(t(423)),o),o=w0(s,o,f,u,m);break e}else if(f!==m){m=ta(Error(t(424)),o),o=w0(s,o,f,u,m);break e}else for(Sn=Ii(o.stateNode.containerInfo.firstChild),Tn=o,it=!0,er=null,u=Dv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Yo(),f===m){o=Gr(s,o,u);break e}rn(s,o,f,u)}o=o.child}return o;case 5:return Mv(o),s===null&&Cf(o),f=o.type,m=o.pendingProps,_=s!==null?s.memoizedProps:null,T=m.children,yf(f,m)?T=null:_!==null&&yf(f,_)&&(o.flags|=32),y0(s,o),rn(s,o,T,u),o.child;case 6:return s===null&&Cf(o),null;case 13:return E0(s,o,u);case 4:return Lf(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Xo(o,null,f,u):rn(s,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),f0(s,o,f,m,u);case 7:return rn(s,o,o.pendingProps,u),o.child;case 8:return rn(s,o,o.pendingProps.children,u),o.child;case 12:return rn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,_=o.memoizedProps,T=m.value,Xe(Lc,f._currentValue),f._currentValue=T,_!==null)if(Zn(_.value,T)){if(_.children===m.children&&!cn.current){o=Gr(s,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var R=_.dependencies;if(R!==null){T=_.child;for(var O=R.firstContext;O!==null;){if(O.context===f){if(_.tag===1){O=Kr(-1,u&-u),O.tag=2;var q=_.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?O.next=O:(O.next=ee.next,ee.next=O),q.pending=O}}_.lanes|=u,O=_.alternate,O!==null&&(O.lanes|=u),bf(_.return,u,o),R.lanes|=u;break}O=O.next}}else if(_.tag===10)T=_.type===o.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=u,R=T.alternate,R!==null&&(R.lanes|=u),bf(T,u,o),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===o){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}rn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Zo(o,u),m=Ln(m),f=f(m),o.flags|=1,rn(s,o,f,u),o.child;case 14:return f=o.type,m=tr(f,o.pendingProps),m=tr(f.type,m),p0(s,o,f,m,u);case 15:return m0(s,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),qc(s,o),o.tag=1,hn(f)?(s=!0,xc(o)):s=!1,Zo(o,u),o0(o,f,m),Kf(o,f,m,u),Xf(null,o,f,!0,s,u);case 19:return S0(s,o,u);case 22:return g0(s,o,u)}throw Error(t(156,o.tag))};function K0(s,o){return Co(s,o)}function WA(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(s,o,u,f){return new WA(s,o,u,f)}function yp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function HA(s){if(typeof s=="function")return yp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===yt)return 14}return 2}function Oi(s,o){var u=s.alternate;return u===null?(u=Mn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function rh(s,o,u,f,m,_){var T=2;if(f=s,typeof s=="function")yp(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case N:return zs(u.children,m,_,o);case C:T=8,m|=8;break;case k:return s=Mn(12,u,o,m|2),s.elementType=k,s.lanes=_,s;case b:return s=Mn(13,u,o,m),s.elementType=b,s.lanes=_,s;case Le:return s=Mn(19,u,o,m),s.elementType=Le,s.lanes=_,s;case ve:return ih(u,m,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:T=10;break e;case M:T=9;break e;case B:T=11;break e;case yt:T=14;break e;case Ke:T=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Mn(T,u,o,m),o.elementType=s,o.type=f,o.lanes=_,o}function zs(s,o,u,f){return s=Mn(7,s,f,o),s.lanes=u,s}function ih(s,o,u,f){return s=Mn(22,s,f,o),s.elementType=ve,s.lanes=u,s.stateNode={isHidden:!1},s}function vp(s,o,u){return s=Mn(6,s,null,o),s.lanes=u,s}function _p(s,o,u){return o=Mn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function qA(s,o,u,f,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function wp(s,o,u,f,m,_,T,R,O){return s=new qA(s,o,u,R,O),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Mn(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nf(_),s}function KA(s,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:f==null?null:""+f,children:s,containerInfo:o,implementation:u}}function G0(s){if(!s)return Ci;s=s._reactInternals;e:{if(qn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(hn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(hn(u))return Tv(s,u,o)}return o}function Q0(s,o,u,f,m,_,T,R,O){return s=wp(u,f,!0,s,m,_,T,R,O),s.context=G0(null),u=s.current,f=sn(),m=Ni(u),_=Kr(f,m),_.callback=o??null,Ri(u,_,m),s.current.lanes=m,yi(s,m,f),pn(s,f),s}function sh(s,o,u,f){var m=o.current,_=sn(),T=Ni(m);return u=G0(u),o.context===null?o.context=u:o.pendingContext=u,o=Kr(_,T),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ri(m,o,T),s!==null&&(ir(s,m,T,_),Vc(s,m,T)),T}function oh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Y0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Ep(s,o){Y0(s,o),(s=s.alternate)&&Y0(s,o)}function GA(){return null}var X0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Tp(s){this._internalRoot=s}ah.prototype.render=Tp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));sh(s,o,null,null)},ah.prototype.unmount=Tp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Us(function(){sh(null,s,null,null)}),o[zr]=null}};function ah(s){this._internalRoot=s}ah.prototype.unstable_scheduleHydration=function(s){if(s){var o=ac();s={blockedOn:null,target:s,priority:o};for(var u=0;u<fr.length&&o!==0&&o<fr[u].priority;u++);fr.splice(u,0,s),u===0&&cc(s)}};function Sp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function lh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function J0(){}function QA(s,o,u,f,m){if(m){if(typeof f=="function"){var _=f;f=function(){var q=oh(T);_.call(q)}}var T=Q0(o,f,s,0,null,!1,!1,"",J0);return s._reactRootContainer=T,s[zr]=T.current,Il(s.nodeType===8?s.parentNode:s),Us(),T}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var R=f;f=function(){var q=oh(O);R.call(q)}}var O=wp(s,0,!1,null,null,!1,!1,"",J0);return s._reactRootContainer=O,s[zr]=O.current,Il(s.nodeType===8?s.parentNode:s),Us(function(){sh(o,O,u,f)}),O}function uh(s,o,u,f,m){var _=u._reactRootContainer;if(_){var T=_;if(typeof m=="function"){var R=m;m=function(){var O=oh(T);R.call(O)}}sh(o,T,s,m)}else T=QA(u,o,s,m,f);return oh(T)}sc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=mi(o.pendingLanes);u!==0&&(vi(o,u|1),pn(o,Ye()),(Be&6)===0&&(ia=Ye()+500,Ai()))}break;case 13:Us(function(){var f=qr(s,1);if(f!==null){var m=sn();ir(f,s,1,m)}}),Ep(s,1)}},Ro=function(s){if(s.tag===13){var o=qr(s,134217728);if(o!==null){var u=sn();ir(o,s,134217728,u)}Ep(s,134217728)}},oc=function(s){if(s.tag===13){var o=Ni(s),u=qr(s,o);if(u!==null){var f=sn();ir(u,s,o,f)}Ep(s,o)}},ac=function(){return Me},lc=function(s,o){var u=Me;try{return Me=s,o()}finally{Me=u}},wo=function(s,o,u){switch(o){case"input":if(Qa(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var m=Cc(f);if(!m)throw Error(t(90));po(f),Qa(f,m)}}}break;case"textarea":vo(s,u);break;case"select":o=u.value,o!=null&&Lr(s,!!u.multiple,o,!1)}},_s=pp,sl=Us;var YA={usingClientEntryPoint:!1,Events:[Al,Ho,Cc,hr,il,pp]},Bl={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XA={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ll(s),s===null?null:s.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||GA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Is=ch.inject(XA),vn=ch}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YA,mn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sp(o))throw Error(t(200));return KA(s,o,null,u)},mn.createRoot=function(s,o){if(!Sp(s))throw Error(t(299));var u=!1,f="",m=X0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=wp(s,1,!1,null,null,u,!1,f,m),s[zr]=o.current,Il(s.nodeType===8?s.parentNode:s),new Tp(o)},mn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=ll(o),s=s===null?null:s.stateNode,s},mn.flushSync=function(s){return Us(s)},mn.hydrate=function(s,o,u){if(!lh(o))throw Error(t(200));return uh(null,s,o,!0,u)},mn.hydrateRoot=function(s,o,u){if(!Sp(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,_="",T=X0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=Q0(o,null,s,1,u??null,m,!1,_,T),s[zr]=o.current,Il(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new ah(o)},mn.render=function(s,o,u){if(!lh(o))throw Error(t(200));return uh(null,s,o,!1,u)},mn.unmountComponentAtNode=function(s){if(!lh(s))throw Error(t(40));return s._reactRootContainer?(Us(function(){uh(null,null,s,!1,function(){s._reactRootContainer=null,s[zr]=null})}),!0):!1},mn.unstable_batchedUpdates=pp,mn.unstable_renderSubtreeIntoContainer=function(s,o,u,f){if(!lh(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return uh(s,o,u,!1,f)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var o_;function zT(){if(o_)return Cp.exports;o_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cp.exports=sx(),Cp.exports}var a_;function ox(){if(a_)return hh;a_=1;var n=zT();return hh.createRoot=n.createRoot,hh.hydrateRoot=n.hydrateRoot,hh}var ax=ox();const lx=Oa(ax);var D=pg();const an=Oa(D),ux=ZA({__proto__:null,default:an},[D]);var Rp={exports:{}},kp,l_;function cx(){if(l_)return kp;l_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kp=n,kp}var bp,u_;function hx(){if(u_)return bp;u_=1;var n=cx();function e(){}function t(){}return t.resetWarningCache=e,bp=function(){function r(l,c,d,p,g,y){if(y!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},bp}var c_;function dx(){return c_||(c_=1,Rp.exports=hx()()),Rp.exports}var fx=dx();const Ae=Oa(fx),$T=D.createContext(),vj=()=>D.useContext($T),px=n=>{const e=document.documentElement;n?(e.style.setProperty("--background-primary","#0f172a"),e.style.setProperty("--background-secondary","#1e293b"),e.style.setProperty("--surface-primary","#334155"),e.style.setProperty("--surface-secondary","#475569"),e.style.setProperty("--text-primary","#f8fafc"),e.style.setProperty("--text-secondary","#cbd5e1"),e.style.setProperty("--text-muted","#94a3b8"),e.style.setProperty("--border-primary","#475569"),e.style.setProperty("--border-secondary","#64748b"),e.style.setProperty("--glass-bg","rgba(51, 65, 85, 0.8)"),e.style.setProperty("--glass-border","rgba(148, 163, 184, 0.2)"),e.style.setProperty("--accent-success","#10b981"),e.style.setProperty("--accent-error","#ef4444"),e.style.setProperty("--accent-warning","#f59e0b"),e.style.setProperty("--accent-info","#3b82f6"),e.style.setProperty("--pastel-mint","rgba(16, 185, 129, 0.15)"),e.style.setProperty("--pastel-coral","rgba(239, 68, 68, 0.15)"),e.style.setProperty("--pastel-cream","rgba(245, 158, 11, 0.15)"),e.style.setProperty("--pastel-sky","rgba(59, 130, 246, 0.15)"),e.style.setProperty("--pastel-lavender","rgba(139, 92, 246, 0.15)"),e.style.setProperty("--pastel-rose","rgba(236, 72, 153, 0.15)"),e.style.setProperty("--gradient-soft-blue","linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(147, 197, 253, 0.08) 100%)"),e.style.setProperty("--gradient-soft-purple","linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(196, 181, 253, 0.08) 100%)"),e.style.setProperty("--primary-400","#60a5fa"),e.style.setProperty("--primary-500","#3b82f6"),e.style.setProperty("--primary-600","#2563eb"),document.querySelector('meta[name="theme-color"]')?.setAttribute("content","#0f172a")):(e.style.setProperty("--background-primary","#f8fafc"),e.style.setProperty("--background-secondary","#f1f5f9"),e.style.setProperty("--surface-primary","#ffffff"),e.style.setProperty("--surface-secondary","#f8fafc"),e.style.setProperty("--text-primary","#0f172a"),e.style.setProperty("--text-secondary","#334155"),e.style.setProperty("--text-muted","#64748b"),e.style.setProperty("--border-primary","#e2e8f0"),e.style.setProperty("--border-secondary","#cbd5e1"),e.style.setProperty("--glass-bg","rgba(255, 255, 255, 0.8)"),e.style.setProperty("--glass-border","rgba(148, 163, 184, 0.2)"),e.style.setProperty("--accent-success","#10b981"),e.style.setProperty("--accent-error","#ef4444"),e.style.setProperty("--accent-warning","#f59e0b"),e.style.setProperty("--accent-info","#3b82f6"),e.style.setProperty("--pastel-mint","rgba(16, 185, 129, 0.1)"),e.style.setProperty("--pastel-coral","rgba(239, 68, 68, 0.1)"),e.style.setProperty("--pastel-cream","rgba(245, 158, 11, 0.1)"),e.style.setProperty("--pastel-sky","rgba(59, 130, 246, 0.1)"),e.style.setProperty("--pastel-lavender","rgba(139, 92, 246, 0.1)"),e.style.setProperty("--pastel-rose","rgba(236, 72, 153, 0.1)"),e.style.setProperty("--gradient-soft-blue","linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(147, 197, 253, 0.05) 100%)"),e.style.setProperty("--gradient-soft-purple","linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(196, 181, 253, 0.05) 100%)"),e.style.setProperty("--primary-400","#60a5fa"),e.style.setProperty("--primary-500","#3b82f6"),e.style.setProperty("--primary-600","#2563eb"),document.querySelector('meta[name="theme-color"]')?.setAttribute("content","#f8fafc")),document.body.classList.toggle("dark-theme",n),document.body.classList.toggle("light-theme",!n),document.documentElement.classList.toggle("dark-theme",n),document.documentElement.classList.toggle("light-theme",!n)},WT=({children:n})=>{WT.propTypes={children:Ae.node.isRequired};const[e,t]=D.useState(()=>localStorage.getItem("theme")||"system"),r=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,i=c=>{let d;return c==="system"?d=r():d=c==="dark",px(d),d},a=c=>{t(c),localStorage.setItem("theme",c),i(c)},l=()=>e==="system"?r()?"dark":"light":e;return D.useEffect(()=>{i(e);const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{e==="system"&&i("system")};return c.addEventListener("change",d),()=>c.removeEventListener("change",d)},[e]),J.jsx($T.Provider,{value:{theme:e,toggleTheme:a,currentEffectiveTheme:l(),isDarkMode:l()==="dark"},children:n})},mx=()=>{};var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},gx=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},qT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,d=i+2<n.length,p=d?n[i+2]:0,g=a>>2,y=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,S=p&63;d||(S=64,l||(w=64)),r.push(t[g],t[y],t[w],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(HT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||p==null||y==null)throw new yx;const w=a<<2|c>>4;if(r.push(w),p!==64){const S=c<<4&240|p>>2;if(r.push(S),y!==64){const P=p<<6&192|y;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vx=function(n){const e=HT(n);return qT.encodeByteArray(e,!0)},Uh=function(n){return vx(n).replace(/\./g,"")},KT=function(n){try{return qT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=()=>_x().__FIREBASE_DEFAULTS__,Ex=()=>{if(typeof process>"u"||typeof h_>"u")return;const n=h_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Tx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&KT(n[1]);return e&&JSON.parse(e)},vd=()=>{try{return mx()||wx()||Ex()||Tx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GT=n=>{var e,t;return(t=(e=vd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Sx=n=>{const e=GT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},QT=()=>{var n;return(n=vd())===null||n===void 0?void 0:n.config},YT=n=>{var e;return(e=vd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uh(JSON.stringify(t)),Uh(JSON.stringify(l)),""].join(".")}const ru={};function Cx(){const n={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?n.emulator.push(e):n.prod.push(e);return n}function Ax(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let d_=!1;function JT(n,e){if(typeof window>"u"||typeof document>"u"||!Va(window.location.host)||ru[n]===e||ru[n]||d_)return;ru[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=Cx().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{d_=!0,l()},w}function g(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=Ax(r),S=t("text"),P=document.getElementById(S)||document.createElement("span"),x=t("learnmore"),A=document.getElementById(x)||document.createElement("a"),F=t("preprendIcon"),j=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const z=w.element;c(z),g(A,x);const G=p();d(j,F),z.append(j,P,A,G),document.body.appendChild(z)}a?(P.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function Rx(){var n;const e=(n=vd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Dx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nx(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Lx(){return!Rx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ox(){try{return typeof indexedDB=="object"}catch{return!1}}function Vx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="FirebaseError";class ai extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Mx,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?Fx(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ai(i,c,r)}}function Fx(n,e){return n.replace(Ux,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ux=/\{\$([^}]+)}/g;function jx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function eo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(f_(a)&&f_(l)){if(!eo(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function f_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ql(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Kl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Bx(n,e){const t=new zx(n,e);return t.subscribe.bind(t)}class zx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");$x(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Dp),i.error===void 0&&(i.error=Dp),i.complete===void 0&&(i.complete=Dp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $x(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n){return n&&n._delegate?n._delegate:n}class to{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wx=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ix;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qx(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hx(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Hx(n){return n===Ws?void 0:n}function qx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Wx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const Gx={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Qx=Oe.INFO,Yx={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Xx=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Yx[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let mg=class{constructor(e){this.name=e,this._logLevel=Qx,this._logHandler=Xx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Gx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}};const Jx=(n,e)=>e.some(t=>n instanceof t);let p_,m_;function Zx(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eR(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZT=new WeakMap,hm=new WeakMap,e1=new WeakMap,Np=new WeakMap,gg=new WeakMap;function tR(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Hi(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&ZT.set(t,n)}).catch(()=>{}),gg.set(e,n),e}function nR(n){if(hm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});hm.set(n,e)}let dm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||e1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rR(n){dm=n(dm)}function iR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Lp(this),e,...t);return e1.set(r,e.sort?e.sort():[e]),Hi(r)}:eR().includes(n)?function(...e){return n.apply(Lp(this),e),Hi(ZT.get(this))}:function(...e){return Hi(n.apply(Lp(this),e))}}function sR(n){return typeof n=="function"?iR(n):(n instanceof IDBTransaction&&nR(n),Jx(n,Zx())?new Proxy(n,dm):n)}function Hi(n){if(n instanceof IDBRequest)return tR(n);if(Np.has(n))return Np.get(n);const e=sR(n);return e!==n&&(Np.set(n,e),gg.set(e,n)),e}const Lp=n=>gg.get(n);function oR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=Hi(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Hi(l.result),d.oldVersion,d.newVersion,Hi(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const aR=["get","getKey","getAll","getAllKeys","count"],lR=["put","add","delete","clear"],Op=new Map;function g_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Op.get(e))return Op.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=lR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aR.includes(t)))return;const a=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&d.done]))[0]};return Op.set(e,a),a}rR(n=>({...n,get:(e,t,r)=>g_(e,t)||n.get(e,t,r),has:(e,t)=>!!g_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function cR(n){const e=n.getComponent();return e?.type==="VERSION"}const fm="@firebase/app",y_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new mg("@firebase/app"),hR="@firebase/app-compat",dR="@firebase/analytics-compat",fR="@firebase/analytics",pR="@firebase/app-check-compat",mR="@firebase/app-check",gR="@firebase/auth",yR="@firebase/auth-compat",vR="@firebase/database",_R="@firebase/data-connect",wR="@firebase/database-compat",ER="@firebase/functions",TR="@firebase/functions-compat",SR="@firebase/installations",IR="@firebase/installations-compat",PR="@firebase/messaging",CR="@firebase/messaging-compat",AR="@firebase/performance",xR="@firebase/performance-compat",RR="@firebase/remote-config",kR="@firebase/remote-config-compat",bR="@firebase/storage",DR="@firebase/storage-compat",NR="@firebase/firestore",LR="@firebase/ai",OR="@firebase/firestore-compat",VR="firebase",MR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",FR={[fm]:"fire-core",[hR]:"fire-core-compat",[fR]:"fire-analytics",[dR]:"fire-analytics-compat",[mR]:"fire-app-check",[pR]:"fire-app-check-compat",[gR]:"fire-auth",[yR]:"fire-auth-compat",[vR]:"fire-rtdb",[_R]:"fire-data-connect",[wR]:"fire-rtdb-compat",[ER]:"fire-fn",[TR]:"fire-fn-compat",[SR]:"fire-iid",[IR]:"fire-iid-compat",[PR]:"fire-fcm",[CR]:"fire-fcm-compat",[AR]:"fire-perf",[xR]:"fire-perf-compat",[RR]:"fire-rc",[kR]:"fire-rc-compat",[bR]:"fire-gcs",[DR]:"fire-gcs-compat",[NR]:"fire-fst",[OR]:"fire-fst-compat",[LR]:"fire-vertex","fire-js":"fire-js",[VR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,UR=new Map,mm=new Map;function v_(n,e){try{n.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pa(n){const e=n.name;if(mm.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,n);for(const t of jh.values())v_(t,n);for(const t of UR.values())v_(t,n);return!0}function yg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new Du("app","Firebase",jR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=MR;function t1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw qi.create("bad-app-name",{appName:String(i)});if(t||(t=QT()),!t)throw qi.create("no-options");const a=jh.get(i);if(a){if(eo(t,a.options)&&eo(r,a.config))return a;throw qi.create("duplicate-app",{appName:i})}const l=new Kx(i);for(const d of mm.values())l.addComponent(d);const c=new BR(t,r,l);return jh.set(i,c),c}function n1(n=pm){const e=jh.get(n);if(!e&&n===pm&&QT())return t1();if(!e)throw qi.create("no-app",{appName:n});return e}function Ki(n,e,t){var r;let i=(r=FR[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(c.join(" "));return}Pa(new to(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firebase-heartbeat-database",$R=1,pu="firebase-heartbeat-store";let Vp=null;function r1(){return Vp||(Vp=oR(zR,$R,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(pu)}catch(t){console.warn(t)}}}}).catch(n=>{throw qi.create("idb-open",{originalErrorMessage:n.message})})),Vp}async function WR(n){try{const t=(await r1()).transaction(pu),r=await t.objectStore(pu).get(i1(n));return await t.done,r}catch(e){if(e instanceof ai)ni.warn(e.message);else{const t=qi.create("idb-get",{originalErrorMessage:e?.message});ni.warn(t.message)}}}async function __(n,e){try{const r=(await r1()).transaction(pu,"readwrite");await r.objectStore(pu).put(e,i1(n)),await r.done}catch(t){if(t instanceof ai)ni.warn(t.message);else{const r=qi.create("idb-set",{originalErrorMessage:t?.message});ni.warn(r.message)}}}function i1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1024,qR=30;class KR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=w_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>qR){const l=YR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=w_(),{heartbeatsToSend:r,unsentEntries:i}=GR(this._heartbeatsCache.heartbeats),a=Uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ni.warn(t),""}}}function w_(){return new Date().toISOString().substring(0,10)}function GR(n,e=HR){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),E_(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),E_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class QR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ox()?Vx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function E_(n){return Uh(JSON.stringify({version:2,heartbeats:n})).length}function YR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){Pa(new to("platform-logger",e=>new uR(e),"PRIVATE")),Pa(new to("heartbeat",e=>new KR(e),"PRIVATE")),Ki(fm,y_,n),Ki(fm,y_,"esm2017"),Ki("fire-js","")}XR("");var JR="firebase",ZR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(JR,ZR,"app");function vg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ek=s1,o1=new Du("auth","Firebase",s1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new mg("@firebase/auth");function tk(n,...e){Bh.logLevel<=Oe.WARN&&Bh.warn(`Auth (${Ma}): ${n}`,...e)}function Ih(n,...e){Bh.logLevel<=Oe.ERROR&&Bh.error(`Auth (${Ma}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n,...e){throw _g(n,...e)}function Sr(n,...e){return _g(n,...e)}function a1(n,e,t){const r=Object.assign(Object.assign({},ek()),{[e]:t});return new Du("auth","Firebase",r).create(e,{appName:n.name})}function Zr(n){return a1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _g(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return o1.create(n,...e)}function Te(n,e,...t){if(!n)throw _g(e,...t)}function Xr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ih(e),new Error(e)}function ri(n,e){n||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nk(){return T_()==="http:"||T_()==="https:"}function T_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nk()||bx()||"connection"in navigator)?navigator.onLine:!0}function ik(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ri(t>e,"Short delay should be less than long delay!"),this.isMobile=xx()||Dx()}get(){return rk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(n,e){ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ak=new Lu(3e4,6e4);function ls(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function li(n,e,t,r,i={}){return u1(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Nu(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},a);return kx()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Va(n.emulatorConfig.host)&&(p.credentials="include"),l1.fetch()(await c1(n,n.config.apiHost,t,c),p)})}async function u1(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},sk),e);try{const i=new uk(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw dh(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw dh(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw dh(n,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw a1(n,g,p);lr(n,g)}}catch(i){if(i instanceof ai)throw i;lr(n,"network-request-failed",{message:String(i)})}}async function Ou(n,e,t,r,i={}){const a=await li(n,e,t,r,i);return"mfaPendingCredential"in a&&lr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function c1(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?wg(n.config,i):`${n.config.apiScheme}://${i}`;return ok.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function lk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),ak.get())})}}function dh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Sr(n,e,r);return i.customData._tokenResponse=t,i}function S_(n){return n!==void 0&&n.enterprise!==void 0}class ck{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hk(n,e){return li(n,"GET","/v2/recaptchaConfig",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(n,e){return li(n,"POST","/v1/accounts:delete",e)}async function zh(n,e){return li(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fk(n,e=!1){const t=St(n),r=await t.getIdToken(e),i=Eg(r);Te(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:iu(Mp(i.auth_time)),issuedAtTime:iu(Mp(i.iat)),expirationTime:iu(Mp(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Mp(n){return Number(n)*1e3}function Eg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=KT(t);return i?JSON.parse(i):(Ih("Failed to decode base64 JWT payload"),null)}catch(i){return Ih("Caught error parsing JWT payload as JSON",i?.toString()),null}}function I_(n){const e=Eg(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ai&&pk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function pk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ca(n,zh(t,{idToken:r}));Te(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?h1(a.providerUserInfo):[],c=yk(n.providerData,l),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!c?.length,g=d?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ym(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function gk(n){const e=St(n);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yk(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function h1(n){return n.map(e=>{var{providerId:t}=e,r=vg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(n,e){const t=await u1(n,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await c1(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return n.emulatorConfig&&Va(n.emulatorConfig.host)&&(d.credentials="include"),l1.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function _k(n,e){return li(n,"POST","/v2/accounts:revokeToken",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=I_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await vk(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new wa;return r&&(Te(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Te(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ar{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ym(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ca(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fk(this,e)}reload(){return gk(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await $h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Zr(this.auth));const e=await this.getIdToken();return await Ca(this,dk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,d,p,g;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,P=(l=t.photoURL)!==null&&l!==void 0?l:void 0,x=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,F=(p=t.createdAt)!==null&&p!==void 0?p:void 0,j=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:z,emailVerified:G,isAnonymous:te,providerData:ie,stsTokenManager:N}=t;Te(z&&N,e,"internal-error");const C=wa.fromJSON(this.name,N);Te(typeof z=="string",e,"internal-error"),Mi(y,e.name),Mi(w,e.name),Te(typeof G=="boolean",e,"internal-error"),Te(typeof te=="boolean",e,"internal-error"),Mi(S,e.name),Mi(P,e.name),Mi(x,e.name),Mi(A,e.name),Mi(F,e.name),Mi(j,e.name);const k=new ar({uid:z,auth:e,email:w,emailVerified:G,displayName:y,isAnonymous:te,photoURL:P,phoneNumber:S,tenantId:x,stsTokenManager:C,createdAt:F,lastLoginAt:j});return ie&&Array.isArray(ie)&&(k.providerData=ie.map(L=>Object.assign({},L))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new wa;i.updateFromServerResponse(t);const a=new ar({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $h(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Te(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?h1(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,c=new wa;c.updateFromIdToken(r);const d=new ar({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ym(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function Jr(n){ri(n instanceof Function,"Expected a class definition");let e=P_.get(n);return e?(ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,P_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}d1.type="NONE";const C_=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(n,e,t){return`firebase:${n}:${e}:${t}`}class Ea{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Ph(this.userKey,i.apiKey,a),this.fullPersistenceKey=Ph("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zh(this.auth,{idToken:e}).catch(()=>{});return t?ar._fromGetAccountInfoResponse(this.auth,t,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ea(Jr(C_),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Jr(C_);const l=Ph(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){let y;if(typeof g=="string"){const w=await zh(e,{idToken:g}).catch(()=>{});if(!w)break;y=await ar._fromGetAccountInfoResponse(e,w,g)}else y=ar._fromJSON(e,g);p!==a&&(c=y),a=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Ea(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ea(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v1(e))return"Blackberry";if(_1(e))return"Webos";if(p1(e))return"Safari";if((e.includes("chrome/")||m1(e))&&!e.includes("edge/"))return"Chrome";if(y1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function f1(n=Zt()){return/firefox\//i.test(n)}function p1(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m1(n=Zt()){return/crios\//i.test(n)}function g1(n=Zt()){return/iemobile/i.test(n)}function y1(n=Zt()){return/android/i.test(n)}function v1(n=Zt()){return/blackberry/i.test(n)}function _1(n=Zt()){return/webos/i.test(n)}function Tg(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wk(n=Zt()){var e;return Tg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ek(){return Nx()&&document.documentMode===10}function w1(n=Zt()){return Tg(n)||y1(n)||_1(n)||v1(n)||/windows phone/i.test(n)||g1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n,e=[]){let t;switch(n){case"Browser":t=A_(Zt());break;case"Worker":t=`${A_(Zt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(n,e={}){return li(n,"GET","/v2/passwordPolicy",ls(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=6;class Pk{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:Ik,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x_(this),this.idTokenSubscription=new x_(this),this.beforeStateQueue=new Tk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jr(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ea.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zh(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ik()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Zr(this));const t=e?St(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Sk(this),t=new Pk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await _k(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[Jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&tk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function oo(n){return St(n)}class x_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bx(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ak(n){_d=n}function T1(n){return _d.loadJS(n)}function xk(){return _d.recaptchaEnterpriseScript}function Rk(){return _d.gapiScript}function kk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bk{constructor(){this.enterprise=new Dk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Dk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Nk="recaptcha-enterprise",S1="NO_RECAPTCHA";class Lk{constructor(e){this.type=Nk,this.auth=oo(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{hk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new ck(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function i(a,l,c){const d=window.grecaptcha;S_(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(S1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bk().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&S_(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=xk();d.length!==0&&(d+=c),T1(d).then(()=>{i(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function R_(n,e,t,r=!1,i=!1){const a=new Lk(n);let l;if(i)l=S1;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function vm(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await R_(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await R_(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(n,e){const t=yg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(eo(a,e??{}))return i;lr(i,"already-initialized")}return t.initialize({options:e})}function Vk(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Jr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Mk(n,e,t){const r=oo(n);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=I1(e),{host:l,port:c}=Fk(e),d=c===null?"":`:${c}`,p={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(eo(p,r.config.emulator)&&eo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Va(l)?(XT(`${a}//${l}${d}`),JT("Auth",!0)):Uk()}function I1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Fk(n){const e=I1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:k_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:k_(l)}}}function k_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Uk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,t){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}async function jk(n,e){return li(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(n,e){return Ou(n,"POST","/v1/accounts:signInWithPassword",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e){return Ou(n,"POST","/v1/accounts:signInWithEmailLink",ls(n,e))}async function $k(n,e){return Ou(n,"POST","/v1/accounts:signInWithEmailLink",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Sg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new mu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new mu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,t,"signInWithPassword",Bk);case"emailLink":return zk(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,r,"signUpPassword",jk);case"emailLink":return $k(e,{idToken:t,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(n,e){return Ou(n,"POST","/v1/accounts:signInWithIdp",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="http://localhost";class no extends Sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=vg(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new no(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ta(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ta(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ta(e,t)}buildRequest(){const e={requestUri:Wk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qk(n){const e=ql(Kl(n)).link,t=e?ql(Kl(e)).deep_link_id:null,r=ql(Kl(n)).deep_link_id;return(r?ql(Kl(r)).link:null)||r||t||e||n}class Ig{constructor(e){var t,r,i,a,l,c;const d=ql(Kl(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=Hk((i=d.mode)!==null&&i!==void 0?i:null);Te(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=qk(e);try{return new Ig(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.providerId=Fa.PROVIDER_ID}static credential(e,t){return mu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ig.parseLink(t);return Te(r,"argument-error"),mu._fromEmailAndCode(e,r.code,r.tenantId)}}Fa.PROVIDER_ID="password";Fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends P1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Vu{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return no._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ji.credential(t,r)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Vu{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Vu{constructor(){super("twitter.com")}static credential(e,t){return no._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return zi.credential(t,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(n,e){return Ou(n,"POST","/v1/accounts:signUp",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await ar._fromIdTokenResponse(e,r,i),l=b_(r);return new ro({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=b_(r);return new ro({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function b_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends ai{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Wh(e,t,r,i)}}function C1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(n,a,e,r):a})}async function Gk(n,e,t=!1){const r=await Ca(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ro._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(n,e,t=!1){const{auth:r}=n;if(jn(r.app))return Promise.reject(Zr(r));const i="reauthenticate";try{const a=await Ca(n,C1(r,i,e,n),t);Te(a.idToken,r,"internal-error");const l=Eg(a.idToken);Te(l,r,"internal-error");const{sub:c}=l;return Te(n.uid===c,r,"user-mismatch"),ro._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&lr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(n,e,t=!1){if(jn(n.app))return Promise.reject(Zr(n));const r="signIn",i=await C1(n,r,e),a=await ro._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function Yk(n,e){return A1(oo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(n){const e=oo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ej(n,e,t){if(jn(n.app))return Promise.reject(Zr(n));const r=oo(n),l=await vm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kk).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&x1(n),d}),c=await ro._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function Tj(n,e,t){return jn(n.app)?Promise.reject(Zr(n)):Yk(St(n),Fa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&x1(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(n,e){return li(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=St(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ca(r,Xk(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Jk(n,e,t,r){return St(n).onIdTokenChanged(e,t,r)}function Zk(n,e,t){return St(n).beforeAuthStateChanged(e,t)}function e2(n,e,t,r){return St(n).onAuthStateChanged(e,t,r)}function t2(n){return St(n).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=1e3,r2=10;class k1 extends R1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Ek()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,r2):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}k1.type="LOCAL";const i2=k1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends R1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}b1.type="SESSION";const D1=b1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new wd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,a)),d=await s2(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const p=Pg("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function a2(n){Ir().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function l2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u2(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function c2(){return N1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebaseLocalStorageDb",h2=1,qh="firebaseLocalStorage",O1="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ed(n,e){return n.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function d2(){const n=indexedDB.deleteDatabase(L1);return new Mu(n).toPromise()}function _m(){const n=indexedDB.open(L1,h2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qh,{keyPath:O1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(qh)?e(r):(r.close(),await d2(),e(await _m()))})})}async function D_(n,e,t){const r=Ed(n,!0).put({[O1]:e,value:t});return new Mu(r).toPromise()}async function f2(n,e){const t=Ed(n,!1).get(e),r=await new Mu(t).toPromise();return r===void 0?null:r.value}function N_(n,e){const t=Ed(n,!0).delete(e);return new Mu(t).toPromise()}const p2=800,m2=3;class V1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>m2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(c2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await l2(),!this.activeServiceWorker)return;this.sender=new o2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await D_(e,Hh,"1"),await N_(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>D_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>f2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>N_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ed(i,!1).getAll();return new Mu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V1.type="LOCAL";const g2=V1;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(n,e){return e?Jr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends Sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ta(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function v2(n){return A1(n.auth,new Cg(n),n.bypassAuthState)}function _2(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),Qk(t,new Cg(n),n.bypassAuthState)}async function w2(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),Gk(t,new Cg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v2;case"linkViaPopup":case"linkViaRedirect":return w2;case"reauthViaPopup":case"reauthViaRedirect":return _2;default:lr(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new Lu(2e3,1e4);class pa extends M1{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=Pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E2.get())};e()}}pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="pendingRedirect",Ch=new Map;class S2 extends M1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const r=await I2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I2(n,e){const t=A2(e),r=C2(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function P2(n,e){Ch.set(n._key(),e)}function C2(n){return Jr(n._redirectPersistence)}function A2(n){return Ph(T2,n.config.apiKey,n.name)}async function x2(n,e,t=!1){if(jn(n.app))return Promise.reject(Zr(n));const r=oo(n),i=y2(r,e),l=await new S2(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=10*60*1e3;class k2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!F1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Sr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R2&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(e))}saveEventToCache(e){this.cachedEventUids.add(L_(e)),this.lastProcessedEventTime=Date.now()}}function L_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function F1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function b2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(n,e={}){return li(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L2=/^https?/;async function O2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await D2(n);for(const t of e)try{if(V2(t))return}catch{}lr(n,"unauthorized-domain")}function V2(n){const e=gm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!L2.test(t))return!1;if(N2.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new Lu(3e4,6e4);function O_(){const n=Ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function F2(n){return new Promise((e,t)=>{var r,i,a;function l(){O_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O_(),t(Sr(n,"network-request-failed"))},timeout:M2.get()})}if(!((i=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ir().gapi)===null||a===void 0)&&a.load)l();else{const c=kk("iframefcb");return Ir()[c]=()=>{gapi.load?l():t(Sr(n,"network-request-failed"))},T1(`${Rk()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function U2(n){return Ah=Ah||F2(n),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Lu(5e3,15e3),B2="__/auth/iframe",z2="emulator/auth/iframe",$2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H2(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wg(e,z2):`https://${n.config.authDomain}/${B2}`,r={apiKey:e.apiKey,appName:n.name,v:Ma},i=W2.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Nu(r).slice(1)}`}async function q2(n){const e=await U2(n),t=Ir().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:H2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$2,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Sr(n,"network-request-failed"),c=Ir().setTimeout(()=>{a(l)},j2.get());function d(){Ir().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G2=500,Q2=600,Y2="_blank",X2="http://localhost";class V_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function J2(n,e,t,r=G2,i=Q2){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},K2),{width:r.toString(),height:i.toString(),top:a,left:l}),p=Zt().toLowerCase();t&&(c=m1(p)?Y2:t),f1(p)&&(e=e||X2,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[S,P])=>`${w}${S}=${P},`,"");if(wk(p)&&c!=="_self")return Z2(e||"",c),new V_(null);const y=window.open(e||"",c,g);Te(y,n,"popup-blocked");try{y.focus()}catch{}return new V_(y)}function Z2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__/auth/handler",tb="emulator/auth/handler",nb=encodeURIComponent("fac");async function M_(n,e,t,r,i,a){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ma,eventId:i};if(e instanceof P1){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",jx(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof Vu){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await n._getAppCheckToken(),p=d?`#${nb}=${encodeURIComponent(d)}`:"";return`${rb(n)}?${Nu(c).slice(1)}${p}`}function rb({config:n}){return n.emulator?wg(n,tb):`https://${n.authDomain}/${eb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="webStorageSupport";class ib{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=x2,this._overrideRedirectResult=P2}async _openPopup(e,t,r,i){var a;ri((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await M_(e,t,r,gm(),i);return J2(e,l,Pg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await M_(e,t,r,gm(),i);return a2(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(ri(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await q2(e),r=new k2(e);return t.register("authEvent",i=>(Te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fp,{type:Fp},i=>{var a;const l=(a=i?.[0])===null||a===void 0?void 0:a[Fp];l!==void 0&&t(!!l),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=O2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return w1()||p1()||Tg()}}const sb=ib;var F_="@firebase/auth",U_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lb(n){Pa(new to("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Te(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E1(n)},p=new Ck(r,i,a,d);return Vk(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pa(new to("auth-internal",e=>{const t=oo(e.getProvider("auth").getImmediate());return(r=>new ob(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(F_,U_,ab(n)),Ki(F_,U_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=5*60,cb=YT("authIdTokenMaxAge")||ub;let j_=null;const hb=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>cb)return;const i=t?.token;j_!==i&&(j_=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function db(n=n1()){const e=yg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ok(n,{popupRedirectResolver:sb,persistence:[g2,i2,D1]}),r=YT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=hb(a.toString());Zk(t,l,()=>l(t.currentUser)),Jk(t,c=>l(c))}}const i=GT("auth");return i&&Mk(t,`http://${i}`),t}function fb(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ak({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Sr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",fb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lb("Browser");var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,U1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function k(){}k.prototype=C.prototype,N.D=C.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(L,M,B){for(var b=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)b[Le-2]=arguments[Le];return C.prototype[M].apply(L,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,C,k){k||(k=0);var L=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)L[M]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(M=0;16>M;++M)L[M]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=N.g[0],k=N.g[1],M=N.g[2];var B=N.g[3],b=C+(B^k&(M^B))+L[0]+3614090360&4294967295;C=k+(b<<7&4294967295|b>>>25),b=B+(M^C&(k^M))+L[1]+3905402710&4294967295,B=C+(b<<12&4294967295|b>>>20),b=M+(k^B&(C^k))+L[2]+606105819&4294967295,M=B+(b<<17&4294967295|b>>>15),b=k+(C^M&(B^C))+L[3]+3250441966&4294967295,k=M+(b<<22&4294967295|b>>>10),b=C+(B^k&(M^B))+L[4]+4118548399&4294967295,C=k+(b<<7&4294967295|b>>>25),b=B+(M^C&(k^M))+L[5]+1200080426&4294967295,B=C+(b<<12&4294967295|b>>>20),b=M+(k^B&(C^k))+L[6]+2821735955&4294967295,M=B+(b<<17&4294967295|b>>>15),b=k+(C^M&(B^C))+L[7]+4249261313&4294967295,k=M+(b<<22&4294967295|b>>>10),b=C+(B^k&(M^B))+L[8]+1770035416&4294967295,C=k+(b<<7&4294967295|b>>>25),b=B+(M^C&(k^M))+L[9]+2336552879&4294967295,B=C+(b<<12&4294967295|b>>>20),b=M+(k^B&(C^k))+L[10]+4294925233&4294967295,M=B+(b<<17&4294967295|b>>>15),b=k+(C^M&(B^C))+L[11]+2304563134&4294967295,k=M+(b<<22&4294967295|b>>>10),b=C+(B^k&(M^B))+L[12]+1804603682&4294967295,C=k+(b<<7&4294967295|b>>>25),b=B+(M^C&(k^M))+L[13]+4254626195&4294967295,B=C+(b<<12&4294967295|b>>>20),b=M+(k^B&(C^k))+L[14]+2792965006&4294967295,M=B+(b<<17&4294967295|b>>>15),b=k+(C^M&(B^C))+L[15]+1236535329&4294967295,k=M+(b<<22&4294967295|b>>>10),b=C+(M^B&(k^M))+L[1]+4129170786&4294967295,C=k+(b<<5&4294967295|b>>>27),b=B+(k^M&(C^k))+L[6]+3225465664&4294967295,B=C+(b<<9&4294967295|b>>>23),b=M+(C^k&(B^C))+L[11]+643717713&4294967295,M=B+(b<<14&4294967295|b>>>18),b=k+(B^C&(M^B))+L[0]+3921069994&4294967295,k=M+(b<<20&4294967295|b>>>12),b=C+(M^B&(k^M))+L[5]+3593408605&4294967295,C=k+(b<<5&4294967295|b>>>27),b=B+(k^M&(C^k))+L[10]+38016083&4294967295,B=C+(b<<9&4294967295|b>>>23),b=M+(C^k&(B^C))+L[15]+3634488961&4294967295,M=B+(b<<14&4294967295|b>>>18),b=k+(B^C&(M^B))+L[4]+3889429448&4294967295,k=M+(b<<20&4294967295|b>>>12),b=C+(M^B&(k^M))+L[9]+568446438&4294967295,C=k+(b<<5&4294967295|b>>>27),b=B+(k^M&(C^k))+L[14]+3275163606&4294967295,B=C+(b<<9&4294967295|b>>>23),b=M+(C^k&(B^C))+L[3]+4107603335&4294967295,M=B+(b<<14&4294967295|b>>>18),b=k+(B^C&(M^B))+L[8]+1163531501&4294967295,k=M+(b<<20&4294967295|b>>>12),b=C+(M^B&(k^M))+L[13]+2850285829&4294967295,C=k+(b<<5&4294967295|b>>>27),b=B+(k^M&(C^k))+L[2]+4243563512&4294967295,B=C+(b<<9&4294967295|b>>>23),b=M+(C^k&(B^C))+L[7]+1735328473&4294967295,M=B+(b<<14&4294967295|b>>>18),b=k+(B^C&(M^B))+L[12]+2368359562&4294967295,k=M+(b<<20&4294967295|b>>>12),b=C+(k^M^B)+L[5]+4294588738&4294967295,C=k+(b<<4&4294967295|b>>>28),b=B+(C^k^M)+L[8]+2272392833&4294967295,B=C+(b<<11&4294967295|b>>>21),b=M+(B^C^k)+L[11]+1839030562&4294967295,M=B+(b<<16&4294967295|b>>>16),b=k+(M^B^C)+L[14]+4259657740&4294967295,k=M+(b<<23&4294967295|b>>>9),b=C+(k^M^B)+L[1]+2763975236&4294967295,C=k+(b<<4&4294967295|b>>>28),b=B+(C^k^M)+L[4]+1272893353&4294967295,B=C+(b<<11&4294967295|b>>>21),b=M+(B^C^k)+L[7]+4139469664&4294967295,M=B+(b<<16&4294967295|b>>>16),b=k+(M^B^C)+L[10]+3200236656&4294967295,k=M+(b<<23&4294967295|b>>>9),b=C+(k^M^B)+L[13]+681279174&4294967295,C=k+(b<<4&4294967295|b>>>28),b=B+(C^k^M)+L[0]+3936430074&4294967295,B=C+(b<<11&4294967295|b>>>21),b=M+(B^C^k)+L[3]+3572445317&4294967295,M=B+(b<<16&4294967295|b>>>16),b=k+(M^B^C)+L[6]+76029189&4294967295,k=M+(b<<23&4294967295|b>>>9),b=C+(k^M^B)+L[9]+3654602809&4294967295,C=k+(b<<4&4294967295|b>>>28),b=B+(C^k^M)+L[12]+3873151461&4294967295,B=C+(b<<11&4294967295|b>>>21),b=M+(B^C^k)+L[15]+530742520&4294967295,M=B+(b<<16&4294967295|b>>>16),b=k+(M^B^C)+L[2]+3299628645&4294967295,k=M+(b<<23&4294967295|b>>>9),b=C+(M^(k|~B))+L[0]+4096336452&4294967295,C=k+(b<<6&4294967295|b>>>26),b=B+(k^(C|~M))+L[7]+1126891415&4294967295,B=C+(b<<10&4294967295|b>>>22),b=M+(C^(B|~k))+L[14]+2878612391&4294967295,M=B+(b<<15&4294967295|b>>>17),b=k+(B^(M|~C))+L[5]+4237533241&4294967295,k=M+(b<<21&4294967295|b>>>11),b=C+(M^(k|~B))+L[12]+1700485571&4294967295,C=k+(b<<6&4294967295|b>>>26),b=B+(k^(C|~M))+L[3]+2399980690&4294967295,B=C+(b<<10&4294967295|b>>>22),b=M+(C^(B|~k))+L[10]+4293915773&4294967295,M=B+(b<<15&4294967295|b>>>17),b=k+(B^(M|~C))+L[1]+2240044497&4294967295,k=M+(b<<21&4294967295|b>>>11),b=C+(M^(k|~B))+L[8]+1873313359&4294967295,C=k+(b<<6&4294967295|b>>>26),b=B+(k^(C|~M))+L[15]+4264355552&4294967295,B=C+(b<<10&4294967295|b>>>22),b=M+(C^(B|~k))+L[6]+2734768916&4294967295,M=B+(b<<15&4294967295|b>>>17),b=k+(B^(M|~C))+L[13]+1309151649&4294967295,k=M+(b<<21&4294967295|b>>>11),b=C+(M^(k|~B))+L[4]+4149444226&4294967295,C=k+(b<<6&4294967295|b>>>26),b=B+(k^(C|~M))+L[11]+3174756917&4294967295,B=C+(b<<10&4294967295|b>>>22),b=M+(C^(B|~k))+L[2]+718787259&4294967295,M=B+(b<<15&4294967295|b>>>17),b=k+(B^(M|~C))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(M+(b<<21&4294967295|b>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+B&4294967295}r.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var k=C-this.blockSize,L=this.B,M=this.h,B=0;B<C;){if(M==0)for(;B<=k;)i(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<C;)if(L[M++]=N.charCodeAt(B++),M==this.blockSize){i(this,L),M=0;break}}else for(;B<C;)if(L[M++]=N[B++],M==this.blockSize){i(this,L),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var k=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=k&255,k/=256;for(this.u(N),N=Array(16),C=k=0;4>C;++C)for(var L=0;32>L;L+=8)N[k++]=this.g[C]>>>L&255;return N};function a(N,C){var k=c;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=C(N)}function l(N,C){this.h=C;for(var k=[],L=!0,M=N.length-1;0<=M;M--){var B=N[M]|0;L&&B==C||(k[M]=B,L=!1)}this.g=k}var c={};function d(N){return-128<=N&&128>N?a(N,function(C){return new l([C|0],0>C?-1:0)}):new l([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return y;if(0>N)return A(p(-N));for(var C=[],k=1,L=0;N>=k;L++)C[L]=N/k|0,k*=4294967296;return new l(C,0)}function g(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return A(g(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(C,8)),L=y,M=0;M<N.length;M+=8){var B=Math.min(8,N.length-M),b=parseInt(N.substring(M,M+B),C);8>B?(B=p(Math.pow(C,B)),L=L.j(B).add(p(b))):(L=L.j(k),L=L.add(p(b)))}return L}var y=d(0),w=d(1),S=d(16777216);n=l.prototype,n.m=function(){if(x(this))return-A(this).m();for(var N=0,C=1,k=0;k<this.g.length;k++){var L=this.i(k);N+=(0<=L?L:4294967296+L)*C,C*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P(this))return"0";if(x(this))return"-"+A(this).toString(N);for(var C=p(Math.pow(N,6)),k=this,L="";;){var M=G(k,C).g;k=F(k,M.j(C));var B=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=M,P(k))return B+L;for(;6>B.length;)B="0"+B;L=B+L}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function P(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function x(N){return N.h==-1}n.l=function(N){return N=F(this,N),x(N)?-1:P(N)?0:1};function A(N){for(var C=N.g.length,k=[],L=0;L<C;L++)k[L]=~N.g[L];return new l(k,~N.h).add(w)}n.abs=function(){return x(this)?A(this):this},n.add=function(N){for(var C=Math.max(this.g.length,N.g.length),k=[],L=0,M=0;M<=C;M++){var B=L+(this.i(M)&65535)+(N.i(M)&65535),b=(B>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);L=b>>>16,B&=65535,b&=65535,k[M]=b<<16|B}return new l(k,k[k.length-1]&-2147483648?-1:0)};function F(N,C){return N.add(A(C))}n.j=function(N){if(P(this)||P(N))return y;if(x(this))return x(N)?A(this).j(A(N)):A(A(this).j(N));if(x(N))return A(this.j(A(N)));if(0>this.l(S)&&0>N.l(S))return p(this.m()*N.m());for(var C=this.g.length+N.g.length,k=[],L=0;L<2*C;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<N.g.length;M++){var B=this.i(L)>>>16,b=this.i(L)&65535,Le=N.i(M)>>>16,yt=N.i(M)&65535;k[2*L+2*M]+=b*yt,j(k,2*L+2*M),k[2*L+2*M+1]+=B*yt,j(k,2*L+2*M+1),k[2*L+2*M+1]+=b*Le,j(k,2*L+2*M+1),k[2*L+2*M+2]+=B*Le,j(k,2*L+2*M+2)}for(L=0;L<C;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=C;L<2*C;L++)k[L]=0;return new l(k,0)};function j(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function z(N,C){this.g=N,this.h=C}function G(N,C){if(P(C))throw Error("division by zero");if(P(N))return new z(y,y);if(x(N))return C=G(A(N),C),new z(A(C.g),A(C.h));if(x(C))return C=G(N,A(C)),new z(A(C.g),C.h);if(30<N.g.length){if(x(N)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var k=w,L=C;0>=L.l(N);)k=te(k),L=te(L);var M=ie(k,1),B=ie(L,1);for(L=ie(L,2),k=ie(k,2);!P(L);){var b=B.add(L);0>=b.l(N)&&(M=M.add(k),B=b),L=ie(L,1),k=ie(k,1)}return C=F(N,M.j(C)),new z(M,C)}for(M=y;0<=N.l(C);){for(k=Math.max(1,Math.floor(N.m()/C.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),B=p(k),b=B.j(C);x(b)||0<b.l(N);)k-=L,B=p(k),b=B.j(C);P(B)&&(B=w),M=M.add(B),N=F(N,b)}return new z(M,N)}n.A=function(N){return G(this,N).h},n.and=function(N){for(var C=Math.max(this.g.length,N.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)&N.i(L);return new l(k,this.h&N.h)},n.or=function(N){for(var C=Math.max(this.g.length,N.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)|N.i(L);return new l(k,this.h|N.h)},n.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)^N.i(L);return new l(k,this.h^N.h)};function te(N){for(var C=N.g.length+1,k=[],L=0;L<C;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new l(k,N.h)}function ie(N,C){var k=C>>5;C%=32;for(var L=N.g.length-k,M=[],B=0;B<L;B++)M[B]=0<C?N.i(B+k)>>>C|N.i(B+k+1)<<32-C:N.i(B+k);return new l(M,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,U1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Gi=l}).apply(typeof B_<"u"?B_:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j1,Gl,B1,xh,wm,z1,$1,W1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(h,v){if(v)e:{var E=r;h=h.split(".");for(var I=0;I<h.length-1;I++){var $=h[I];if(!($ in E))break e;E=E[$]}h=h[h.length-1],I=E[h],v=v(I),v!=I&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function a(h,v){h instanceof String&&(h+="");var E=0,I=!1,$={next:function(){if(!I&&E<h.length){var K=E++;return{value:v(K,h[K]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(h){return h||function(){return a(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,E){return h.call.apply(h.bind,arguments)}function y(h,v,E){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),h.apply(v,$)}}return function(){return h.apply(v,arguments)}}function w(h,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,w.apply(null,arguments)}function S(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function P(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(I,$,K){for(var oe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)oe[qe-2]=arguments[qe];return v.prototype[$].apply(I,oe)}}function x(h){const v=h.length;if(0<v){const E=Array(v);for(let I=0;I<v;I++)E[I]=h[I];return E}return[]}function A(h,v){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(d(I)){const $=h.length||0,K=I.length||0;h.length=$+K;for(let oe=0;oe<K;oe++)h[$+oe]=I[oe]}else h.push(I)}}class F{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function j(h){return/^[\s\xa0]*$/.test(h)}function z(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function G(h){return G[" "](h),h}G[" "]=function(){};var te=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ie(h,v,E){for(const I in h)v.call(E,h[I],I,h)}function N(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function C(h){const v={};for(const E in h)v[E]=h[E];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,v){let E,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(E in I)h[E]=I[E];for(let K=0;K<k.length;K++)E=k[K],Object.prototype.hasOwnProperty.call(I,E)&&(h[E]=I[E])}}function M(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function B(h){c.setTimeout(()=>{throw h},0)}function b(){var h=fe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Le{constructor(){this.h=this.g=null}add(v,E){const I=yt.get();I.set(v,E),this.h?this.h.next=I:this.g=I,this.h=I}}var yt=new F(()=>new Ke,h=>h.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,re=!1,fe=new Le,ae=()=>{const h=c.Promise.resolve(void 0);ve=()=>{h.then(U)}};var U=()=>{for(var h;h=b();){try{h.h.call(h.g)}catch(E){B(E)}var v=yt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}re=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h}();function De(h,v){if(pe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(te){e:{try{G(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Fe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}P(De,pe);var Fe={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),We=0;function Qe(h,v,E,I,$){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!I,this.ha=$,this.key=++We,this.da=this.fa=!1}function kt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Dr(h){this.src=h,this.g={},this.h=0}Dr.prototype.add=function(h,v,E,I,$){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var oe=di(h,v,I,$);return-1<oe?(v=h[oe],E||(v.fa=!1)):(v=new Qe(v,this.src,K,!!I,$),v.fa=E,h.push(v)),v};function po(h,v){var E=v.type;if(E in h.g){var I=h.g[E],$=Array.prototype.indexOf.call(I,v,void 0),K;(K=0<=$)&&Array.prototype.splice.call(I,$,1),K&&(kt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function di(h,v,E,I){for(var $=0;$<h.length;++$){var K=h[$];if(!K.da&&K.listener==v&&K.capture==!!E&&K.ha==I)return $}return-1}var ms="closure_lm_"+(1e6*Math.random()|0),mo={};function Ga(h,v,E,I,$){if(Array.isArray(v)){for(var K=0;K<v.length;K++)Ga(h,v[K],E,I,$);return null}return E=Xa(E),h&&h[$e]?h.K(v,E,p(I)?!!I.capture:!1,$):Qa(h,v,E,!1,I,$)}function Qa(h,v,E,I,$,K){if(!v)throw Error("Invalid event type");var oe=p($)?!!$.capture:!!$,qe=yo(h);if(qe||(h[ms]=qe=new Dr(h)),E=qe.add(v,E,I,oe,K),E.proxy)return E;if(I=Yu(),E.proxy=I,I.src=h,I.listener=E,h.addEventListener)Re||($=oe),$===void 0&&($=!1),h.addEventListener(v.toString(),I,$);else if(h.attachEvent)h.attachEvent(Lr(v.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Yu(){function h(E){return v.call(h.src,h.listener,E)}const v=Ya;return h}function go(h,v,E,I,$){if(Array.isArray(v))for(var K=0;K<v.length;K++)go(h,v[K],E,I,$);else I=p(I)?!!I.capture:!!I,E=Xa(E),h&&h[$e]?(h=h.i,v=String(v).toString(),v in h.g&&(K=h.g[v],E=di(K,E,I,$),-1<E&&(kt(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete h.g[v],h.h--)))):h&&(h=yo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=di(v,E,I,$)),(E=-1<h?v[h]:null)&&Nr(E))}function Nr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[$e])po(v.i,h);else{var E=h.type,I=h.proxy;v.removeEventListener?v.removeEventListener(E,I,h.capture):v.detachEvent?v.detachEvent(Lr(E),I):v.addListener&&v.removeListener&&v.removeListener(I),(E=yo(v))?(po(E,h),E.h==0&&(E.src=null,v[ms]=null)):kt(h)}}}function Lr(h){return h in mo?mo[h]:mo[h]="on"+h}function Ya(h,v){if(h.da)h=!0;else{v=new De(v,this);var E=h.listener,I=h.ha||h.src;h.fa&&Nr(h),h=E.call(I,v)}return h}function yo(h){return h=h[ms],h instanceof Dr?h:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xa(h){return typeof h=="function"?h:(h[vo]||(h[vo]=function(v){return h.handleEvent(v)}),h[vo])}function It(){Q.call(this),this.i=new Dr(this),this.M=this,this.F=null}P(It,Q),It.prototype[$e]=!0,It.prototype.removeEventListener=function(h,v,E,I){go(this,h,v,E,I)};function Pt(h,v){var E,I=h.F;if(I)for(E=[];I;I=I.F)E.push(I);if(h=h.M,I=v.type||v,typeof v=="string")v=new pe(v,h);else if(v instanceof pe)v.target=v.target||h;else{var $=v;v=new pe(I,h),L(v,$)}if($=!0,E)for(var K=E.length-1;0<=K;K--){var oe=v.g=E[K];$=Or(oe,I,!0,v)&&$}if(oe=v.g=h,$=Or(oe,I,!0,v)&&$,$=Or(oe,I,!1,v)&&$,E)for(K=0;K<E.length;K++)oe=v.g=E[K],$=Or(oe,I,!1,v)&&$}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],I=0;I<E.length;I++)kt(E[I]);delete h.g[v],h.h--}}this.F=null},It.prototype.K=function(h,v,E,I){return this.i.add(String(h),v,!1,E,I)},It.prototype.L=function(h,v,E,I){return this.i.add(String(h),v,!0,E,I)};function Or(h,v,E,I){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,K=0;K<v.length;++K){var oe=v[K];if(oe&&!oe.da&&oe.capture==E){var qe=oe.listener,Ct=oe.ha||oe.src;oe.fa&&po(h.i,oe),$=qe.call(Ct,I)!==!1&&$}}return $&&!I.defaultPrevented}function Ja(h,v,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(h,v||0)}function fi(h){h.g=Ja(()=>{h.g=null,h.i&&(h.i=!1,fi(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class gs extends Q{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(h){Q.call(this),this.h=h,this.g={}}P(ys,Q);var Za=[];function el(h){ie(h.g,function(v,E){this.g.hasOwnProperty(E)&&Nr(v)},h),h.g={}}ys.prototype.N=function(){ys.aa.N.call(this),el(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tl=c.JSON.stringify,nl=c.JSON.parse,rl=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function vs(){}vs.prototype.h=null;function _o(h){return h.h||(h.h=h.i())}function wo(){}var xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){pe.call(this,"d")}P(cr,pe);function Eo(){pe.call(this,"c")}P(Eo,pe);var hr={},il=null;function _s(){return il=il||new It}hr.La="serverreachability";function sl(h){pe.call(this,hr.La,h)}P(sl,pe);function Vr(h){const v=_s();Pt(v,new sl(v))}hr.STAT_EVENT="statevent";function ol(h,v){pe.call(this,hr.STAT_EVENT,h),this.stat=v}P(ol,pe);function dt(h){const v=_s();Pt(v,new ol(v,h))}hr.Ma="timingevent";function To(h,v){pe.call(this,hr.Ma,h),this.size=v}P(To,pe);function Wn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function Es(h,v,E,I,$,K){h.info(function(){if(h.g)if(K)for(var oe="",qe=K.split("&"),Ct=0;Ct<qe.length;Ct++){var Ue=qe[Ct].split("=");if(1<Ue.length){var bt=Ue[0];Ue=Ue[1];var vt=bt.split("_");oe=2<=vt.length&&vt[1]=="type"?oe+(bt+"="+Ue+"&"):oe+(bt+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+v+`
`+E+`
`+oe})}function So(h,v,E,I,$,K,oe){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+v+`
`+E+`
`+K+" "+oe})}function Hn(h,v,E,I){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Xd(h,E)+(I?" "+I:"")})}function al(h,v){h.info(function(){return"TIMEOUT: "+v})}ws.prototype.info=function(){};function Xd(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var I=E[h];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return tl(E)}catch{return v}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Ts(){}P(Ts,vs),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},qn=new Ts;function Kn(h,v,E,I){this.j=h,this.i=v,this.l=E,this.R=I||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ju}function Ju(){this.i=null,this.g="",this.h=!1}var ll={},Po={};function Co(h,v,E){h.L=1,h.v=vi(_n(v)),h.m=E,h.P=!0,ul(h,null)}function ul(h,v){h.F=Date.now(),Ye(h),h.A=_n(h.v);var E=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),wi(E.i,"t",I),h.C=0,E=h.j.J,h.h=new Ju,h.g=gc(h.j,E?v:null,!h.m),0<h.O&&(h.M=new gs(w(h.Y,h,h.g),h.O)),v=h.U,E=h.g,I=h.ca;var $="readystatechange";Array.isArray($)||($&&(Za[0]=$.toString()),$=Za);for(var K=0;K<$.length;K++){var oe=Ga(E,$[K],I||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Vr(),Es(h.i,h.u,h.A,h.l,h.R,h.m)}Kn.prototype.ca=function(h){h=h.target;const v=this.M;v&&un(h)==3?v.j():this.Y(h)},Kn.prototype.Y=function(h){try{if(h==this.g)e:{const vt=un(this.g);var v=this.g.Ba();const bn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||ml(this.g)))){this.J||vt!=4||v==7||(v==8||0>=bn?Vr(3):Vr(2)),Ss(this);var E=this.g.Z();this.X=E;t:if(Zu(this)){var I=ml(this.g);h="";var $=I.length,K=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),pi(this);var oe="";break t}this.h.i=new c.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,h+=this.h.i.decode(I[v],{stream:!(K&&v==$-1)});I.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,So(this.i,this.u,this.A,this.l,this.R,vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Ct=this.g;if((qe=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(qe)){var Ue=qe;break t}}Ue=null}if(E=Ue)Hn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cl(this,E);else{this.o=!1,this.s=3,dt(12),Rn(this),pi(this);break e}}if(this.P){E=!0;let En;for(;!this.J&&this.C<oe.length;)if(En=Jd(this,oe),En==Po){vt==4&&(this.s=4,dt(14),E=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==ll){this.s=4,dt(15),Hn(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else Hn(this.i,this.l,En,null),cl(this,En);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||oe.length!=0||this.h.h||(this.s=1,dt(16),E=!1),this.o=this.o&&E,!E)Hn(this.i,this.l,oe,"[Invalid Chunked Response]"),Rn(this),pi(this);else if(0<oe.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),yl(bt),bt.M=!0,dt(11))}}else Hn(this.i,this.l,oe,null),cl(this,oe);vt==4&&Rn(this),this.o&&!this.J&&(vt==4?Mo(this.j,this):(this.o=!1,Ye(this)))}else Do(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Rn(this),pi(this)}}}catch{}finally{}};function Zu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Jd(h,v){var E=h.C,I=v.indexOf(`
`,E);return I==-1?Po:(E=Number(v.substring(E,I)),isNaN(E)?ll:(I+=1,I+E>v.length?Po:(v=v.slice(I,I+E),h.C=I+E,v)))}Kn.prototype.cancel=function(){this.J=!0,Rn(this)};function Ye(h){h.S=Date.now()+h.I,ec(h,h.I)}function ec(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Wn(w(h.ba,h),v)}function Ss(h){h.B&&(c.clearTimeout(h.B),h.B=null)}Kn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(al(this.i,this.A),this.L!=2&&(Vr(),dt(17)),Rn(this),this.s=2,pi(this)):ec(this,this.S-h)};function pi(h){h.j.G==0||h.J||Mo(h.j,h)}function Rn(h){Ss(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,el(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function cl(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||tn(E.h,h))){if(!h.K&&tn(E.h,h)&&E.G==3){try{var I=E.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Vo(E),Jn(E);else break e;Oo(E),dt(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=Wn(w(E.Za,E),6e3));if(1>=nc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Br(E,11)}else if((h.K||E.g==h)&&Vo(E),!j(v))for($=E.Da.g.parse(v),v=0;v<$.length;v++){let Ue=$[v];if(E.T=Ue[0],Ue=Ue[1],E.G==2)if(Ue[0]=="c"){E.K=Ue[1],E.ia=Ue[2];const bt=Ue[3];bt!=null&&(E.la=bt,E.j.info("VER="+E.la));const vt=Ue[4];vt!=null&&(E.Aa=vt,E.j.info("SVER="+E.Aa));const bn=Ue[5];bn!=null&&typeof bn=="number"&&0<bn&&(I=1.5*bn,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const En=h.g;if(En){const ks=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var K=I.h;K.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(hl(K,K.h),K.h=null))}if(I.D){const Uo=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(I.ya=Uo,Ge(I.I,I.D,Uo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var oe=h;if(I.qa=mc(I,I.J?I.ia:null,I.W),oe.K){rc(I.h,oe);var qe=oe,Ct=I.L;Ct&&(qe.I=Ct),qe.B&&(Ss(qe),Ye(qe)),I.g=oe}else Rs(I);0<E.i.length&&mr(E)}else Ue[0]!="stop"&&Ue[0]!="close"||Br(E,7);else E.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Br(E,7):Mt(E):Ue[0]!="noop"&&E.l&&E.l.ta(Ue),E.v=0)}}Vr(4)}catch{}}var tc=class{constructor(h,v){this.g=h,this.map=v}};function Is(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function nc(h){return h.h?1:h.g?h.g.size:0}function tn(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function hl(h,v){h.g?h.g.add(v):h.h=v}function rc(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Is.prototype.cancel=function(){if(this.i=ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ic(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return x(h.i)}function Ao(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],E=h.length,I=0;I<E;I++)v.push(h[I]);return v}v=[],E=0;for(I in h)v[E++]=h[I];return v}function xo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const I in h)v[E++]=I;return v}}}function mi(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=xo(h),I=Ao(h),$=I.length,K=0;K<$;K++)v.call(void 0,I[K],E&&E[K],h)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zd(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var I=h[E].indexOf("="),$=null;if(0<=I){var K=h[E].substring(0,I);$=h[E].substring(I+1)}else K=h[E];v(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Mr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Mr){this.h=h.h,Cs(this,h.j),this.o=h.o,this.g=h.g,gi(this,h.s),this.l=h.l;var v=h.i,E=new dr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),yi(this,E),this.m=h.m}else h&&(v=String(h).match(Ps))?(this.h=!1,Cs(this,v[1]||"",!0),this.o=Me(v[2]||""),this.g=Me(v[3]||"",!0),gi(this,v[4]),this.l=Me(v[5]||"",!0),yi(this,v[6]||"",!0),this.m=Me(v[7]||"")):(this.h=!1,this.i=new dr(null,this.h))}Mr.prototype.toString=function(){var h=[],v=this.j;v&&h.push(_i(v,Ro,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(_i(v,Ro,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(_i(E,E.charAt(0)=="/"?ac:oc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",_i(E,dl)),h.join("")};function _n(h){return new Mr(h)}function Cs(h,v,E){h.j=E?Me(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function gi(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function yi(h,v,E){v instanceof dr?(h.i=v,fr(h.i,h.h)):(E||(v=_i(v,lc)),h.i=new dr(v,h.h))}function Ge(h,v,E){h.i.set(v,E)}function vi(h){return Ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Me(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _i(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,sc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function sc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ro=/[#\/\?@]/g,oc=/[#\?:]/g,ac=/[#\?]/g,lc=/[#\?@]/g,dl=/#/g;function dr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Vt(h){h.g||(h.g=new Map,h.h=0,h.i&&Zd(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=dr.prototype,n.add=function(h,v){Vt(this),this.i=null,h=kn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Gn(h,v){Vt(h),v=kn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Qn(h,v){return Vt(h),v=kn(h,v),h.g.has(v)}n.forEach=function(h,v){Vt(this),this.g.forEach(function(E,I){E.forEach(function($){h.call(v,$,I,this)},this)},this)},n.na=function(){Vt(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let I=0;I<v.length;I++){const $=h[I];for(let K=0;K<$.length;K++)E.push(v[I])}return E},n.V=function(h){Vt(this);let v=[];if(typeof h=="string")Qn(this,h)&&(v=v.concat(this.g.get(kn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},n.set=function(h,v){return Vt(this),this.i=null,h=kn(this,h),Qn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function wi(h,v,E){Gn(h,v),0<E.length&&(h.i=null,h.g.set(kn(h,v),x(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var I=v[E];const K=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var $=K;oe[I]!==""&&($+="="+encodeURIComponent(String(oe[I]))),h.push($)}}return this.i=h.join("&")};function kn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function fr(h,v){v&&!h.j&&(Vt(h),h.i=null,h.g.forEach(function(E,I){var $=I.toLowerCase();I!=$&&(Gn(this,I),wi(this,$,E))},h)),h.j=v}function ef(h,v){const E=new ws;if(c.Image){const I=new Image;I.onload=S(ln,E,"TestLoadImage: loaded",!0,v,I),I.onerror=S(ln,E,"TestLoadImage: error",!1,v,I),I.onabort=S(ln,E,"TestLoadImage: abort",!1,v,I),I.ontimeout=S(ln,E,"TestLoadImage: timeout",!1,v,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else v(!1)}function uc(h,v){const E=new ws,I=new AbortController,$=setTimeout(()=>{I.abort(),ln(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:I.signal}).then(K=>{clearTimeout($),K.ok?ln(E,"TestPingServer: ok",!0,v):ln(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),ln(E,"TestPingServer: error",!1,v)})}function ln(h,v,E,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(E)}catch{}}function tf(){this.g=new rl}function cc(h,v,E){const I=E||"";try{mi(h,function($,K){let oe=$;p($)&&(oe=tl($)),v.push(I+K+"="+encodeURIComponent(oe))})}catch($){throw v.push(I+"type="+encodeURIComponent("_badmap")),$}}function Fr(h){this.l=h.Ub||null,this.j=h.eb||!1}P(Fr,vs),Fr.prototype.g=function(){return new As(this.l,this.j)},Fr.prototype.i=function(h){return function(){return h}}({});function As(h,v){It.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(As,It),n=As.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Xn(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function hc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Yn(this):Xn(this),this.readyState==3&&hc(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Yn(this))},n.Qa=function(h){this.g&&(this.response=h,Yn(this))},n.ga=function(){this.g&&Yn(this)};function Yn(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Xn(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Xn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ur(h){let v="";return ie(h,function(E,I){v+=I,v+=":",v+=E,v+=`\r
`}),v}function Ei(h,v,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=Ur(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Ge(h,v,E))}function rt(h){It.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(rt,It);var nf=/^https?$/i,fl=["POST","PUT"];n=rt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?_o(this.o):_o(qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(K){xs(this,K);return}if(h=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)E.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const K of I.keys())E.set(K,I.get(K));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),$=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(fl,v,void 0))||I||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of E)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bo(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){xs(this,K)}};function xs(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ko(h),wn(h)}function ko(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Pt(this,"complete"),Pt(this,"abort"),wn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pl(this):this.bb())},n.bb=function(){pl(this)};function pl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||un(h)!=4||h.Z()!=2)){if(h.u&&un(h)==4)Ja(h.Ea,0,h);else if(Pt(h,"readystatechange"),un(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var I;if(I=oe===0){var $=String(h.D).match(Ps)[1]||null;!$&&c.self&&c.self.location&&($=c.self.location.protocol.slice(0,-1)),I=!nf.test($?$.toLowerCase():"")}E=I}if(E)Pt(h,"complete"),Pt(h,"success");else{h.m=6;try{var K=2<un(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",ko(h)}}finally{wn(h)}}}}function wn(h,v){if(h.g){bo(h);const E=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Pt(h,"ready");try{E.onreadystatechange=I}catch{}}}function bo(h){h.I&&(c.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function un(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),nl(v)}};function ml(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Do(h){const v={};h=(h.g&&2<=un(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(j(h[I]))continue;var E=M(h[I]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=v[$]||[];v[$]=K,K.push(E)}N(v,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function gl(h){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,h),this.cb=pr("retryDelaySeedMs",1e4,h),this.Wa=pr("forwardChannelMaxRetries",2,h),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(h&&h.concurrentRequestLimit),this.Da=new tf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=gl.prototype,n.la=8,n.G=1,n.connect=function(h,v,E,I){dt(0),this.W=h,this.H=v||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=mc(this,null,this.W),mr(this)};function Mt(h){if(No(h),h.G==3){var v=h.U++,E=_n(h.I);if(Ge(E,"SID",h.K),Ge(E,"RID",v),Ge(E,"TYPE","terminate"),jr(h,E),v=new Kn(h,h.j,v),v.L=2,v.v=vi(_n(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.v,E=!0),E||(v.g=gc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ye(v)}pc(h)}function Jn(h){h.g&&(yl(h),h.g.cancel(),h.g=null)}function No(h){Jn(h),h.u&&(c.clearTimeout(h.u),h.u=null),Vo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function mr(h){if(!vn(h.h)&&!h.s){h.s=!0;var v=h.Ga;ve||ae(),re||(ve(),re=!0),fe.add(v,h),h.B=0}}function rf(h,v){return nc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Wn(w(h.Ga,h,v),fc(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new Kn(this,this.j,h);let K=this.o;if(this.S&&(K?(K=C(K),L(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Ti(this,$,v),E=_n(this.I),Ge(E,"RID",h),Ge(E,"CVER",22),this.D&&Ge(E,"X-HTTP-Session-Id",this.D),jr(this,E),K&&(this.O?v="headers="+encodeURIComponent(String(Ur(K)))+"&"+v:this.m&&Ei(E,this.m,K)),hl(this.h,$),this.Ua&&Ge(E,"TYPE","init"),this.P?(Ge(E,"$req",v),Ge(E,"SID","null"),$.T=!0,Co($,E,null)):Co($,E,v),this.G=2}}else this.G==3&&(h?Lo(this,h):this.i.length==0||vn(this.h)||Lo(this))};function Lo(h,v){var E;v?E=v.l:E=h.U++;const I=_n(h.I);Ge(I,"SID",h.K),Ge(I,"RID",E),Ge(I,"AID",h.T),jr(h,I),h.m&&h.o&&Ei(I,h.m,h.o),E=new Kn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ti(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),hl(h.h,E),Co(E,I,v)}function jr(h,v){h.H&&ie(h.H,function(E,I){Ge(v,I,E)}),h.l&&mi({},function(E,I){Ge(v,I,E)})}function Ti(h,v,E){E=Math.min(h.i.length,E);var I=h.l?w(h.l.Na,h.l,h):null;e:{var $=h.i;let K=-1;for(;;){const oe=["count="+E];K==-1?0<E?(K=$[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let qe=!0;for(let Ct=0;Ct<E;Ct++){let Ue=$[Ct].g;const bt=$[Ct].map;if(Ue-=K,0>Ue)K=Math.max(0,$[Ct].g-100),qe=!1;else try{cc(bt,oe,"req"+Ue+"_")}catch{I&&I(bt)}}if(qe){I=oe.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,I}function Rs(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ve||ae(),re||(ve(),re=!0),fe.add(v,h),h.v=0}}function Oo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Wn(w(h.Fa,h),fc(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Wn(w(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Jn(this),dc(this))};function yl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function dc(h){h.g=new Kn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=_n(h.qa);Ge(v,"RID","rpc"),Ge(v,"SID",h.K),Ge(v,"AID",h.T),Ge(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ge(v,"TO",h.ja),Ge(v,"TYPE","xmlhttp"),jr(h,v),h.m&&h.o&&Ei(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=vi(_n(v)),E.m=null,E.P=!0,ul(E,h)}n.Za=function(){this.C!=null&&(this.C=null,Jn(this),Oo(this),dt(19))};function Vo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Mo(h,v){var E=null;if(h.g==v){Vo(h),yl(h),h.g=null;var I=2}else if(tn(h.h,v))E=v.D,rc(h.h,v),I=1;else return;if(h.G!=0){if(v.o)if(I==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var $=h.B;I=_s(),Pt(I,new To(I,E)),mr(h)}else Rs(h);else if($=v.s,$==3||$==0&&0<v.X||!(I==1&&rf(h,v)||I==2&&Oo(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),$){case 1:Br(h,5);break;case 4:Br(h,10);break;case 3:Br(h,6);break;default:Br(h,2)}}}function fc(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function Br(h,v){if(h.j.info("Error code "+v),v==2){var E=w(h.fb,h),I=h.Xa;const $=!I;I=new Mr(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Cs(I,"https"),vi(I),$?ef(I.toString(),E):uc(I.toString(),E)}else dt(2);h.G=0,h.l&&h.l.sa(v),pc(h),No(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function pc(h){if(h.G=0,h.ka=[],h.l){const v=ic(h.h);(v.length!=0||h.i.length!=0)&&(A(h.ka,v),A(h.ka,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.ra()}}function mc(h,v,E){var I=E instanceof Mr?_n(E):new Mr(E);if(I.g!="")v&&(I.g=v+"."+I.g),gi(I,I.s);else{var $=c.location;I=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var K=new Mr(null);I&&Cs(K,I),v&&(K.g=v),$&&gi(K,$),E&&(K.l=E),I=K}return E=h.D,v=h.ya,E&&v&&Ge(I,E,v),Ge(I,"VER",h.la),jr(h,I),I}function gc(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new rt(new Fr({eb:E})):new rt(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vl(){}n=vl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fo(){}Fo.prototype.g=function(h,v){return new nn(h,v)};function nn(h,v){It.call(this),this.g=new gl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!j(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new gr(this)}P(nn,It),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Mt(this.g)},nn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=tl(h),h=E);v.i.push(new tc(v.Ya++,h)),v.G==3&&mr(v)},nn.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,nn.aa.N.call(this)};function yc(h){cr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}P(yc,cr);function vc(){Eo.call(this),this.status=1}P(vc,Eo);function gr(h){this.g=h}P(gr,vl),gr.prototype.ua=function(){Pt(this.g,"a")},gr.prototype.ta=function(h){Pt(this.g,new yc(h))},gr.prototype.sa=function(h){Pt(this.g,new vc)},gr.prototype.ra=function(){Pt(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,W1=function(){return new Fo},$1=function(){return _s()},z1=hr,wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,xh=Io,Xu.COMPLETE="complete",B1=Xu,wo.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",It.prototype.listen=It.prototype.K,Gl=wo,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,j1=rt}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",$_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new mg("@firebase/firestore");function ca(){return io.logLevel}function ce(n,...e){if(io.logLevel<=Oe.DEBUG){const t=e.map(Ag);io.debug(`Firestore (${Ua}): ${n}`,...t)}}function ii(n,...e){if(io.logLevel<=Oe.ERROR){const t=e.map(Ag);io.error(`Firestore (${Ua}): ${n}`,...t)}}function Ji(n,...e){if(io.logLevel<=Oe.WARN){const t=e.map(Ag);io.warn(`Firestore (${Ua}): ${n}`,...t)}}function Ag(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,H1(n,r,t)}function H1(n,e,t){let r=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ii(r),new Error(r)}function He(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||H1(e,i,r)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yt.UNAUTHENTICATED))}shutdown(){}}class mb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gb{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new q1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class yb{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vb{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new yb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _b{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new W_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wb(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function Em(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ke(r,i);{const a=K1(),l=Eb(a.encode(H_(n,t)),a.encode(H_(e,t)));return l!==0?l:ke(r,i)}}t+=r>65535?2:1}return ke(n.length,e.length)}function H_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Eb(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function Aa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="__name__";class Er{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Er.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return ke(e.length,t.length)}static compareSegments(e,t){const r=Er.isNumericId(e),i=Er.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Er.extractNumericId(e).compare(Er.extractNumericId(t)):Em(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class Je extends Er{construct(e,t,r){return new Je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const Tb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Er{construct(e,t,r){return new zt(e,t,r)}static isValidIdentifier(e){return Tb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q_}static keyField(){return new zt([q_])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n,e,t){if(!t)throw new le(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Sb(n,e,t,r){if(e===!0&&r===!0)throw new le(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function K_(n){if(!ye.isDocumentKey(n))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function G_(n){if(ye.isDocumentKey(n))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Q1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Td(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function zn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Td(n);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Fu(n,e){if(!Q1(n))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new le(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,Y_=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Y_);return new tt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Q_)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Tt("string",tt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new tt(0,0))}static max(){return new Ce(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function Ib(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new tt(t+1,0):new tt(t,r));return new Zi(i,ye.empty(),e)}function Pb(n){return new Zi(n.readTime,n.key,gu)}class Zi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zi(Ce.min(),ye.empty(),gu)}static max(){return new Zi(Ce.max(),ye.empty(),gu)}}function Cb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==Ab)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},d=>r(d))}),l=!0,a===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function Rb(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ba(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Sd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=-1;function Id(n){return n==null}function Kh(n){return n===0&&1/n==-1/0}function kb(n){return typeof n=="number"&&Number.isInteger(n)&&!Kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="";function bb(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=X_(e)),e=Db(n.get(t),e);return X_(e)}function Db(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case Y1:t+="";break;default:t+=a}}return t}function X_(n){return n+Y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function us(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function X1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Bt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Bt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(e){return new Z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class Z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new Rt(zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new J1("Invalid base64 string: "+a):a}}(e);return new $t(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const Nb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(n){if(He(!!n,39018),typeof n=="string"){let e=0;const t=Nb.exec(n);if(He(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ts(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="server_timestamp",eS="__type__",tS="__previous_value__",nS="__local_write_time__";function kg(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[eS])===null||t===void 0?void 0:t.stringValue)===Z1}function Pd(n){const e=n.mapValue.fields[tS];return kg(e)?Pd(e):e}function yu(n){const e=es(n.mapValue.fields[nS].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t,r,i,a,l,c,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g}}const Gh="(default)";class vu{constructor(e,t){this.projectId=e,this.database=t||Gh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="__type__",Ob="__max__",mh={mapValue:{}},iS="__vector__",Qh="value";function ns(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kg(n)?4:Mb(n)?9007199254740991:Vb(n)?10:11:Se(28295,{value:n})}function br(n,e){if(n===e)return!0;const t=ns(n);if(t!==ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yu(n).isEqual(yu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=es(i.timestampValue),c=es(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return ts(i.bytesValue).isEqual(ts(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return mt(i.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return mt(i.integerValue)===mt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=mt(i.doubleValue),c=mt(a.doubleValue);return l===c?Kh(l)===Kh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Aa(n.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(J_(l)!==J_(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!br(l[d],c[d])))return!1;return!0}(n,e);default:return Se(52216,{left:n})}}function _u(n,e){return(n.values||[]).find(t=>br(t,e))!==void 0}function xa(n,e){if(n===e)return 0;const t=ns(n),r=ns(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=mt(a.integerValue||a.doubleValue),d=mt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return ew(n.timestampValue,e.timestampValue);case 4:return ew(yu(n),yu(e));case 5:return Em(n.stringValue,e.stringValue);case 6:return function(a,l){const c=ts(a),d=ts(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const g=ke(c[p],d[p]);if(g!==0)return g}return ke(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=ke(mt(a.latitude),mt(l.latitude));return c!==0?c:ke(mt(a.longitude),mt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return tw(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,d,p,g;const y=a.fields||{},w=l.fields||{},S=(c=y[Qh])===null||c===void 0?void 0:c.arrayValue,P=(d=w[Qh])===null||d===void 0?void 0:d.arrayValue,x=ke(((p=S?.values)===null||p===void 0?void 0:p.length)||0,((g=P?.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:tw(S,P)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===mh.mapValue&&l===mh.mapValue)return 0;if(a===mh.mapValue)return 1;if(l===mh.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const w=Em(d[y],g[y]);if(w!==0)return w;const S=xa(c[d[y]],p[g[y]]);if(S!==0)return S}return ke(d.length,g.length)}(n.mapValue,e.mapValue);default:throw Se(23264,{le:t})}}function ew(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=es(n),r=es(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function tw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=xa(t[i],r[i]);if(a)return a}return ke(t.length,r.length)}function Ra(n){return Tm(n)}function Tm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=es(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ts(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Tm(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Tm(t.fields[l])}`;return i+"}"}(n.mapValue):Se(61005,{value:n})}function Rh(n){switch(ns(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pd(n);return e?16+Rh(e):16;case 5:return 2*n.stringValue.length;case 6:return ts(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Rh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return us(r.fields,(a,l)=>{i+=a.length+Rh(l)}),i}(n.mapValue);default:throw Se(13486,{value:n})}}function nw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sm(n){return!!n&&"integerValue"in n}function bg(n){return!!n&&"arrayValue"in n}function rw(n){return!!n&&"nullValue"in n}function iw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kh(n){return!!n&&"mapValue"in n}function Vb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rS])===null||t===void 0?void 0:t.stringValue)===iS}function su(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return us(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=su(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=su(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Mb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ob}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=zt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=su(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){us(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new yn(su(this.value))}}function sS(n){const e=[];return us(n.fields,(t,r)=>{const i=new zt([t]);if(kh(r)){const a=sS(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Xt(e,0,Ce.min(),Ce.min(),Ce.min(),yn.empty(),0)}static newFoundDocument(e,t,r,i){return new Xt(e,1,t,Ce.min(),r,i,0)}static newNoDocument(e,t){return new Xt(e,2,t,Ce.min(),Ce.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,Ce.min(),Ce.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.position=e,this.inclusive=t}}function sw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(l.referenceValue),t.key):r=xa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ow(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!br(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Fb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{}class Et extends oS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jb(e,t,r):t==="array-contains"?new $b(e,r):t==="in"?new Wb(e,r):t==="not-in"?new Hb(e,r):t==="array-contains-any"?new qb(e,r):new Et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Bb(e,r):new zb(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xa(t,this.value)):t!==null&&ns(this.value)===ns(t)&&this.matchesComparison(xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends oS{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ur(e,t)}matches(e){return aS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function aS(n){return n.op==="and"}function lS(n){return Ub(n)&&aS(n)}function Ub(n){for(const e of n.filters)if(e instanceof ur)return!1;return!0}function Im(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+Ra(n.value);if(lS(n))return n.filters.map(e=>Im(e)).join(",");{const e=n.filters.map(t=>Im(t)).join(",");return`${n.op}(${e})`}}function uS(n,e){return n instanceof Et?function(r,i){return i instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&br(r.value,i.value)}(n,e):n instanceof ur?function(r,i){return i instanceof ur&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&uS(l,i.filters[c]),!0):!1}(n,e):void Se(19439)}function cS(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${Ra(t.value)}`}(n):n instanceof ur?function(t){return t.op.toString()+" {"+t.getFilters().map(cS).join(" ,")+"}"}(n):"Filter"}class jb extends Et{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bb extends Et{constructor(e,t){super(e,"in",t),this.keys=hS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zb extends Et{constructor(e,t){super(e,"not-in",t),this.keys=hS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class $b extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bg(t)&&_u(t.arrayValue,this.value)}}class Wb extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_u(this.value.arrayValue,t)}}class Hb extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_u(this.value.arrayValue,t)}}class qb extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Pe=null}}function aw(n,e=null,t=[],r=[],i=null,a=null,l=null){return new Kb(n,e,t,r,i,a,l)}function Dg(n){const e=xe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Im(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Id(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ra(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ra(r)).join(",")),e.Pe=t}return e.Pe}function Ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Fb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ow(n.startAt,e.startAt)&&ow(n.endAt,e.endAt)}function Pm(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Gb(n,e,t,r,i,a,l,c){return new za(n,e,t,r,i,a,l,c)}function Cd(n){return new za(n)}function lw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dS(n){return n.collectionGroup!==null}function ou(n){const e=xe(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Rt(zt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new wu(a,r))}),t.has(zt.keyField().canonicalString())||e.Te.push(new wu(zt.keyField(),r))}return e.Te}function Pr(n){const e=xe(n);return e.Ie||(e.Ie=Qb(e,ou(n))),e.Ie}function Qb(n,e){if(n.limitType==="F")return aw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new wu(i.field,a)});const t=n.endAt?new Yh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yh(n.startAt.position,n.startAt.inclusive):null;return aw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Cm(n,e){const t=n.filters.concat([e]);return new za(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Am(n,e,t){return new za(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ad(n,e){return Ng(Pr(n),Pr(e))&&n.limitType===e.limitType}function fS(n){return`${Dg(Pr(n))}|lt:${n.limitType}`}function ha(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>cS(i)).join(", ")}]`),Id(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ra(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ra(i)).join(",")),`Target(${r})`}(Pr(n))}; limitType=${n.limitType})`}function xd(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of ou(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const p=sw(l,c,d);return l.inclusive?p<=0:p<0}(r.startAt,ou(r),i)||r.endAt&&!function(l,c,d){const p=sw(l,c,d);return l.inclusive?p>=0:p>0}(r.endAt,ou(r),i))}(n,e)}function Yb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pS(n){return(e,t)=>{let r=!1;for(const i of ou(n)){const a=Xb(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Xb(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(a,l,c){const d=l.data.field(a),p=c.data.field(a);return d!==null&&p!==null?xa(d,p):Se(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return X1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new lt(ye.comparator);function si(){return Jb}const mS=new lt(ye.comparator);function Ql(...n){let e=mS;for(const t of n)e=e.insert(t.key,t);return e}function gS(n){let e=mS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qs(){return au()}function yS(){return au()}function au(){return new ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const Zb=new lt(ye.comparator),eD=new Rt(ye.comparator);function Ve(...n){let e=eD;for(const t of n)e=e.add(t);return e}const tD=new Rt(ke);function nD(){return tD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function vS(n){return{integerValue:""+n}}function rD(n,e){return kb(e)?vS(e):Lg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this._=void 0}}function iD(n,e,t){return n instanceof Xh?function(i,a){const l={fields:{[eS]:{stringValue:Z1},[nS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&kg(a)&&(a=Pd(a)),a&&(l.fields[tS]=a),{mapValue:l}}(t,e):n instanceof Eu?wS(n,e):n instanceof Tu?ES(n,e):function(i,a){const l=_S(i,a),c=uw(l)+uw(i.Ee);return Sm(l)&&Sm(i.Ee)?vS(c):Lg(i.serializer,c)}(n,e)}function sD(n,e,t){return n instanceof Eu?wS(n,e):n instanceof Tu?ES(n,e):t}function _S(n,e){return n instanceof Jh?function(r){return Sm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Xh extends Rd{}class Eu extends Rd{constructor(e){super(),this.elements=e}}function wS(n,e){const t=TS(e);for(const r of n.elements)t.some(i=>br(i,r))||t.push(r);return{arrayValue:{values:t}}}class Tu extends Rd{constructor(e){super(),this.elements=e}}function ES(n,e){let t=TS(e);for(const r of n.elements)t=t.filter(i=>!br(i,r));return{arrayValue:{values:t}}}class Jh extends Rd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function uw(n){return mt(n.integerValue||n.doubleValue)}function TS(n){return bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function oD(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Eu&&i instanceof Eu||r instanceof Tu&&i instanceof Tu?Aa(r.elements,i.elements,br):r instanceof Jh&&i instanceof Jh?br(r.Ee,i.Ee):r instanceof Xh&&i instanceof Xh}(n.transform,e.transform)}class aD{constructor(e,t){this.version=e,this.transformResults=t}}class $n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kd{}function SS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Og(n.key,$n.none()):new Uu(n.key,n.data,$n.none());{const t=n.data,r=yn.empty();let i=new Rt(zt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new cs(n.key,r,new Pn(i.toArray()),$n.none())}}function lD(n,e,t){n instanceof Uu?function(i,a,l){const c=i.value.clone(),d=hw(i.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof cs?function(i,a,l){if(!bh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=hw(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(IS(i)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function lu(n,e,t,r){return n instanceof Uu?function(a,l,c,d){if(!bh(a.precondition,l))return c;const p=a.value.clone(),g=dw(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof cs?function(a,l,c,d){if(!bh(a.precondition,l))return c;const p=dw(a.fieldTransforms,d,l),g=l.data;return g.setAll(IS(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(a,l,c){return bh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function uD(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=_S(r.transform,i||null);a!=null&&(t===null&&(t=yn.empty()),t.set(r.field,a))}return t||null}function cw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Aa(r,i,(a,l)=>oD(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Uu extends kd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cs extends kd{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function IS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hw(n,e,t){const r=new Map;He(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,sD(l,c,t[i]))}return r}function dw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,iD(a,l,e))}return r}class Og extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cD extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&lD(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=lu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=lu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=yS();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const d=SS(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(t,r)=>cw(t,r))&&Aa(this.baseMutations,e.baseMutations,(t,r)=>cw(t,r))}}class Vg{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){He(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Zb}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Vg(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,je;function pD(n){switch(n){case Y.OK:return Se(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function PS(n){if(n===void 0)return ii("GRPC error has no .code"),Y.UNKNOWN;switch(n){case wt.OK:return Y.OK;case wt.CANCELLED:return Y.CANCELLED;case wt.UNKNOWN:return Y.UNKNOWN;case wt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case wt.INTERNAL:return Y.INTERNAL;case wt.UNAVAILABLE:return Y.UNAVAILABLE;case wt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case wt.NOT_FOUND:return Y.NOT_FOUND;case wt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case wt.ABORTED:return Y.ABORTED;case wt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case wt.DATA_LOSS:return Y.DATA_LOSS;default:return Se(39323,{code:n})}}(je=wt||(wt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new Gi([4294967295,4294967295],0);function fw(n){const e=K1().encode(n),t=new U1;return t.update(e),new Uint8Array(t.digest())}function pw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gi([t,r],0),new Gi([i,a],0)]}class Mg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yl(`Invalid padding: ${t}`);if(r<0)throw new Yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Gi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Gi.fromNumber(r)));return i.compare(mD)===1&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=fw(e),[r,i]=pw(t);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,i,a);if(!this.ye(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Mg(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.fe===0)return;const t=fw(e),[r,i]=pw(t);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,i,a);this.we(l)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new bd(Ce.min(),i,new lt(ke),si(),Ve())}}class ju{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ju(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}}class CS{constructor(e,t){this.targetId=e,this.De=t}}class AS{constructor(e,t,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class mw{constructor(){this.ve=0,this.Ce=gw(),this.Fe=$t.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ve(),t=Ve(),r=Ve();return this.Ce.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Se(38017,{changeType:a})}}),new ju(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=gw()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class gD{constructor(e){this.We=e,this.Ge=new Map,this.ze=si(),this.je=gh(),this.Je=gh(),this.He=new lt(ke)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){const t=e.targetId,r=e.De.count,i=this.st(t);if(i){const a=i.target;if(Pm(a))if(r===0){const l=new ye(a.path);this.Xe(t,l,Xt.newNoDocument(l,Ce.min()))}else He(r===1,20013,{expectedCount:r});else{const l=this.ot(t);if(l!==r){const c=this._t(e),d=c?this.ut(c,e,l):1;if(d!==0){this.rt(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=ts(r).toUint8Array()}catch(d){if(d instanceof J1)return Ji("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Mg(l,i,a)}catch(d){return Ji(d instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,a,null),i++)}),i}Pt(e){const t=new Map;this.Ge.forEach((a,l)=>{const c=this.st(l);if(c){if(a.current&&Pm(c.target)){const d=new ye(c.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,Xt.newNoDocument(d,e))}a.Ne&&(t.set(l,a.Le()),a.ke())}});let r=Ve();this.Je.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.st(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ze.forEach((a,l)=>l.setReadTime(e));const i=new bd(e,t,this.He,this.ze,r);return this.ze=si(),this.je=gh(),this.Je=gh(),this.He=new lt(ke),i}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new mw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Rt(ke),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Rt(ke),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new mw),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function gh(){return new lt(ye.comparator)}function gw(){return new lt(ye.comparator)}const yD={asc:"ASCENDING",desc:"DESCENDING"},vD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_D={and:"AND",or:"OR"};class wD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xm(n,e){return n.useProto3Json||Id(e)?e:{value:e}}function Zh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ED(n,e){return Zh(n,e.toTimestamp())}function Cr(n){return He(!!n,49232),Ce.fromTimestamp(function(t){const r=es(t);return new tt(r.seconds,r.nanos)}(n))}function Fg(n,e){return Rm(n,e).canonicalString()}function Rm(n,e){const t=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RS(n){const e=Je.fromString(n);return He(LS(e),10190,{key:e.toString()}),e}function km(n,e){return Fg(n.databaseId,e.path)}function Up(n,e){const t=RS(e);if(t.get(1)!==n.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(bS(t))}function kS(n,e){return Fg(n.databaseId,e)}function TD(n){const e=RS(n);return e.length===4?Je.emptyPath():bS(e)}function bm(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bS(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function yw(n,e,t){return{name:km(n,e),fields:t.value.mapValue.fields}}function SD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(He(g===void 0||typeof g=="string",58123),$t.fromBase64String(g||"")):(He(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$t.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?Y.UNKNOWN:PS(p.code);return new le(g,p.message||"")}(l);t=new AS(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Up(n,r.document.name),a=Cr(r.document.updateTime),l=r.document.createTime?Cr(r.document.createTime):Ce.min(),c=new yn({mapValue:{fields:r.document.fields}}),d=Xt.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Dh(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Up(n,r.document),a=r.readTime?Cr(r.readTime):Ce.min(),l=Xt.newNoDocument(i,a),c=r.removedTargetIds||[];t=new Dh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Up(n,r.document),a=r.removedTargetIds||[];t=new Dh([],a,i,null)}else{if(!("filter"in e))return Se(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new fD(i,a),c=r.targetId;t=new CS(c,l)}}return t}function ID(n,e){let t;if(e instanceof Uu)t={update:yw(n,e.key,e.value)};else if(e instanceof Og)t={delete:km(n,e.key)};else if(e instanceof cs)t={update:yw(n,e.key,e.data),updateMask:ND(e.fieldMask)};else{if(!(e instanceof cD))return Se(16599,{Rt:e.type});t={verify:km(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Xh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Eu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Tu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Jh)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw Se(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:ED(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)}(n,e.precondition)),t}function PD(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?Cr(i.updateTime):Cr(a);return l.isEqual(Ce.min())&&(l=Cr(a)),new aD(l,i.transformResults||[])}(t,e))):[]}function CD(n,e){return{documents:[kS(n,e.path)]}}function AD(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kS(n,i);const a=function(p){if(p.length!==0)return NS(ur.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(w){return{field:da(w.field),direction:kD(w.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=xm(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:i}}function xD(n){let e=TD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){He(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(y){const w=DS(y);return w instanceof ur&&lS(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(w=>function(P){return new wu(fa(P.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(y){let w;return w=typeof y=="object"?y.value:y,Id(w)?null:w}(t.limit));let d=null;t.startAt&&(d=function(y){const w=!!y.before,S=y.values||[];return new Yh(S,w)}(t.startAt));let p=null;return t.endAt&&(p=function(y){const w=!y.before,S=y.values||[];return new Yh(S,w)}(t.endAt)),Gb(e,i,l,a,c,"F",d,p)}function RD(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=fa(t.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fa(t.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=fa(t.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fa(t.unaryFilter.field);return Et.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(n):n.fieldFilter!==void 0?function(t){return Et.create(fa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ur.create(t.compositeFilter.filters.map(r=>DS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(n):Se(30097,{filter:n})}function kD(n){return yD[n]}function bD(n){return vD[n]}function DD(n){return _D[n]}function da(n){return{fieldPath:n.canonicalString()}}function fa(n){return zt.fromServerFormat(n.fieldPath)}function NS(n){return n instanceof Et?function(t){if(t.op==="=="){if(iw(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NAN"}};if(rw(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iw(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NOT_NAN"}};if(rw(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(t.field),op:bD(t.op),value:t.value}}}(n):n instanceof ur?function(t){const r=t.getFilters().map(i=>NS(i));return r.length===1?r[0]:{compositeFilter:{op:DD(t.op),filters:r}}}(n):Se(54877,{filter:n})}function ND(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,r,i,a=Ce.min(),l=Ce.min(),c=$t.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.gt=e}}function OD(n){const e=xD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.Dn=new MD}addToCollectionParentIndex(e,t){return this.Dn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Zi.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class MD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Rt(Je.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OS=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(OS,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ka(0)}static ur(){return new ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="LruGarbageCollector",FD=1048576;function ww([n,e],[t,r]){const i=ke(n,t);return i===0?ke(e,r):i}class UD{constructor(e){this.Tr=e,this.buffer=new Rt(ww),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ww(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ce(_w,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ba(t)?ce(_w,"Ignoring IndexedDB error during garbage collection: ",t):await ja(t)}await this.Rr(3e5)})}}class BD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Sd.ue);const r=new UD(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(vw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vw):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,a,l,c,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,t))).next(y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),ca()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y})))}}function zD(n,e){return new BD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.changes=new ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&lu(r.mutation,i,Pn.empty(),tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=Qs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Ql();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Qs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=si();const l=au(),c=function(){return au()}();return t.forEach((d,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof cs)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),lu(g.mutation,p,g.mutation.getFieldMask(),tt.now())):l.set(p.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var y;return c.set(p,new WD(g,(y=l.get(p))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const r=au();let i=new lt((l,c)=>l-c),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let g=r.get(d)||Pn.empty();g=c.applyToLocalView(p,g),r.set(d,g);const y=(i.get(c.batchId)||Ve()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,g=d.value,y=yS();g.forEach(w=>{if(!a.has(w)){const S=SS(t.get(w),r.get(w));S!==null&&y.set(w,S),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return X.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):X.resolve(Qs());let c=gu,d=a;return l.next(p=>X.forEach(p,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{d=d.insert(g,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,Ve())).next(g=>({batchId:c,changes:gS(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let i=Ql();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Ql();return this.indexManager.getCollectionParents(e,a).next(c=>X.forEach(c,d=>{const p=function(y,w){return new za(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Xt.newInvalidDocument(g)))});let c=Ql();return l.forEach((d,p)=>{const g=a.get(d);g!==void 0&&lu(g.mutation,p,Pn.empty(),tt.now()),xd(t,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return X.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Cr(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:OD(i.bundledQuery),readTime:Cr(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.overlays=new lt(ye.comparator),this.kr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qs();return X.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.wt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=Qs(),a=t.length+1,l=new ye(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new lt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Qs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Qs(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return X.resolve(c)}wt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new dD(t,r));let a=this.kr.get(t);a===void 0&&(a=Ve(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.qr=new Rt(Ot.Qr),this.$r=new Rt(Ot.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Ot(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ot(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new ye(new Je([])),r=new Ot(t,e),i=new Ot(t,e+1),a=[];return this.$r.forEachInRange([r,i],l=>{this.Wr(l),a.push(l.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ye(new Je([])),r=new Ot(t,e),i=new Ot(t,e+1);let a=Ve();return this.$r.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Ot(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ye.comparator(e.key,t.key)||ke(e.Hr,t.Hr)}static Ur(e,t){return ke(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Rt(Ot.Qr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new hD(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Yr=this.Yr.add(new Ot(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,t){return X.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),a=i<0?0:i;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Rg:this.er-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ot(t,0),i=new Ot(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],l=>{const c=this.Zr(l.Hr);a.push(c)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(ke);return t.forEach(i=>{const a=new Ot(i,0),l=new Ot(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],c=>{r=r.add(c.Hr)})}),X.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const l=new Ot(new ye(a),0);let c=new Rt(ke);return this.Yr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(d.Hr)),!0)},l),X.resolve(this.ei(c))}ei(e){const t=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){He(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return X.forEach(t.mutations,i=>{const a=new Ot(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new Ot(t,0),i=this.Yr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.ni=e,this.docs=function(){return new lt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let r=si();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=si();const l=t.path,c=new ye(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||Cb(Pb(g),r)<=0||(i.has(g.key)||xd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Se(9500)}ri(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new XD(this)}getSize(e){return X.resolve(this.size)}}class XD extends $D{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.persistence=e,this.ii=new ao(t=>Dg(t),Ng),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.si=0,this.oi=new Ug,this.targetCount=0,this._i=ka.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),X.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ka(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.hr(t),X.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.ii.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),X.waitFor(a).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t){this.ai={},this.overlays={},this.ui=new Sd(0),this.ci=!1,this.ci=!0,this.li=new GD,this.referenceDelegate=e(this),this.hi=new JD(this),this.indexManager=new VD,this.remoteDocumentCache=function(i){return new YD(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new LD(t),this.Ti=new qD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new QD(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const i=new ZD(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,t){return X.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class ZD extends xb{constructor(e){super(),this.currentSequenceNumber=e}}class jg{constructor(e){this.persistence=e,this.Ai=new Ug,this.Ri=null}static Vi(e){return new jg(e)}get mi(){if(this.Ri)return this.Ri;throw Se(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.mi,r=>{const i=ye.fromPath(r);return this.fi(e,i).next(a=>{a||t.removeEntry(i,Ce.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return X.or([()=>X.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ed{constructor(e,t){this.persistence=e,this.gi=new ao(r=>bb(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=zD(this,t)}static Vi(e,t){return new ed(e,t)}Ii(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return X.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(a=>a?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,l=>this.Sr(e,l,t).next(c=>{c||(r++,a.removeEntry(l,Ce.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),X.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rh(e.data.value)),t}Sr(e,t,r){return X.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ve(),i=Ve();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Bg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Lx()?8:Rb(Zt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ps(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ys(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new eN;return this.ws(e,t,l).next(c=>{if(a.result=c,this.Rs)return this.Ss(e,t,l,c.size)})}).next(()=>a.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(ca()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ha(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(ca()<=Oe.DEBUG&&ce("QueryEngine","Query:",ha(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ca()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ha(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):X.resolve())}ps(e,t){if(lw(t))return X.resolve(null);let r=Pr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Am(t,null,"F"),r=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ve(...a);return this.gs.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.bs(t,c);return this.Ds(t,p,l,d.readTime)?this.ps(e,Am(t,null,"F")):this.vs(e,p,t,d)}))})))}ys(e,t,r,i){return lw(t)||i.isEqual(Ce.min())?X.resolve(null):this.gs.getDocuments(e,r).next(a=>{const l=this.bs(t,a);return this.Ds(t,l,r,i)?X.resolve(null):(ca()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ha(t)),this.vs(e,l,t,Ib(i,gu)).next(c=>c))})}bs(e,t){let r=new Rt(pS(e));return t.forEach((i,a)=>{xd(e,a)&&(r=r.add(a))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,t,r){return ca()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ha(t)),this.gs.getDocumentsMatchingQuery(e,t,Zi.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="LocalStore",nN=3e8;class rN{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new lt(ke),this.Ms=new ao(a=>Dg(a),Ng),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function iN(n,e,t,r){return new rN(n,e,t,r)}async function MS(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let d=Ve();for(const p of i){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Bs:p,removedBatchIds:l,addedBatchIds:c}))})})}function sN(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return function(c,d,p,g){const y=p.batch,w=y.keys();let S=X.resolve();return w.forEach(P=>{S=S.next(()=>g.getEntry(d,P)).next(x=>{const A=p.docVersions.get(P);He(A!==null,48541),x.version.compareTo(A)<0&&(y.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Ve();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function FS(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function oN(n,e){const t=xe(n),r=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const c=[];e.targetChanges.forEach((g,y)=>{const w=i.get(y);if(!w)return;c.push(t.hi.removeMatchingKeys(a,g.removedDocuments,y).next(()=>t.hi.addMatchingKeys(a,g.addedDocuments,y)));let S=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken($t.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(y,S),function(x,A,F){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=nN?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(w,S,g)&&c.push(t.hi.updateTargetData(a,S))});let d=si(),p=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(aN(a,l,e.documentUpdates).next(g=>{d=g.Ls,p=g.ks})),!r.isEqual(Ce.min())){const g=t.hi.getLastRemoteSnapshotVersion(a).next(y=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return X.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(t.Fs=i,a))}function aN(n,e,t){let r=Ve(),i=Ve();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=si();return t.forEach((c,d)=>{const p=a.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ce(zg,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Ls:l,ks:i}})}function lN(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Rg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uN(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(a=>a?(i=a,X.resolve(i)):t.hi.allocateTargetId(r).next(l=>(i=new $i(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Dm(n,e,t){const r=xe(n),i=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Ba(l))throw l;ce(zg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function Ew(n,e,t){const r=xe(n);let i=Ce.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,g){const y=xe(d),w=y.Ms.get(g);return w!==void 0?X.resolve(y.Fs.get(w)):y.hi.getTargetData(p,g)}(r,l,Pr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,t?i:Ce.min(),t?a:Ve())).next(c=>(cN(r,Yb(e),c),{documents:c,qs:a})))}function cN(n,e,t){let r=n.xs.get(e)||Ce.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.xs.set(e,r)}class Tw{constructor(){this.activeTargetIds=nD()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hN{constructor(){this.Fo=new Tw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Tw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="ConnectivityMonitor";class Iw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ce(Sw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ce(Sw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function Nm(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="RestConnection",fN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Gh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,a){const l=Nm(),c=this.Go(e,t.toUriEncodedString());ce(jp,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,i,a);const{host:p}=new URL(c),g=Va(p);return this.jo(e,c,d,r,g).then(y=>(ce(jp,`Received RPC '${e}' ${l}: `,y),y),y=>{throw Ji(jp,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y})}Jo(e,t,r,i,a,l){return this.Wo(e,t,r,i,a)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Go(e,t){const r=fN[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class gN extends pN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,a){const l=Nm();return new Promise((c,d)=>{const p=new j1;p.setWithCredentials(!0),p.listenOnce(B1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case xh.NO_ERROR:const y=p.getResponseJson();ce(Gt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case xh.TIMEOUT:ce(Gt,`RPC '${e}' ${l} timed out`),d(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const w=p.getStatus();if(ce(Gt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const P=S?.error;if(P&&P.status&&P.message){const x=function(F){const j=F.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(j)>=0?j:Y.UNKNOWN}(P.status);d(new le(x,P.message))}else d(new le(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new le(Y.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{c_:e,streamId:l,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ce(Gt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(i);ce(Gt,`RPC '${e}' ${l} sending request:`,i),p.send(t,"POST",g,r,15)})}P_(e,t,r){const i=Nm(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=W1(),c=$1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=a.join("");ce(Gt,`Creating RPC '${e}' stream ${i}: ${g}`,d);const y=l.createWebChannel(g,d);this.T_(y);let w=!1,S=!1;const P=new mN({Ho:A=>{S?ce(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(w||(ce(Gt,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),ce(Gt,`RPC '${e}' stream ${i} sending:`,A),y.send(A))},Yo:()=>y.close()}),x=(A,F,j)=>{A.listen(F,z=>{try{j(z)}catch(G){setTimeout(()=>{throw G},0)}})};return x(y,Gl.EventType.OPEN,()=>{S||(ce(Gt,`RPC '${e}' stream ${i} transport opened.`),P.s_())}),x(y,Gl.EventType.CLOSE,()=>{S||(S=!0,ce(Gt,`RPC '${e}' stream ${i} transport closed`),P.__(),this.I_(y))}),x(y,Gl.EventType.ERROR,A=>{S||(S=!0,Ji(Gt,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),P.__(new le(Y.UNAVAILABLE,"The operation could not be completed")))}),x(y,Gl.EventType.MESSAGE,A=>{var F;if(!S){const j=A.data[0];He(!!j,16349);const z=j,G=z?.error||((F=z[0])===null||F===void 0?void 0:F.error);if(G){ce(Gt,`RPC '${e}' stream ${i} received error:`,G);const te=G.status;let ie=function(k){const L=wt[k];if(L!==void 0)return PS(L)}(te),N=G.message;ie===void 0&&(ie=Y.INTERNAL,N="Unknown error status: "+te+" with message "+G.message),S=!0,P.__(new le(ie,N)),y.close()}else ce(Gt,`RPC '${e}' stream ${i} received:`,j),P.a_(j)}}),x(c,z1.STAT_EVENT,A=>{A.stat===wm.PROXY?ce(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===wm.NOPROXY&&ce(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.o_()},0),P}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n){return new wD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="PersistentStream";class jS{constructor(e,t,r,i,a,l,c,d){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new US(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{const i=new le(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ce(Pw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ce(Pw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yN extends jS{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=SD(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ce.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?Cr(l.readTime):Ce.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=bm(this.serializer),t.addTarget=function(a,l){let c;const d=l.target;if(c=Pm(d)?{documents:CD(a,d)}:{query:AD(a,d).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=xS(a,l.resumeToken);const p=xm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ce.min())>0){c.readTime=Zh(a,l.snapshotVersion.toTimestamp());const p=xm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=RD(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=bm(this.serializer),t.removeTarget=e,this.k_(t)}}class vN extends jS{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=PD(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=bm(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ID(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{}class wN extends _N{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(e,Rm(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Y.UNKNOWN,a.toString())})}Jo(e,t,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Jo(e,Rm(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(Y.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class EN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ii(t),this._a=!1):ce("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class TN{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{lo(this)&&(ce(so,"Restarting streams for network reachability change."),await async function(d){const p=xe(d);p.Ia.add(4),await Bu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Nd(p)}(this))})}),this.Aa=new EN(r,i)}}async function Nd(n){if(lo(n))for(const e of n.da)await e(!0)}async function Bu(n){for(const e of n.da)await e(!1)}function BS(n,e){const t=xe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),qg(t)?Hg(t):$a(t).x_()&&Wg(t,e))}function $g(n,e){const t=xe(n),r=$a(t);t.Ta.delete(e),r.x_()&&zS(t,e),t.Ta.size===0&&(r.x_()?r.B_():lo(t)&&t.Aa.set("Unknown"))}function Wg(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$a(n).H_(e)}function zS(n,e){n.Ra.$e(e),$a(n).Y_(e)}function Hg(n){n.Ra=new gD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),$a(n).start(),n.Aa.aa()}function qg(n){return lo(n)&&!$a(n).M_()&&n.Ta.size>0}function lo(n){return xe(n).Ia.size===0}function $S(n){n.Ra=void 0}async function SN(n){n.Aa.set("Online")}async function IN(n){n.Ta.forEach((e,t)=>{Wg(n,e)})}async function PN(n,e){$S(n),qg(n)?(n.Aa.la(e),Hg(n)):n.Aa.set("Unknown")}async function CN(n,e,t){if(n.Aa.set("Online"),e instanceof AS&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ta.delete(c),i.Ra.removeTarget(c))}(n,e)}catch(r){ce(so,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await td(n,r)}else if(e instanceof Dh?n.Ra.Ye(e):e instanceof CS?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ce.min()))try{const r=await FS(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.Ra.Pt(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ta.get(p);g&&a.Ta.set(p,g.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const g=a.Ta.get(d);if(!g)return;a.Ta.set(d,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),zS(a,d);const y=new $i(g.target,d,p,g.sequenceNumber);Wg(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ce(so,"Failed to raise snapshot:",r),await td(n,r)}}async function td(n,e,t){if(!Ba(e))throw e;n.Ia.add(1),await Bu(n),n.Aa.set("Offline"),t||(t=()=>FS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(so,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Nd(n)})}function WS(n,e){return e().catch(t=>td(n,t,e))}async function Ld(n){const e=xe(n),t=rs(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Rg;for(;AN(e);)try{const i=await lN(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,xN(e,i)}catch(i){await td(e,i)}HS(e)&&qS(e)}function AN(n){return lo(n)&&n.Pa.length<10}function xN(n,e){n.Pa.push(e);const t=rs(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function HS(n){return lo(n)&&!rs(n).M_()&&n.Pa.length>0}function qS(n){rs(n).start()}async function RN(n){rs(n).na()}async function kN(n){const e=rs(n);for(const t of n.Pa)e.X_(t.mutations)}async function bN(n,e,t){const r=n.Pa.shift(),i=Vg.from(r,e,t);await WS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Ld(n)}async function DN(n,e){e&&rs(n).Z_&&await async function(r,i){if(function(l){return pD(l)&&l!==Y.ABORTED}(i.code)){const a=r.Pa.shift();rs(r).N_(),await WS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ld(r)}}(n,e),HS(n)&&qS(n)}async function Cw(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),ce(so,"RemoteStore received new credentials");const r=lo(t);t.Ia.add(3),await Bu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Nd(t)}async function NN(n,e){const t=xe(n);e?(t.Ia.delete(2),await Nd(t)):e||(t.Ia.add(2),await Bu(t),t.Aa.set("Unknown"))}function $a(n){return n.Va||(n.Va=function(t,r,i){const a=xe(t);return a.ia(),new yN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Zo:SN.bind(null,n),e_:IN.bind(null,n),n_:PN.bind(null,n),J_:CN.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),qg(n)?Hg(n):n.Aa.set("Unknown")):(await n.Va.stop(),$S(n))})),n.Va}function rs(n){return n.ma||(n.ma=function(t,r,i){const a=xe(t);return a.ia(),new vN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:RN.bind(null,n),n_:DN.bind(null,n),ea:kN.bind(null,n),ta:bN.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Ld(n)):(await n.ma.stop(),n.Pa.length>0&&(ce(so,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new Kg(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(n,e){if(ii("AsyncQueue",`${e}: ${n}`),Ba(n))return new le(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{static emptySet(e){return new Sa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Ql(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.fa=new lt(ye.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Se(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class ba{constructor(e,t,r,i,a,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ba(e,t,Sa.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class ON{constructor(){this.queries=xw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const i=xe(t),a=i.queries;i.queries=xw(),a.forEach((l,c)=>{for(const d of c.wa)d.onError(r)})})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function xw(){return new ao(n=>fS(n),Ad)}async function KS(n,e){const t=xe(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new LN,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(i,!0);break;case 1:a.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Gg(l,`Initialization of query '${ha(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&Qg(t)}async function GS(n,e){const t=xe(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.wa.indexOf(e);l>=0&&(a.wa.splice(l,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function VN(n,e){const t=xe(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.wa)c.Ca(i)&&(r=!0);l.ya=i}}r&&Qg(t)}function MN(n,e,t){const r=xe(n),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(t);r.queries.delete(e)}function Qg(n){n.Da.forEach(e=>{e.next()})}var Lm,Rw;(Rw=Lm||(Lm={})).Fa="default",Rw.Cache="cache";class QS{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.key=e}}class XS{constructor(e){this.key=e}}class FN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ve(),this.mutatedKeys=Ve(),this.Xa=pS(e),this.eu=new Sa(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new Aw,i=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,y)=>{const w=i.get(g),S=xd(this.query,y)?y:null,P=!!w&&this.mutatedKeys.has(w.key),x=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let A=!1;w&&S?w.data.isEqual(S.data)?P!==x&&(r.track({type:3,doc:S}),A=!0):this.iu(w,S)||(r.track({type:2,doc:S}),A=!0,(d&&this.Xa(S,d)>0||p&&this.Xa(S,p)<0)&&(c=!0)):!w&&S?(r.track({type:0,doc:S}),A=!0):w&&!S&&(r.track({type:1,doc:w}),A=!0,(d||p)&&(c=!0)),A&&(S?(l=l.add(S),a=x?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{eu:l,ru:r,Ds:c,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((g,y)=>function(S,P){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{At:A})}};return x(S)-x(P)}(g.type,y.type)||this.Xa(g.doc,y.doc)),this.su(r),i=i!=null&&i;const c=t&&!i?this.ou():[],d=this.Za.size===0&&this.current&&!i?1:0,p=d!==this.Ya;return this.Ya=d,l.length!==0||p?{snapshot:new ba(this.query,e.eu,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Aw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ve(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new XS(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new YS(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ve();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ba.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Yg="SyncEngine";class UN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jN{constructor(e){this.key=e,this.lu=!1}}class BN{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new ao(c=>fS(c),Ad),this.Tu=new Map,this.Iu=new Set,this.du=new lt(ye.comparator),this.Eu=new Map,this.Au=new Ug,this.Ru={},this.Vu=new Map,this.mu=ka.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function zN(n,e,t=!0){const r=rI(n);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await JS(r,e,t,!0),i}async function $N(n,e){const t=rI(n);await JS(t,e,!0,!1)}async function JS(n,e,t,r){const i=await uN(n.localStore,Pr(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await WN(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&BS(n.remoteStore,i),c}async function WN(n,e,t,r,i){n.gu=(y,w,S)=>async function(x,A,F,j){let z=A.view.nu(F);z.Ds&&(z=await Ew(x.localStore,A.query,!1).then(({documents:N})=>A.view.nu(N,z)));const G=j&&j.targetChanges.get(A.targetId),te=j&&j.targetMismatches.get(A.targetId)!=null,ie=A.view.applyChanges(z,x.isPrimaryClient,G,te);return bw(x,A.targetId,ie._u),ie.snapshot}(n,y,w,S);const a=await Ew(n.localStore,e,!0),l=new FN(e,a.qs),c=l.nu(a.documents),d=ju.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,d);bw(n,t,p._u);const g=new UN(e,t,l);return n.Pu.set(e,g),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),p.snapshot}async function HN(n,e,t){const r=xe(n),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter(l=>!Ad(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&$g(r.remoteStore,i.targetId),Om(r,i.targetId)}).catch(ja)):(Om(r,i.targetId),await Dm(r.localStore,i.targetId,!0))}async function qN(n,e){const t=xe(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),$g(t.remoteStore,r.targetId))}async function KN(n,e,t){const r=eL(n);try{const i=await function(l,c){const d=xe(l),p=tt.now(),g=c.reduce((S,P)=>S.add(P.key),Ve());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let P=si(),x=Ve();return d.Os.getEntries(S,g).next(A=>{P=A,P.forEach((F,j)=>{j.isValidDocument()||(x=x.add(F))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,P)).next(A=>{y=A;const F=[];for(const j of c){const z=uD(j,y.get(j.key).overlayedDocument);z!=null&&F.push(new cs(j.key,z,sS(z.value.mapValue),$n.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,F,c)}).next(A=>{w=A;const F=A.applyToLocalDocumentSet(y,x);return d.documentOverlayCache.saveOverlays(S,A.batchId,F)})}).then(()=>({batchId:w.batchId,changes:gS(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let p=l.Ru[l.currentUser.toKey()];p||(p=new lt(ke)),p=p.insert(c,d),l.Ru[l.currentUser.toKey()]=p}(r,i.batchId,t),await zu(r,i.changes),await Ld(r.remoteStore)}catch(i){const a=Gg(i,"Failed to persist write");t.reject(a)}}async function ZS(n,e){const t=xe(n);try{const r=await oN(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Eu.get(a);l&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?He(l.lu,14607):i.removedDocuments.size>0&&(He(l.lu,42227),l.lu=!1))}),await zu(t,r,e)}catch(r){await ja(r)}}function kw(n,e,t){const r=xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Pu.forEach((a,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=xe(l);d.onlineState=c;let p=!1;d.queries.forEach((g,y)=>{for(const w of y.wa)w.va(c)&&(p=!0)}),p&&Qg(d)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GN(n,e,t){const r=xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),a=i&&i.key;if(a){let l=new lt(ye.comparator);l=l.insert(a,Xt.newNoDocument(a,Ce.min()));const c=Ve().add(a),d=new bd(Ce.min(),new Map,new lt(ke),l,c);await ZS(r,d),r.du=r.du.remove(a),r.Eu.delete(e),Xg(r)}else await Dm(r.localStore,e,!1).then(()=>Om(r,e,t)).catch(ja)}async function QN(n,e){const t=xe(n),r=e.batch.batchId;try{const i=await sN(t.localStore,e);tI(t,r,null),eI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await zu(t,i)}catch(i){await ja(i)}}async function YN(n,e,t){const r=xe(n);try{const i=await function(l,c){const d=xe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,c).next(y=>(He(y!==null,37113),g=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(r.localStore,e);tI(r,e,t),eI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await zu(r,i)}catch(i){await ja(i)}}function eI(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function tI(n,e,t){const r=xe(n);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Om(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||nI(n,r)})}function nI(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&($g(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Xg(n))}function bw(n,e,t){for(const r of t)r instanceof YS?(n.Au.addReference(r.key,e),XN(n,r)):r instanceof XS?(ce(Yg,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||nI(n,r.key)):Se(19791,{yu:r})}function XN(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(ce(Yg,"New document in limbo: "+t),n.Iu.add(r),Xg(n))}function Xg(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new ye(Je.fromString(e)),r=n.mu.next();n.Eu.set(r,new jN(t)),n.du=n.du.insert(t,r),BS(n.remoteStore,new $i(Pr(Cd(t.path)),r,"TargetPurposeLimboResolution",Sd.ue))}}async function zu(n,e,t){const r=xe(n),i=[],a=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((c,d)=>{l.push(r.gu(d,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:(g=t?.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){i.push(p);const y=Bg.Es(d.targetId,p);a.push(y)}}))}),await Promise.all(l),r.hu.J_(i),await async function(d,p){const g=xe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>X.forEach(p,w=>X.forEach(w.Is,S=>g.persistence.referenceDelegate.addReference(y,w.targetId,S)).next(()=>X.forEach(w.ds,S=>g.persistence.referenceDelegate.removeReference(y,w.targetId,S)))))}catch(y){if(!Ba(y))throw y;ce(zg,"Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const S=g.Fs.get(w),P=S.snapshotVersion,x=S.withLastLimboFreeSnapshotVersion(P);g.Fs=g.Fs.insert(w,x)}}}(r.localStore,a))}async function JN(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){ce(Yg,"User change. New user:",e.toKey());const r=await MS(t.localStore,e);t.currentUser=e,function(a,l){a.Vu.forEach(c=>{c.forEach(d=>{d.reject(new le(Y.CANCELLED,l))})}),a.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zu(t,r.Bs)}}function ZN(n,e){const t=xe(n),r=t.Eu.get(e);if(r&&r.lu)return Ve().add(r.key);{let i=Ve();const a=t.Tu.get(e);if(!a)return i;for(const l of a){const c=t.Pu.get(l);i=i.unionWith(c.view.tu)}return i}}function rI(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GN.bind(null,e),e.hu.J_=VN.bind(null,e.eventManager),e.hu.pu=MN.bind(null,e.eventManager),e}function eL(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YN.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return iN(this.persistence,new tN,e.initialUser,this.serializer)}Du(e){return new VS(jg.Vi,this.serializer)}bu(e){return new hN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class tL extends nd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){He(this.persistence.referenceDelegate instanceof ed,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jD(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new VS(r=>ed.Vi(r,t),this.serializer)}}class Vm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JN.bind(null,this.syncEngine),await NN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ON}()}createDatastore(e){const t=Dd(e.databaseInfo.databaseId),r=function(a){return new gN(a)}(e.databaseInfo);return function(a,l,c,d){return new wN(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new TN(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>kw(this.syncEngine,t,0),function(){return Iw.C()?new Iw:new dN}())}createSyncEngine(e,t){return function(i,a,l,c,d,p,g){const y=new BN(i,a,l,c,d,p);return g&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=xe(i);ce(so,"RemoteStore shutting down."),a.Ia.add(5),await Bu(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vm.provider={build:()=>new Vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class nL{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ce(is,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ce(is,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zp(n,e){n.asyncQueue.verifyOperationInProgress(),ce(is,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Ji("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ce("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ji("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function Dw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await rL(n);ce(is,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Cw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Cw(e.remoteStore,i)),n._onlineComponents=e}async function rL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(is,"Using user provided OfflineComponentProvider");try{await zp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ji("Error using user provided cache. Falling back to memory cache: "+t),await zp(n,new nd)}}else ce(is,"Using default OfflineComponentProvider"),await zp(n,new tL(void 0));return n._offlineComponents}async function sI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(is,"Using user provided OnlineComponentProvider"),await Dw(n,n._uninitializedComponentsProvider._online)):(ce(is,"Using default OnlineComponentProvider"),await Dw(n,new Vm))),n._onlineComponents}function iL(n){return sI(n).then(e=>e.syncEngine)}async function Mm(n){const e=await sI(n),t=e.eventManager;return t.onListen=zN.bind(null,e.syncEngine),t.onUnlisten=HN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$N.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=qN.bind(null,e.syncEngine),t}function sL(n,e,t={}){const r=new Qi;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,p){const g=new iI({next:w=>{g.Ou(),l.enqueueAndForget(()=>GS(a,y));const S=w.docs.has(c);!S&&w.fromCache?p.reject(new le(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&d&&d.source==="server"?p.reject(new le(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new QS(Cd(c.path),g,{includeMetadataChanges:!0,ka:!0});return KS(a,y)}(await Mm(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firestore.googleapis.com",Lw=!0;class Ow{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aI,this.ssl=Lw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Lw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FD)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ow({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ow(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pb;switch(r.type){case"firstParty":return new vb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Nw.get(t);r&&(ce("ComponentProvider","Removing Datastore"),Nw.delete(t),r.terminate())}(this),Promise.resolve()}}function oL(n,e,t,r={}){var i;n=zn(n,Od);const a=Va(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a&&(XT(`https://${d}`),JT("Firestore",!0)),l.host!==aI&&l.host!==d&&Ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:a,emulatorOptions:r});if(!eo(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Yt.MOCK_USER;else{g=Px(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new le(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yt(w)}n._authCredentials=new mb(new q1(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class ht{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Fu(t,ht._jsonSchema))return new ht(e,r||null,new ye(Je.fromString(t.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:Tt("string",ht._jsonSchemaVersion),referencePath:Tt("string")};class Yi extends uo{constructor(e,t,r){super(e,t,Cd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new ye(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function lI(n,e,...t){if(n=St(n),G1("collection","path",e),n instanceof Od){const r=Je.fromString(e,...t);return G_(r),new Yi(n,null,r)}{if(!(n instanceof ht||n instanceof Yi))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return G_(r),new Yi(n.firestore,null,r)}}function Fm(n,e,...t){if(n=St(n),arguments.length===1&&(e=xg.newId()),G1("doc","path",e),n instanceof Od){const r=Je.fromString(e,...t);return K_(r),new ht(n,null,new ye(r))}{if(!(n instanceof ht||n instanceof Yi))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return K_(r),new ht(n.firestore,n instanceof Yi?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="AsyncQueue";class Mw{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new US(this,"async_queue_retry"),this.oc=()=>{const r=Bp();r&&ce(Vw,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Bp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Bp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Qi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ba(e))throw e;ce(Vw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ii("INTERNAL UNHANDLED ERROR: ",Fw(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=Kg.createAndSchedule(this,e,t,r,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&Se(47125,{hc:Fw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Fw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class ss extends Od{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Mw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mw(e),this._firestoreClient=void 0,await e}}}function aL(n,e){const t=typeof n=="object"?n:n1(),r=typeof n=="string"?n:Gh,i=yg(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Sx("firestore");a&&oL(i,...a)}return i}function Jg(n){if(n._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lL(n),n._firestoreClient}function lL(n){var e,t,r;const i=n._freezeSettings(),a=function(c,d,p,g){return new Lb(c,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,oI(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new nL(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn($t.fromBase64String(e))}catch(t){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Tt("string",Bn._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(Fu(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:Tt("string",Ar._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fu(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new xr(e.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:Tt("string",xr._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=/^__.*__$/;class cL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class uI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ec:n})}}class ey{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ey(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return rd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(cI(this.Ec)&&uL.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class hL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dd(e)}Dc(e,t,r,i=!1){return new ey({Ec:e,methodName:t,bc:r,path:zt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(n){const e=n._freezeSettings(),t=Dd(n._databaseId);return new hL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hI(n,e,t,r,i,a={}){const l=n.Dc(a.merge||a.mergeFields?2:0,e,t,i);ty("Data must be an object, but it was:",l,r);const c=dI(r,l);let d,p;if(a.merge)d=new Pn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const w=Um(e,y,t);if(!l.contains(w))throw new le(Y.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);pI(g,w)||g.push(w)}d=new Pn(g),p=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,p=l.fieldTransforms;return new cL(new yn(c),d,p)}class Fd extends Zg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function dL(n,e,t,r){const i=n.Dc(1,e,t);ty("Data must be an object, but it was:",i,r);const a=[],l=yn.empty();us(r,(d,p)=>{const g=ny(e,d,t);p=St(p);const y=i.gc(g);if(p instanceof Fd)a.push(g);else{const w=$u(p,y);w!=null&&(a.push(g),l.set(g,w))}});const c=new Pn(a);return new uI(l,c,i.fieldTransforms)}function fL(n,e,t,r,i,a){const l=n.Dc(1,e,t),c=[Um(e,r,t)],d=[i];if(a.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)c.push(Um(e,a[w])),d.push(a[w+1]);const p=[],g=yn.empty();for(let w=c.length-1;w>=0;--w)if(!pI(p,c[w])){const S=c[w];let P=d[w];P=St(P);const x=l.gc(S);if(P instanceof Fd)p.push(S);else{const A=$u(P,x);A!=null&&(p.push(S),g.set(S,A))}}const y=new Pn(p);return new uI(g,y,l.fieldTransforms)}function pL(n,e,t,r=!1){return $u(t,n.Dc(r?4:3,e))}function $u(n,e){if(fI(n=St(n)))return ty("Unsupported field value:",e,n),dI(n,e);if(n instanceof Zg)return function(r,i){if(!cI(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let d=$u(c,i.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=tt.fromDate(r);return{timestampValue:Zh(i.serializer,a)}}if(r instanceof tt){const a=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(i.serializer,a)}}if(r instanceof Ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:xS(i.serializer,r._byteString)};if(r instanceof ht){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Fg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xr)return function(l,c){return{mapValue:{fields:{[rS]:{stringValue:iS},[Qh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.wc("VectorValues must only contain numeric values.");return Lg(c.serializer,p)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Td(r)}`)}(n,e)}function dI(n,e){const t={};return X1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(n,(r,i)=>{const a=$u(i,e.Vc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function fI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof Ar||n instanceof Bn||n instanceof ht||n instanceof Zg||n instanceof xr)}function ty(n,e,t){if(!fI(t)||!Q1(t)){const r=Td(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Um(n,e,t){if((e=St(e))instanceof Vd)return e._internalPath;if(typeof e=="string")return ny(n,e);throw rd("Field path arguments must be of type string or ",n,!1,void 0,t)}const mL=new RegExp("[~\\*/\\[\\]]");function ny(n,e,t){if(e.search(mL)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vd(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rd(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new le(Y.INVALID_ARGUMENT,c+n+d)}function pI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ud("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gL extends mI{data(){return super.data()}}function Ud(n,e){return typeof e=="string"?ny(n,e):e instanceof Vd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class gI extends ry{}function vL(n,e,...t){let r=[];e instanceof ry&&r.push(e),r=r.concat(t),function(a){const l=a.filter(d=>d instanceof iy).length,c=a.filter(d=>d instanceof jd).length;if(l>1||l>0&&c>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class jd extends gI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new jd(e,t,r)}_apply(e){const t=this._parse(e);return yI(e._query,t),new uo(e.firestore,e.converter,Cm(e._query,t))}_parse(e){const t=Md(e.firestore);return function(a,l,c,d,p,g,y){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Bw(y,g);const P=[];for(const x of y)P.push(jw(d,a,x));w={arrayValue:{values:P}}}else w=jw(d,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Bw(y,g),w=pL(c,l,y,g==="in"||g==="not-in");return Et.create(p,g,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _L(n,e,t){const r=e,i=Ud("where",n);return jd._create(i,r,t)}class iy extends ry{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const d of c)yI(l,d),l=Cm(l,d)}(e._query,t),new uo(e.firestore,e.converter,Cm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sy extends gI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sy(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(a,l)}(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new za(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function wL(n,e="asc"){const t=e,r=Ud("orderBy",n);return sy._create(r,t)}function jw(n,e,t){if(typeof(t=St(t))=="string"){if(t==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(e)&&t.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Je.fromString(t));if(!ye.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nw(n,new ye(r))}if(t instanceof ht)return nw(n,t._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(t)}.`)}function Bw(n,e){if(!Array.isArray(n)||n.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yI(n,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class EL{convertValue(e,t="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return us(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Qh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>mt(l.doubleValue));return new xr(a)}convertGeoPoint(e){return new Ar(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Pd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const t=es(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Je.fromString(e);He(LS(r),9688,{name:e});const i=new vu(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return i.isEqual(t)||ii(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Xl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends mI{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ud("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Xs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:Tt("string",Xs._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class Nh extends Xs{data(e={}){return super.data(e)}}class Ia{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nh(this._firestore,this._userDataWriter,r.key,r,new Xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Nh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Xl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Nh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Xl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:TL(c.type),doc:d,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(n){n=zn(n,ht);const e=zn(n.firestore,ss);return sL(Jg(e),n._key).then(t=>wI(e,n,t))}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:Tt("string",Ia._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class _I extends EL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,t)}}function Cj(n,e,t){n=zn(n,ht);const r=zn(n.firestore,ss),i=vI(n.converter,e,t);return Bd(r,[hI(Md(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,$n.none())])}function SL(n,e,t,...r){n=zn(n,ht);const i=zn(n.firestore,ss),a=Md(i);let l;return l=typeof(e=St(e))=="string"||e instanceof Vd?fL(a,"updateDoc",n._key,e,t,r):dL(a,"updateDoc",n._key,e),Bd(i,[l.toMutation(n._key,$n.exists(!0))])}function IL(n){return Bd(zn(n.firestore,ss),[new Og(n._key,$n.none())])}function PL(n,e){const t=zn(n.firestore,ss),r=Fm(n),i=vI(n.converter,e);return Bd(t,[hI(Md(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function CL(n,...e){var t,r,i;n=St(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Uw(e[l])||(a=e[l++]);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Uw(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,p,g;if(n instanceof ht)p=zn(n.firestore,ss),g=Cd(n._key.path),d={next:y=>{e[l]&&e[l](wI(p,n,y))},error:e[l+1],complete:e[l+2]};else{const y=zn(n,uo);p=zn(y.firestore,ss),g=y._query;const w=new _I(p);d={next:S=>{e[l]&&e[l](new Ia(p,w,y,S))},error:e[l+1],complete:e[l+2]},yL(n._query)}return function(w,S,P,x){const A=new iI(x),F=new QS(S,A,P);return w.asyncQueue.enqueueAndForget(async()=>KS(await Mm(w),F)),()=>{A.Ou(),w.asyncQueue.enqueueAndForget(async()=>GS(await Mm(w),F))}}(Jg(p),g,c,d)}function Bd(n,e){return function(r,i){const a=new Qi;return r.asyncQueue.enqueueAndForget(async()=>KN(await iL(r),i,a)),a.promise}(Jg(n),e)}function wI(n,e,t){const r=t.docs.get(e._key),i=new _I(n);return new Xs(n,i,e._key,r,new Xl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ua=i})(Ma),Pa(new to("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new ss(new gb(r.getProvider("auth-internal")),new _b(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Ki(z_,$_,e),Ki(z_,$_,"esm2017")})();const AL={apiKey:"AIzaSyCEMCP41iugDnlcPgnj377Fgb_VqRS2TlM",authDomain:"soldi-sotto.firebaseapp.com",projectId:"soldi-sotto",storageBucket:"soldi-sotto.firebasestorage.app",messagingSenderId:"885892536806",appId:"1:885892536806:web:89e8d5f608fb466f4ede27"},EI=t1(AL),zw=db(EI),Lh=aL(EI),TI=D.createContext(),co=()=>D.useContext(TI),oy=({children:n})=>{oy.propTypes={children:Ae.node.isRequired};const[e,t]=D.useState(null),[r,i]=D.useState(!0),a=async()=>{try{await t2(zw)}catch(l){throw console.error("Errore durante il logout:",l),l}};return D.useEffect(()=>e2(zw,c=>{t(c),i(!1)}),[]),J.jsx(TI.Provider,{value:{currentUser:e,loading:r,logout:a},children:n})},SI=D.createContext(),xL=()=>D.useContext(SI),II=({children:n})=>{II.propTypes={children:Ae.node.isRequired};const{currentUser:e}=co(),[t,r]=D.useState([]),[i,a]=D.useState(!0),l=D.useCallback(()=>{if(!e)return;a(!0);const c=vL(lI(Lh,"transactions"),_L("userId","==",e.uid),wL("date","desc"));return CL(c,p=>{const g=p.docs.map(y=>({...y.data(),id:y.id,amount:parseFloat(y.data().amount)||0}));r(g),a(!1)})},[e]);return D.useEffect(()=>{if(e){const c=l();return()=>c&&c()}else a(!1)},[e,l]),J.jsx(SI.Provider,{value:{transactions:t,loading:i},children:n})};var $p={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var $w;function RL(){return $w||($w=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}($p)),$p.exports}var kL=RL();const ui=Oa(kL);function bL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function jm(n,e){return jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},jm(n,e)}function DL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,jm(n,e)}const NL=["xxl","xl","lg","md","sm","xs"],LL="xs",Wu=D.createContext({prefixes:{},breakpoints:NL,minBreakpoint:LL}),{Consumer:Aj,Provider:xj}=Wu;function ho(n,e){const{prefixes:t}=D.useContext(Wu);return n||t[e]||e}function Rj(){const{breakpoints:n}=D.useContext(Wu);return n}function kj(){const{minBreakpoint:n}=D.useContext(Wu);return n}function bj(){const{dir:n}=D.useContext(Wu);return n==="rtl"}function OL(n){return n&&n.ownerDocument||document}function VL(n){var e=OL(n);return e&&e.defaultView||window}function ML(n,e){return VL(n).getComputedStyle(n,e)}var FL=/([A-Z])/g;function UL(n){return n.replace(FL,"-$1").toLowerCase()}var jL=/^ms-/;function vh(n){return UL(n).replace(jL,"-ms-")}var BL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function zL(n){return!!(n&&BL.test(n))}function PI(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(vh(e))||ML(n).getPropertyValue(vh(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?n.style.removeProperty(vh(i)):zL(i)?r+=i+"("+a+") ":t+=vh(i)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var $L=zT();const Jl=Oa($L),Ww={disabled:!1},CI=an.createContext(null);var WL=function(e){return e.scrollTop},Zl="unmounted",Hs="exited",Yr="entering",Gs="entered",id="exiting",ci=function(n){DL(e,n);function e(r,i){var a;a=n.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,d;return a.appearStatus=null,r.in?c?(d=Hs,a.appearStatus=Yr):d=Gs:r.unmountOnExit||r.mountOnEnter?d=Zl:d=Hs,a.state={status:d},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===Zl?{status:Hs}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Yr&&l!==Gs&&(a=Yr):(l===Yr||l===Gs)&&(a=id)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},t.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===Yr){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Jl.findDOMNode(this);l&&WL(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hs&&this.setState({status:Zl})},t.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[Jl.findDOMNode(this),c],p=d[0],g=d[1],y=this.getTimeouts(),w=c?y.appear:y.enter;if(!i&&!l||Ww.disabled){this.safeSetState({status:Gs},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:Yr},function(){a.props.onEntering(p,g),a.onTransitionEnd(w,function(){a.safeSetState({status:Gs},function(){a.props.onEntered(p,g)})})})},t.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Jl.findDOMNode(this);if(!a||Ww.disabled){this.safeSetState({status:Hs},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:id},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Hs},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},t.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:Jl.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=d[0],g=d[1];this.props.addEndListener(p,g)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Zl)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=bL(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return an.createElement(CI.Provider,{value:null},typeof l=="function"?l(i,c):an.cloneElement(an.Children.only(l),c))},e}(an.Component);ci.contextType=CI;ci.propTypes={};function oa(){}ci.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:oa,onEntering:oa,onEntered:oa,onExit:oa,onExiting:oa,onExited:oa};ci.UNMOUNTED=Zl;ci.EXITED=Hs;ci.ENTERING=Yr;ci.ENTERED=Gs;ci.EXITING=id;function Dj(n){return n.code==="Escape"||n.keyCode===27}function HL(){const n=D.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function qL(n){if(!n||typeof n=="function")return null;const{major:e}=HL();return e>=19?n.props.ref:n.ref}const KL=!!(typeof window<"u"&&window.document&&window.document.createElement);var Bm=!1,zm=!1;try{var Wp={get passive(){return Bm=!0},get once(){return zm=Bm=!0}};KL&&(window.addEventListener("test",Wp,Wp),window.removeEventListener("test",Wp,!0))}catch{}function GL(n,e,t,r){if(r&&typeof r!="boolean"&&!zm){var i=r.once,a=r.capture,l=t;!zm&&i&&(l=t.__once||function c(d){this.removeEventListener(e,c,a),t.call(this,d)},t.__once=l),n.addEventListener(e,l,Bm?r:a)}n.addEventListener(e,t,r)}function QL(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function AI(n,e,t,r){return GL(n,e,t,r),function(){QL(n,e,t,r)}}function YL(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function XL(n){var e=PI(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function JL(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||YL(n,"transitionend",!0)},e+t),a=AI(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function ZL(n,e,t,r){t==null&&(t=XL(n)||0);var i=JL(n,t,r),a=AI(n,"transitionend",e);return function(){i(),a()}}function Hw(n,e){const t=PI(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function eO(n,e){const t=Hw(n,"transitionDuration"),r=Hw(n,"transitionDelay"),i=ZL(n,a=>{a.target===n&&(i(),e(a))},t+r)}function tO(n){n.offsetHeight}const qw=n=>!n||typeof n=="function"?n:e=>{n.current=e};function nO(n,e){const t=qw(n),r=qw(e);return i=>{t&&t(i),r&&r(i)}}function rO(n,e){return D.useMemo(()=>nO(n,e),[n,e])}function iO(n){return n&&"setState"in n?Jl.findDOMNode(n):n??null}const xI=an.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:c,childRef:d,...p},g)=>{const y=D.useRef(null),w=rO(y,d),S=ie=>{w(iO(ie))},P=ie=>N=>{ie&&y.current&&ie(y.current,N)},x=D.useCallback(P(n),[n]),A=D.useCallback(P(e),[e]),F=D.useCallback(P(t),[t]),j=D.useCallback(P(r),[r]),z=D.useCallback(P(i),[i]),G=D.useCallback(P(a),[a]),te=D.useCallback(P(l),[l]);return J.jsx(ci,{ref:g,...p,onEnter:x,onEntered:F,onEntering:A,onExit:j,onExited:G,onExiting:z,addEndListener:te,nodeRef:y,children:typeof c=="function"?(ie,N)=>c(ie,{...N,ref:S}):an.cloneElement(c,{ref:S})})});xI.displayName="TransitionWrapper";function sO(n){const e=D.useRef(n);return D.useEffect(()=>{e.current=n},[n]),e}function oO(n){const e=sO(n);return D.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const aO=["as","disabled"];function lO(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function uO(n){return!n||n.trim()==="#"}function RI({tagName:n,disabled:e,href:t,target:r,rel:i,role:a,onClick:l,tabIndex:c=0,type:d}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:d||"button",disabled:e},p];const g=w=>{if((e||n==="a"&&uO(t))&&w.preventDefault(),e){w.stopPropagation();return}l?.(w)},y=w=>{w.key===" "&&(w.preventDefault(),g(w))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:y},p]}const cO=D.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=lO(n,aO);const[a,{tagName:l}]=RI(Object.assign({tagName:t,disabled:r},i));return J.jsx(l,Object.assign({},i,a,{ref:e}))});cO.displayName="Button";const hO={[Yr]:"show",[Gs]:"show"},kI=D.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=D.useCallback((d,p)=>{tO(d),r?.(d,p)},[r]);return J.jsx(xI,{ref:a,addEndListener:eO,...l,onEnter:c,childRef:qL(e),children:(d,p)=>D.cloneElement(e,{...p,className:ui("fade",n,e.props.className,hO[d],t[d])})})});kI.displayName="Fade";const dO={"aria-label":Ae.string,onClick:Ae.func,variant:Ae.oneOf(["white"])},ay=D.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>J.jsx("button",{ref:i,type:"button",className:ui("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));ay.displayName="CloseButton";ay.propTypes=dO;const ly=D.forwardRef(({bsPrefix:n,bg:e="primary",pill:t=!1,text:r,className:i,as:a="span",...l},c)=>{const d=ho(n,"badge");return J.jsx(a,{ref:c,...l,className:ui(i,d,t&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});ly.displayName="Badge";const Oh=D.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:l,...c},d)=>{const p=ho(e,"btn"),[g,{tagName:y}]=RI({tagName:n,disabled:a,...c}),w=y;return J.jsx(w,{...g,...c,ref:d,disabled:a,className:ui(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&a&&"disabled")})});Oh.displayName="Button";function fO(){const n=D.useRef(!0),e=D.useRef(()=>n.current);return D.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function pO(n){const e=D.useRef(n);return e.current=n,e}function mO(n){const e=pO(n);D.useEffect(()=>()=>e.current(),[])}const $m=2**31-1;function bI(n,e,t){const r=t-Date.now();n.current=r<=$m?setTimeout(e,r):setTimeout(()=>bI(n,e,t),$m)}function gO(){const n=fO(),e=D.useRef();return mO(()=>clearTimeout(e.current)),D.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(i,a=0){n()&&(t(),a<=$m?e.current=setTimeout(i,a):bI(e,i,Date.now()+a))}return{set:r,clear:t,handleRef:e}},[])}const DI=D.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:i="div",className:a,...l},c)=>{n=ho(n,"spinner");const d=`${n}-${t}`;return J.jsx(i,{ref:c,...l,className:ui(a,d,r&&`${d}-${r}`,e&&`text-${e}`)})});DI.displayName="Spinner";const yO={[Yr]:"showing",[id]:"showing show"},NI=D.forwardRef((n,e)=>J.jsx(kI,{...n,ref:e,transitionClasses:yO}));NI.displayName="ToastFade";const LI=D.createContext({onClose(){}}),OI=D.forwardRef(({bsPrefix:n,closeLabel:e="Close",closeVariant:t,closeButton:r=!0,className:i,children:a,...l},c)=>{n=ho(n,"toast-header");const d=D.useContext(LI),p=oO(g=>{d==null||d.onClose==null||d.onClose(g)});return J.jsxs("div",{ref:c,...l,className:ui(n,i),children:[a,r&&J.jsx(ay,{"aria-label":e,variant:t,onClick:p,"data-dismiss":"toast"})]})});OI.displayName="ToastHeader";const VI=D.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=ho(e,"toast-body"),J.jsx(t,{ref:i,className:ui(n,e),...r})));VI.displayName="ToastBody";const MI=D.forwardRef(({bsPrefix:n,className:e,transition:t=NI,show:r=!0,animation:i=!0,delay:a=5e3,autohide:l=!1,onClose:c,onEntered:d,onExit:p,onExiting:g,onEnter:y,onEntering:w,onExited:S,bg:P,...x},A)=>{n=ho(n,"toast");const F=D.useRef(a),j=D.useRef(c);D.useEffect(()=>{F.current=a,j.current=c},[a,c]);const z=gO(),G=!!(l&&r),te=D.useCallback(()=>{G&&(j.current==null||j.current())},[G]);D.useEffect(()=>{z.set(te,F.current)},[z,te]);const ie=D.useMemo(()=>({onClose:c}),[c]),N=!!(t&&i),C=J.jsx("div",{...x,ref:A,className:ui(n,e,P&&`bg-${P}`,!N&&(r?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return J.jsx(LI.Provider,{value:ie,children:N&&t?J.jsx(t,{in:r,onEnter:y,onEntering:w,onEntered:d,onExit:p,onExiting:g,onExited:S,unmountOnExit:!0,children:C}):C})});MI.displayName="Toast";const Hp=Object.assign(MI,{Body:VI,Header:OI}),vO={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},FI=D.forwardRef(({bsPrefix:n,position:e,containerPosition:t,className:r,as:i="div",...a},l)=>(n=ho(n,"toast-container"),J.jsx(i,{ref:l,...a,className:ui(n,e&&vO[e],t&&`position-${t}`,r)})));FI.displayName="ToastContainer";const _O=(n,e,t,r)=>{const i=[t,{code:e,...r||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);Js(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...i):console?.warn&&console.warn(...i)},Kw={},Wm=(n,e,t,r)=>{Js(t)&&Kw[t]||(Js(t)&&(Kw[t]=new Date),_O(n,e,t,r))},UI=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Hm=(n,e,t)=>{n.loadNamespaces(e,UI(n,t))},Gw=(n,e,t,r)=>{if(Js(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Hm(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,UI(n,r))},wO=(n,e,t={})=>!e.languages||!e.languages.length?(Wm(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{if(t.bindI18n?.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),Js=n=>typeof n=="string",EO=n=>typeof n=="object"&&n!==null,TO=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,SO={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},IO=n=>SO[n],PO=n=>n.replace(TO,IO);let qm={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:PO};const CO=(n={})=>{qm={...qm,...n}},AO=()=>qm;let jI;const xO=n=>{jI=n},RO=()=>jI,kO={type:"3rdParty",init(n){CO(n.options.react),xO(n)}},bO=D.createContext();class DO{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const NO=(n,e)=>{const t=D.useRef();return D.useEffect(()=>{t.current=n},[n,e]),t.current},BI=(n,e,t,r)=>n.getFixedT(e,t,r),LO=(n,e,t,r)=>D.useCallback(BI(n,e,t,r),[n,e,t,r]),Hu=(n,e={})=>{const{i18n:t}=e,{i18n:r,defaultNS:i}=D.useContext(bO)||{},a=t||r||RO();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new DO),!a){Wm(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const G=(ie,N)=>Js(N)?N:EO(N)&&Js(N.defaultValue)?N.defaultValue:Array.isArray(ie)?ie[ie.length-1]:ie,te=[G,{},!1];return te.t=G,te.i18n={},te.ready=!1,te}a.options.react?.wait&&Wm(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...AO(),...a.options.react,...e},{useSuspense:c,keyPrefix:d}=l;let p=i||a.options?.defaultNS;p=Js(p)?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces?.(p);const g=(a.isInitialized||a.initializedStoreOnce)&&p.every(G=>wO(G,a,l)),y=LO(a,e.lng||null,l.nsMode==="fallback"?p:p[0],d),w=()=>y,S=()=>BI(a,e.lng||null,l.nsMode==="fallback"?p:p[0],d),[P,x]=D.useState(w);let A=p.join();e.lng&&(A=`${e.lng}${A}`);const F=NO(A),j=D.useRef(!0);D.useEffect(()=>{const{bindI18n:G,bindI18nStore:te}=l;j.current=!0,!g&&!c&&(e.lng?Gw(a,e.lng,p,()=>{j.current&&x(S)}):Hm(a,p,()=>{j.current&&x(S)})),g&&F&&F!==A&&j.current&&x(S);const ie=()=>{j.current&&x(S)};return G&&a?.on(G,ie),te&&a?.store.on(te,ie),()=>{j.current=!1,a&&G?.split(" ").forEach(N=>a.off(N,ie)),te&&a&&te.split(" ").forEach(N=>a.store.off(N,ie))}},[a,A]),D.useEffect(()=>{j.current&&g&&x(w)},[a,d,g]);const z=[P,a,g];if(z.t=P,z.i18n=a,z.ready=g,g||!g&&!c)return z;throw new Promise(G=>{e.lng?Gw(a,e.lng,p,()=>G()):Hm(a,p,()=>G())})},zI=D.createContext(),$I=()=>D.useContext(zI),WI=({children:n})=>{WI.propTypes={children:Ae.node.isRequired};const[e,t]=D.useState([]),{t:r}=Hu(),i=D.useCallback((y,w="info",S=4e3)=>{const P=Date.now()+Math.random(),x={id:P,message:y,type:w,duration:S};t(A=>[...A,x]),setTimeout(()=>{t(A=>A.filter(F=>F.id!==P))},S)},[]),a=D.useCallback(y=>{t(w=>w.filter(S=>S.id!==y))},[]),l=D.useCallback(y=>i(y,"success"),[i]),c=D.useCallback(y=>i(y,"danger"),[i]),d=D.useCallback(y=>i(y,"warning"),[i]),p=D.useCallback(y=>i(y,"info"),[i]),g=y=>{switch(y){case"success":return"";case"danger":return"";case"warning":return"";case"info":return"";default:return""}};return J.jsxs(zI.Provider,{value:{success:l,error:c,warning:d,info:p,addToast:i},children:[n,J.jsx(FI,{position:"top-end",className:"p-3",style:{zIndex:9999,top:"80px"},children:e.map(y=>J.jsxs(Hp,{onClose:()=>a(y.id),show:!0,delay:y.duration,autohide:!0,style:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(15px)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"12px",boxShadow:"0 8px 25px rgba(0, 0, 0, 0.15)"},children:[J.jsxs(Hp.Header,{style:{backgroundColor:"transparent",border:"none",paddingBottom:"8px"},children:[J.jsx("span",{className:"me-2",children:g(y.type)}),J.jsxs("strong",{className:"me-auto",children:[y.type==="success"&&r("notifications.success"),y.type==="danger"&&r("notifications.error"),y.type==="warning"&&r("notifications.warning"),y.type==="info"&&r("notifications.info")]})]}),J.jsx(Hp.Body,{style:{paddingTop:0},children:y.message})]},y.id))})]})},HI=D.createContext(),OO=()=>D.useContext(HI),qp="soldi-sotto-demo-transactions",$l=10,qI=({children:n})=>{qI.propTypes={children:Ae.node.isRequired};const[e,t]=D.useState([]),[r,i]=D.useState(!0),a=$I(),{t:l}=Hu(),c=D.useCallback(()=>{try{const A=localStorage.getItem(qp);if(A){const j=JSON.parse(A).map(z=>({...z,date:new Date(z.date),amount:parseFloat(z.amount)||0}));j.sort((z,G)=>G.date-z.date),t(j)}}catch(A){console.error("Errore nel caricamento delle transazioni demo:",A),t([])}finally{i(!1)}},[]),d=D.useCallback(A=>{try{localStorage.setItem(qp,JSON.stringify(A))}catch(F){console.error("Errore nel salvataggio delle transazioni demo:",F)}},[]),p=D.useCallback(async A=>{if(e.length>=$l)return a.warning(l("demo.limitReached",{limit:$l})),!1;const j=[{...A,id:Date.now().toString()+Math.random().toString(36).substr(2,9),createdAt:new Date},...e];return t(j),d(j),a.success(l("demo.transactionAdded")),!0},[e,d,a,l]),g=D.useCallback(async(A,F)=>{const j=e.map(z=>z.id===A?{...z,...F}:z);return t(j),d(j),a.success(l("demo.transactionUpdated")),!0},[e,d,a,l]),y=D.useCallback(async A=>{const F=e.filter(j=>j.id!==A);return t(F),d(F),a.success(l("demo.transactionDeleted")),!0},[e,d,a,l]),w=D.useCallback(()=>{t([]),localStorage.removeItem(qp),a.success(l("demo.allTransactionsCleared"))},[a,l]),S=e.length<$l,P=D.useCallback(()=>{const A=e.filter(j=>j.type==="income").reduce((j,z)=>j+z.amount,0),F=e.filter(j=>j.type==="expense").reduce((j,z)=>j+z.amount,0);return{totalIncome:A,totalExpense:F,balance:A-F,transactionCount:e.length,maxTransactions:$l,canAddMore:S}},[e,S]);D.useEffect(()=>{c()},[c]);const x=D.useCallback(()=>{const A=[{id:"demo-1",type:"income",amount:2500,description:l("demo.sampleSalary"),date:new Date(Date.now()-432e6),category:"stipendio",createdAt:new Date},{id:"demo-2",type:"expense",amount:50,description:l("demo.sampleGroceries"),date:new Date(Date.now()-1728e5),category:"supermercato",createdAt:new Date},{id:"demo-3",type:"expense",amount:25,description:l("demo.sampleFuel"),date:new Date(Date.now()-864e5),category:"trasporti",createdAt:new Date}];t(A),d(A),a.info(l("demo.sampleTransactionsAdded"))},[d,a,l]);return J.jsx(HI.Provider,{value:{transactions:e,loading:r,addTransaction:p,updateTransaction:g,deleteTransaction:y,clearTransactions:w,generateSampleTransactions:x,canAddMoreTransactions:S,maxTransactions:$l,getDemoStats:P,isDemo:!0},children:n})},zd=D.createContext(),uy=()=>D.useContext(zd),KI=({children:n})=>{KI.propTypes={children:Ae.node.isRequired};const{currentUser:e}=co(),{transactions:t,loading:r}=xL(),[i,a]=D.useState(!1),l=$I(),{t:c}=Hu(),d=D.useCallback(async w=>{if(!e)return!1;a(!0);try{return await PL(lI(Lh,"transactions"),{userId:e.uid,...w}),l.success(c("notifications.addSuccess")),!0}catch(S){return console.error("Errore nell'aggiunta della transazione:",S),l.error(c("notifications.addError")),!1}finally{a(!1)}},[e,c]),p=D.useCallback(async(w,S)=>{if(!e)return!1;a(!0);try{const P=Fm(Lh,"transactions",w);return await SL(P,S),l.success(c("notifications.updateSuccess")),!0}catch(P){return console.error("Errore nell'aggiornamento della transazione:",P),l.error(c("notifications.updateError")),!1}finally{a(!1)}},[e,c]),g=D.useCallback(async w=>{if(!e)return!1;a(!0);try{const S=Fm(Lh,"transactions",w);return await IL(S),l.success(c("notifications.deleteSuccess")),!0}catch(S){return console.error("Errore nell'eliminazione della transazione:",S),l.error(c("notifications.deleteError")),!1}finally{a(!1)}},[e,c]),y=D.useCallback(()=>{const w=t.filter(P=>P.type==="income").reduce((P,x)=>P+x.amount,0),S=t.filter(P=>P.type==="expense").reduce((P,x)=>P+x.amount,0);return{totalIncome:w,totalExpense:S,balance:w-S,transactionCount:t.length,canAddMore:!0}},[t]);return J.jsx(zd.Provider,{value:{transactions:t,loading:r||i,addTransaction:d,updateTransaction:p,deleteTransaction:g,canAddMoreTransactions:!0,maxTransactions:1/0,getStats:y,isDemo:!1,isAuthenticated:!0},children:n})},GI=({children:n})=>{GI.propTypes={children:Ae.node.isRequired};const{transactions:e,loading:t,addTransaction:r,updateTransaction:i,deleteTransaction:a,canAddMoreTransactions:l,maxTransactions:c,getDemoStats:d,generateSampleTransactions:p,clearTransactions:g}=OO();return J.jsx(zd.Provider,{value:{transactions:e,loading:t,addTransaction:r,updateTransaction:i,deleteTransaction:a,generateSampleTransactions:p,clearTransactions:g,canAddMoreTransactions:l,maxTransactions:c,getStats:d,isDemo:!0,isAuthenticated:!1},children:n})},cy=({children:n})=>{cy.propTypes={children:Ae.node.isRequired};const{currentUser:e,loading:t}=co(),[r,i]=D.useState(!1);return D.useEffect(()=>{t||i(!0)},[t]),r?e?J.jsx(II,{children:J.jsx(KI,{children:n})}):J.jsx(qI,{children:J.jsx(GI,{children:n})}):J.jsx(zd.Provider,{value:{transactions:[],loading:!0,addTransaction:()=>Promise.resolve(!1),updateTransaction:()=>Promise.resolve(!1),deleteTransaction:()=>Promise.resolve(!1),canAddMoreTransactions:!1,maxTransactions:0,getStats:()=>({}),isDemo:!1,isAuthenticated:!1},children:n})},VO="modulepreload",MO=function(n){return"/soldi-sotto/"+n},Qw={},hi=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=d(t.map(p=>{if(p=MO(p),p in Qw)return;Qw[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":VO,g||(w.as="script"),w.crossOrigin="",w.href=p,c&&w.setAttribute("nonce",c),document.head.appendChild(w),g)return new Promise((S,P)=>{w.addEventListener("load",S),w.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Su.apply(this,arguments)}var Wi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Wi||(Wi={}));const Yw="popstate";function FO(n){n===void 0&&(n={});function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Km("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:sd(i)}return jO(e,t,null,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function QI(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UO(){return Math.random().toString(36).substr(2,8)}function Xw(n,e){return{usr:n.state,key:n.key,idx:e}}function Km(n,e,t,r){return t===void 0&&(t=null),Su({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wa(e):e,{state:t,key:e&&e.key||r||UO()})}function sd(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function jO(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c=Wi.Pop,d=null,p=g();p==null&&(p=0,l.replaceState(Su({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function y(){c=Wi.Pop;let A=g(),F=A==null?null:A-p;p=A,d&&d({action:c,location:x.location,delta:F})}function w(A,F){c=Wi.Push;let j=Km(x.location,A,F);p=g()+1;let z=Xw(j,p),G=x.createHref(j);try{l.pushState(z,"",G)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;i.location.assign(G)}a&&d&&d({action:c,location:x.location,delta:1})}function S(A,F){c=Wi.Replace;let j=Km(x.location,A,F);p=g();let z=Xw(j,p),G=x.createHref(j);l.replaceState(z,"",G),a&&d&&d({action:c,location:x.location,delta:0})}function P(A){let F=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof A=="string"?A:sd(A);return j=j.replace(/ $/,"%20"),gt(F,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,F)}let x={get action(){return c},get location(){return n(i,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Yw,y),d=A,()=>{i.removeEventListener(Yw,y),d=null}},createHref(A){return e(i,A)},createURL:P,encodeLocation(A){let F=P(A);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:w,replace:S,go(A){return l.go(A)}};return x}var Jw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Jw||(Jw={}));function BO(n,e,t){return t===void 0&&(t="/"),zO(n,e,t)}function zO(n,e,t,r){let i=typeof e=="string"?Wa(e):e,a=hy(i.pathname||"/",t);if(a==null)return null;let l=YI(n);$O(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=tV(a);c=JO(l[d],p)}return c}function YI(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(gt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=Xi([r,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(gt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),YI(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:YO(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let d of XI(a.path))i(a,l,d)}),e}function XI(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=XI(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function $O(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const WO=/^:[\w-]+$/,HO=3,qO=2,KO=1,GO=10,QO=-2,Zw=n=>n==="*";function YO(n,e){let t=n.split("/"),r=t.length;return t.some(Zw)&&(r+=QO),e&&(r+=qO),t.filter(i=>!Zw(i)).reduce((i,a)=>i+(WO.test(a)?HO:a===""?KO:GO),r)}function XO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function JO(n,e,t){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=ZO({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),w=d.route;if(!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Xi([a,y.pathname]),pathnameBase:sV(Xi([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=Xi([a,y.pathnameBase]))}return l}function ZO(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=eV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,g,y)=>{let{paramName:w,isOptional:S}=g;if(w==="*"){let x=c[y]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const P=c[y];return S&&!P?p[w]=void 0:p[w]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function eV(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),QI(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function tV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return QI(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function hy(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function nV(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Wa(n):n;return{pathname:t?t.startsWith("/")?t:rV(t,e):e,search:oV(r),hash:aV(i)}}function rV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Kp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dy(n,e){let t=iV(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function fy(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Wa(n):(i=Su({},n),gt(!i.pathname||!i.pathname.includes("?"),Kp("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),Kp("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),Kp("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}c=y>=0?e[y]:"/"}let d=nV(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}const Xi=n=>n.join("/").replace(/\/\/+/g,"/"),sV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),oV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function lV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const JI=["post","put","patch","delete"];new Set(JI);const uV=["get",...JI];new Set(uV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Iu.apply(this,arguments)}const py=D.createContext(null),cV=D.createContext(null),hs=D.createContext(null),$d=D.createContext(null),ds=D.createContext({outlet:null,matches:[],isDataRoute:!1}),ZI=D.createContext(null);function hV(n,e){let{relative:t}=e===void 0?{}:e;Ha()||gt(!1);let{basename:r,navigator:i}=D.useContext(hs),{hash:a,pathname:l,search:c}=tP(n,{relative:t}),d=l;return r!=="/"&&(d=l==="/"?r:Xi([r,l])),i.createHref({pathname:d,search:c,hash:a})}function Ha(){return D.useContext($d)!=null}function fs(){return Ha()||gt(!1),D.useContext($d).location}function eP(n){D.useContext(hs).static||D.useLayoutEffect(n)}function Wd(){let{isDataRoute:n}=D.useContext(ds);return n?IV():dV()}function dV(){Ha()||gt(!1);let n=D.useContext(py),{basename:e,future:t,navigator:r}=D.useContext(hs),{matches:i}=D.useContext(ds),{pathname:a}=fs(),l=JSON.stringify(dy(i,t.v7_relativeSplatPath)),c=D.useRef(!1);return eP(()=>{c.current=!0}),D.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let y=fy(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xi([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,l,a,n])}function tP(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=D.useContext(hs),{matches:i}=D.useContext(ds),{pathname:a}=fs(),l=JSON.stringify(dy(i,r.v7_relativeSplatPath));return D.useMemo(()=>fy(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function fV(n,e){return pV(n,e)}function pV(n,e,t,r){Ha()||gt(!1);let{navigator:i}=D.useContext(hs),{matches:a}=D.useContext(ds),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=fs(),g;if(e){var y;let A=typeof e=="string"?Wa(e):e;d==="/"||(y=A.pathname)!=null&&y.startsWith(d)||gt(!1),g=A}else g=p;let w=g.pathname||"/",S=w;if(d!=="/"){let A=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let P=BO(n,{pathname:S}),x=_V(P&&P.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:Xi([d,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:Xi([d,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,r);return e&&x?D.createElement($d.Provider,{value:{location:Iu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Wi.Pop}},x):x}function mV(){let n=SV(),e=lV(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:i},t):null,null)}const gV=D.createElement(mV,null);class yV extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(ds.Provider,{value:this.props.routeContext},D.createElement(ZI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vV(n){let{routeContext:e,match:t,children:r}=n,i=D.useContext(py);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(ds.Provider,{value:e},r)}function _V(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(i=t)==null?void 0:i.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);g>=0||gt(!1),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:w,errors:S}=t,P=y.route.loader&&w[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||P){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,y,w)=>{let S,P=!1,x=null,A=null;t&&(S=c&&y.route.id?c[y.route.id]:void 0,x=y.route.errorElement||gV,d&&(p<0&&w===0?(PV("route-fallback"),P=!0,A=null):p===w&&(P=!0,A=y.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,w+1)),j=()=>{let z;return S?z=x:P?z=A:y.route.Component?z=D.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=g,D.createElement(vV,{match:y,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:z})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?D.createElement(yV,{location:t.location,revalidation:t.revalidation,component:x,error:S,children:j(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):j()},null)}var nP=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(nP||{}),rP=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(rP||{});function wV(n){let e=D.useContext(py);return e||gt(!1),e}function EV(n){let e=D.useContext(cV);return e||gt(!1),e}function TV(n){let e=D.useContext(ds);return e||gt(!1),e}function iP(n){let e=TV(),t=e.matches[e.matches.length-1];return t.route.id||gt(!1),t.route.id}function SV(){var n;let e=D.useContext(ZI),t=EV(),r=iP();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function IV(){let{router:n}=wV(nP.UseNavigateStable),e=iP(rP.UseNavigateStable),t=D.useRef(!1);return eP(()=>{t.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Iu({fromRouteId:e},a)))},[n,e])}const eE={};function PV(n,e,t){eE[n]||(eE[n]=!0)}function CV(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function sP(n){let{to:e,replace:t,state:r,relative:i}=n;Ha()||gt(!1);let{future:a,static:l}=D.useContext(hs),{matches:c}=D.useContext(ds),{pathname:d}=fs(),p=Wd(),g=fy(e,dy(c,a.v7_relativeSplatPath),d,i==="path"),y=JSON.stringify(g);return D.useEffect(()=>p(JSON.parse(y),{replace:t,state:r,relative:i}),[p,y,i,t,r]),null}function sr(n){gt(!1)}function AV(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Wi.Pop,navigator:a,static:l=!1,future:c}=n;Ha()&&gt(!1);let d=e.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:d,navigator:a,static:l,future:Iu({v7_relativeSplatPath:!1},c)}),[d,c,a,l]);typeof r=="string"&&(r=Wa(r));let{pathname:g="/",search:y="",hash:w="",state:S=null,key:P="default"}=r,x=D.useMemo(()=>{let A=hy(g,d);return A==null?null:{location:{pathname:A,search:y,hash:w,state:S,key:P},navigationType:i}},[d,g,y,w,S,P,i]);return x==null?null:D.createElement(hs.Provider,{value:p},D.createElement($d.Provider,{children:t,value:x}))}function xV(n){let{children:e,location:t}=n;return fV(Gm(e),t)}new Promise(()=>{});function Gm(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,i)=>{if(!D.isValidElement(r))return;let a=[...e,i];if(r.type===D.Fragment){t.push.apply(t,Gm(r.props.children,a));return}r.type!==sr&&gt(!1),!r.props.index||!r.props.children||gt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Gm(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qm(){return Qm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qm.apply(this,arguments)}function RV(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function kV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bV(n,e){return n.button===0&&(!e||e==="_self")&&!kV(n)}const DV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NV="6";try{window.__reactRouterVersion=NV}catch{}const LV="startTransition",tE=ux[LV];function OV(n){let{basename:e,children:t,future:r,window:i}=n,a=D.useRef();a.current==null&&(a.current=FO({window:i,v5Compat:!0}));let l=a.current,[c,d]=D.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},g=D.useCallback(y=>{p&&tE?tE(()=>d(y)):d(y)},[d,p]);return D.useLayoutEffect(()=>l.listen(g),[l,g]),D.useEffect(()=>CV(r),[r]),D.createElement(AV,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:r})}const VV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gp=D.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:c,target:d,to:p,preventScrollReset:g,viewTransition:y}=e,w=RV(e,DV),{basename:S}=D.useContext(hs),P,x=!1;if(typeof p=="string"&&MV.test(p)&&(P=p,VV))try{let z=new URL(window.location.href),G=p.startsWith("//")?new URL(z.protocol+p):new URL(p),te=hy(G.pathname,S);G.origin===z.origin&&te!=null?p=te+G.search+G.hash:x=!0}catch{}let A=hV(p,{relative:i}),F=FV(p,{replace:l,state:c,target:d,preventScrollReset:g,relative:i,viewTransition:y});function j(z){r&&r(z),z.defaultPrevented||F(z)}return D.createElement("a",Qm({},w,{href:P||A,onClick:x||a?r:j,ref:t,target:d}))});var nE;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(nE||(nE={}));var rE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(rE||(rE={}));function FV(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,d=Wd(),p=fs(),g=tP(n,{relative:l});return D.useCallback(y=>{if(bV(y,t)){y.preventDefault();let w=r!==void 0?r:sd(p)===sd(g);d(n,{replace:w,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,r,i,t,n,a,l,c])}var _h={},iE;function UV(){if(iE)return _h;iE=1,_h.match=a,_h.parse=l;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,t=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(g,y){return l(g).some(function(w){var S=w.inverse,P=w.type==="all"||y.type===w.type;if(P&&S||!(P||S))return!1;var x=w.expressions.every(function(A){var F=A.feature,j=A.modifier,z=A.value,G=y[F];if(!G)return!1;switch(F){case"orientation":case"scan":return G.toLowerCase()===z.toLowerCase();case"width":case"height":case"device-width":case"device-height":z=p(z),G=p(G);break;case"resolution":z=d(z),G=d(G);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":z=c(z),G=c(G);break;case"grid":case"color":case"color-index":case"monochrome":z=parseInt(z,10)||1,G=parseInt(G,10)||0;break}switch(j){case"min":return G>=z;case"max":return G<=z;default:return G===z}});return x&&!S||!x&&S})}function l(g){return g.split(",").map(function(y){y=y.trim();var w=y.match(n),S=w[1],P=w[2],x=w[3]||"",A={};return A.inverse=!!S&&S.toLowerCase()==="not",A.type=P?P.toLowerCase():"all",x=x.match(/\([^\)]+\)/g)||[],A.expressions=x.map(function(F){var j=F.match(e),z=j[1].toLowerCase().match(t);return{modifier:z[1],feature:z[2],value:j[2]}}),A})}function c(g){var y=Number(g),w;return y||(w=g.match(/^(\d+)\s*\/\s*(\d+)$/),y=w[1]/w[2]),y}function d(g){var y=parseFloat(g),w=String(g).match(i)[1];switch(w){case"dpcm":return y/2.54;case"dppx":return y*96;default:return y}}function p(g){var y=parseFloat(g),w=String(g).match(r)[1];switch(w){case"em":return y*16;case"rem":return y*16;case"cm":return y*96/2.54;case"mm":return y*96/2.54/10;case"in":return y*96;case"pt":return y*72;case"pc":return y*72/12;default:return y}}return _h}var Qp,sE;function jV(){if(sE)return Qp;sE=1;var n=UV().match,e=typeof window<"u"?window.matchMedia:null;function t(i,a,l){var c=this,d;e&&!l&&(d=e.call(window,i)),d?(this.matches=d.matches,this.media=d.media,d.addListener(y)):(this.matches=n(i,a),this.media=i),this.addListener=p,this.removeListener=g,this.dispose=w;function p(S){d&&d.addListener(S)}function g(S){d&&d.removeListener(S)}function y(S){c.matches=S.matches,c.media=S.media}function w(){d&&d.removeListener(y)}}function r(i,a,l){return new t(i,a,l)}return Qp=r,Qp}var BV=jV();const zV=Oa(BV);var $V=/[A-Z]/g,WV=/^ms-/,Yp={};function HV(n){return"-"+n.toLowerCase()}function oP(n){if(Yp.hasOwnProperty(n))return Yp[n];var e=n.replace($V,HV);return Yp[n]=WV.test(e)?"-"+e:e}function qV(n,e){if(n===e)return!0;if(!n||!e)return!1;const t=Object.keys(n),r=Object.keys(e),i=t.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const l=t[a];if(n[l]!==e[l]||!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0}const on=Ae.oneOfType([Ae.string,Ae.number]),aP={all:Ae.bool,grid:Ae.bool,aural:Ae.bool,braille:Ae.bool,handheld:Ae.bool,print:Ae.bool,projection:Ae.bool,screen:Ae.bool,tty:Ae.bool,tv:Ae.bool,embossed:Ae.bool},KV={orientation:Ae.oneOf(["portrait","landscape"]),scan:Ae.oneOf(["progressive","interlace"]),aspectRatio:Ae.string,deviceAspectRatio:Ae.string,height:on,deviceHeight:on,width:on,deviceWidth:on,color:Ae.bool,colorIndex:Ae.bool,monochrome:Ae.bool,resolution:on,type:Object.keys(aP)},{type:Nj,...GV}=KV,QV={minAspectRatio:Ae.string,maxAspectRatio:Ae.string,minDeviceAspectRatio:Ae.string,maxDeviceAspectRatio:Ae.string,minHeight:on,maxHeight:on,minDeviceHeight:on,maxDeviceHeight:on,minWidth:on,maxWidth:on,minDeviceWidth:on,maxDeviceWidth:on,minColor:Ae.number,maxColor:Ae.number,minColorIndex:Ae.number,maxColorIndex:Ae.number,minMonochrome:Ae.number,maxMonochrome:Ae.number,minResolution:on,maxResolution:on,...GV},YV={...aP,...QV};var XV={all:YV};const JV=n=>`not ${n}`,ZV=(n,e)=>{const t=oP(n);return typeof e=="number"&&(e=`${e}px`),e===!0?t:e===!1?JV(t):`(${t}: ${e})`},eM=n=>n.join(" and "),tM=n=>{const e=[];return Object.keys(XV.all).forEach(t=>{const r=n[t];r!=null&&e.push(ZV(t,r))}),eM(e)},nM=D.createContext(void 0),rM=n=>n.query||tM(n),oE=n=>n?Object.keys(n).reduce((t,r)=>(t[oP(r)]=n[r],t),{}):void 0,lP=()=>{const n=D.useRef(!1);return D.useEffect(()=>{n.current=!0},[]),n.current},iM=n=>{const e=D.useContext(nM),t=()=>oE(n)||oE(e),[r,i]=D.useState(t);return D.useEffect(()=>{const a=t();qV(r,a)||i(a)},[n,e]),r},sM=n=>{const e=()=>rM(n),[t,r]=D.useState(e);return D.useEffect(()=>{const i=e();t!==i&&r(i)},[n]),t},oM=(n,e)=>{const t=()=>zV(n,e||{},!!e),[r,i]=D.useState(t),a=lP();return D.useEffect(()=>{if(a){const l=t();return i(l),()=>{l&&l.dispose()}}},[n,e]),r},aM=n=>{const[e,t]=D.useState(n.matches);return D.useEffect(()=>{const r=i=>{t(i.matches)};return n.addListener(r),t(n.matches),()=>{n.removeListener(r)}},[n]),e},uP=(n,e,t)=>{const r=iM(e),i=sM(n);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=oM(i,r),l=aM(a);return lP(),D.useEffect(()=>{},[l]),D.useEffect(()=>()=>{a&&a.dispose()},[]),l},cP=D.createContext({});function lM(n){const e=D.useRef(null);return e.current===null&&(e.current=n()),e.current}const my=D.createContext(null),hP=D.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function uM(n=!0){const e=D.useContext(my);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=D.useId();D.useEffect(()=>{n&&i(a)},[n]);const l=D.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,l]:[!0]}const gy=typeof window<"u",cM=gy?D.useLayoutEffect:D.useEffect,Cn=n=>n;let dP=Cn;function yy(n){let e;return()=>(e===void 0&&(e=n()),e)}const Da=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},ei=n=>n*1e3,ti=n=>n/1e3,hM={useManualTiming:!1};function dM(n){let e=new Set,t=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(d.schedule(p),n()),p(l)}const d={schedule:(p,g=!1,y=!1)=>{const S=y&&r?e:t;return g&&a.add(p),S.has(p)||S.add(p),p},cancel:p=>{t.delete(p),a.delete(p)},process:p=>{if(l=p,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,d.process(p))}};return d}const wh=["read","resolveKeyframes","update","preRender","render","postRender"],fM=40;function fP(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=wh.reduce((F,j)=>(F[j]=dM(a),F),{}),{read:c,resolveKeyframes:d,update:p,preRender:g,render:y,postRender:w}=l,S=()=>{const F=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(F-i.timestamp,fM),1),i.timestamp=F,i.isProcessing=!0,c.process(i),d.process(i),p.process(i),g.process(i),y.process(i),w.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(S))},P=()=>{t=!0,r=!0,i.isProcessing||n(S)};return{schedule:wh.reduce((F,j)=>{const z=l[j];return F[j]=(G,te=!1,ie=!1)=>(t||P(),z.schedule(G,te,ie)),F},{}),cancel:F=>{for(let j=0;j<wh.length;j++)l[wh[j]].cancel(F)},state:i,steps:l}}const{schedule:nt,cancel:os,state:jt,steps:Xp}=fP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cn,!0),pP=D.createContext({strict:!1}),aE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Na={};for(const n in aE)Na[n]={isEnabled:e=>aE[n].some(t=>!!e[t])};function pM(n){for(const e in n)Na[e]={...Na[e],...n[e]}}const mM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function od(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||mM.has(n)}let mP=n=>!od(n);function gM(n){n&&(mP=e=>e.startsWith("on")?!od(e):n(e))}try{gM(require("@emotion/is-prop-valid").default)}catch{}function yM(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(mP(i)||t===!0&&od(i)||!e&&!od(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function vM(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const Hd=D.createContext({});function Pu(n){return typeof n=="string"||Array.isArray(n)}function qd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_y=["initial",...vy];function Kd(n){return qd(n.animate)||_y.some(e=>Pu(n[e]))}function gP(n){return!!(Kd(n)||n.variants)}function _M(n,e){if(Kd(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Pu(t)?t:void 0,animate:Pu(r)?r:void 0}}return n.inherit!==!1?e:{}}function wM(n){const{initial:e,animate:t}=_M(n,D.useContext(Hd));return D.useMemo(()=>({initial:e,animate:t}),[lE(e),lE(t)])}function lE(n){return Array.isArray(n)?n.join(" "):n}const EM=Symbol.for("motionComponentSymbol");function ma(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function TM(n,e,t){return D.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):ma(t)&&(t.current=r))},[e])}const wy=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),SM="framerAppearId",yP="data-"+wy(SM),{schedule:Ey}=fP(queueMicrotask,!1),vP=D.createContext({});function IM(n,e,t,r,i){var a,l;const{visualElement:c}=D.useContext(Hd),d=D.useContext(pP),p=D.useContext(my),g=D.useContext(hP).reducedMotion,y=D.useRef(null);r=r||d.renderer,!y.current&&r&&(y.current=r(n,{visualState:e,parent:c,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const w=y.current,S=D.useContext(vP);w&&!w.projection&&i&&(w.type==="html"||w.type==="svg")&&PM(y.current,t,i,S);const P=D.useRef(!1);D.useInsertionEffect(()=>{w&&P.current&&w.update(t,p)});const x=t[yP],A=D.useRef(!!x&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,x))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,x)));return cM(()=>{w&&(P.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),Ey.render(w.render),A.current&&w.animationState&&w.animationState.animateChanges())}),D.useEffect(()=>{w&&(!A.current&&w.animationState&&w.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,x)}),A.current=!1))}),w}function PM(n,e,t,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:_P(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&ma(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:p})}function _P(n){if(n)return n.options.allowProjection!==!1?n.projection:_P(n.parent)}function CM({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var a,l;n&&pM(n);function c(p,g){let y;const w={...D.useContext(hP),...p,layoutId:AM(p)},{isStatic:S}=w,P=wM(p),x=r(p,S);if(!S&&gy){xM();const A=RM(w);y=A.MeasureLayout,P.visualElement=IM(i,x,w,e,A.ProjectionNode)}return J.jsxs(Hd.Provider,{value:P,children:[y&&P.visualElement?J.jsx(y,{visualElement:P.visualElement,...w}):null,t(i,p,TM(x,P.visualElement,g),x,S,P.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const d=D.forwardRef(c);return d[EM]=i,d}function AM({layoutId:n}){const e=D.useContext(cP).id;return e&&n!==void 0?e+"-"+n:n}function xM(n,e){D.useContext(pP).strict}function RM(n){const{drag:e,layout:t}=Na;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const kM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ty(n){return typeof n!="string"||n.includes("-")?!1:!!(kM.indexOf(n)>-1||/[A-Z]/u.test(n))}function uE(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Sy(n,e,t,r){if(typeof e=="function"){const[i,a]=uE(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=uE(r);e=e(t!==void 0?t:n.custom,i,a)}return e}const Ym=n=>Array.isArray(n),bM=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),DM=n=>Ym(n)?n[n.length-1]||0:n,Jt=n=>!!(n&&n.getVelocity);function Vh(n){const e=Jt(n)?n.get():n;return bM(e)?e.toValue():e}function NM({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,a){const l={latestValues:LM(r,i,a,n),renderState:e()};return t&&(l.onMount=c=>t({props:r,current:c,...l}),l.onUpdate=c=>t(c)),l}const wP=n=>(e,t)=>{const r=D.useContext(Hd),i=D.useContext(my),a=()=>NM(n,e,r,i);return t?a():lM(a)};function LM(n,e,t,r){const i={},a=r(n,{});for(const w in a)i[w]=Vh(a[w]);let{initial:l,animate:c}=n;const d=Kd(n),p=gP(n);e&&p&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const y=g?c:l;if(y&&typeof y!="boolean"&&!qd(y)){const w=Array.isArray(y)?y:[y];for(let S=0;S<w.length;S++){const P=Sy(n,w[S]);if(P){const{transitionEnd:x,transition:A,...F}=P;for(const j in F){let z=F[j];if(Array.isArray(z)){const G=g?z.length-1:0;z=z[G]}z!==null&&(i[j]=z)}for(const j in x)i[j]=x[j]}}}return i}const qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fo=new Set(qa),EP=n=>e=>typeof e=="string"&&e.startsWith(n),TP=EP("--"),OM=EP("var(--"),Iy=n=>OM(n)?VM.test(n.split("/*")[0].trim()):!1,VM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,SP=(n,e)=>e&&typeof n=="number"?e.transform(n):n,oi=(n,e,t)=>t>e?e:t<n?n:t,Ka={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Cu={...Ka,transform:n=>oi(0,1,n)},Eh={...Ka,default:1},qu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Fi=qu("deg"),Rr=qu("%"),Ee=qu("px"),MM=qu("vh"),FM=qu("vw"),cE={...Rr,parse:n=>Rr.parse(n)/100,transform:n=>Rr.transform(n*100)},UM={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},jM={rotate:Fi,rotateX:Fi,rotateY:Fi,rotateZ:Fi,scale:Eh,scaleX:Eh,scaleY:Eh,scaleZ:Eh,skew:Fi,skewX:Fi,skewY:Fi,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Cu,originX:cE,originY:cE,originZ:Ee},hE={...Ka,transform:Math.round},Py={...UM,...jM,zIndex:hE,size:Ee,fillOpacity:Cu,strokeOpacity:Cu,numOctaves:hE},BM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zM=qa.length;function $M(n,e,t){let r="",i=!0;for(let a=0;a<zM;a++){const l=qa[a],c=n[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||t){const p=SP(c,Py[l]);if(!d){i=!1;const g=BM[l]||l;r+=`${g}(${p}) `}t&&(e[l]=p)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function Cy(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let l=!1,c=!1;for(const d in e){const p=e[d];if(fo.has(d)){l=!0;continue}else if(TP(d)){i[d]=p;continue}else{const g=SP(p,Py[d]);d.startsWith("origin")?(c=!0,a[d]=g):r[d]=g}}if(e.transform||(l||t?r.transform=$M(e,n.transform,t):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${p} ${g}`}}const WM={offset:"stroke-dashoffset",array:"stroke-dasharray"},HM={offset:"strokeDashoffset",array:"strokeDasharray"};function qM(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?WM:HM;n[a.offset]=Ee.transform(-r);const l=Ee.transform(e),c=Ee.transform(t);n[a.array]=`${l} ${c}`}function dE(n,e,t){return typeof n=="string"?n:Ee.transform(e+t*n)}function KM(n,e,t){const r=dE(e,n.x,n.width),i=dE(t,n.y,n.height);return`${r} ${i}`}function Ay(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},g,y){if(Cy(n,p,y),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:S,dimensions:P}=n;w.transform&&(P&&(S.transform=w.transform),delete w.transform),P&&(i!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=KM(P,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),l!==void 0&&qM(w,l,c,d,!1)}const xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),IP=()=>({...xy(),attrs:{}}),Ry=n=>typeof n=="string"&&n.toLowerCase()==="svg";function PP(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const CP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AP(n,e,t,r){PP(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(CP.has(i)?i:wy(i),e.attrs[i])}const ad={};function GM(n){Object.assign(ad,n)}function xP(n,{layout:e,layoutId:t}){return fo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!ad[n]||n==="opacity")}function ky(n,e,t){var r;const{style:i}=n,a={};for(const l in i)(Jt(i[l])||e.style&&Jt(e.style[l])||xP(l,n)||((r=t?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function RP(n,e,t){const r=ky(n,e,t);for(const i in n)if(Jt(n[i])||Jt(e[i])){const a=qa.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}function QM(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const fE=["x","y","width","height","cx","cy","r"],YM={useVisualState:wP({scrapeMotionValuesFromProps:RP,createRenderState:IP,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let a=!!n.drag;if(!a){for(const c in i)if(fo.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<fE.length;c++){const d=fE[c];n[d]!==e[d]&&(l=!0)}l&&nt.read(()=>{QM(t,r),nt.render(()=>{Ay(r,i,Ry(t.tagName),n.transformTemplate),AP(t,r)})})}})},XM={useVisualState:wP({scrapeMotionValuesFromProps:ky,createRenderState:xy})};function kP(n,e,t){for(const r in e)!Jt(e[r])&&!xP(r,t)&&(n[r]=e[r])}function JM({transformTemplate:n},e){return D.useMemo(()=>{const t=xy();return Cy(t,e,n),Object.assign({},t.vars,t.style)},[e])}function ZM(n,e){const t=n.style||{},r={};return kP(r,t,n),Object.assign(r,JM(n,e)),r}function eF(n,e){const t={},r=ZM(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function tF(n,e,t,r){const i=D.useMemo(()=>{const a=IP();return Ay(a,e,Ry(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};kP(a,n.style,n),i.style={...a,...i.style}}return i}function nF(n=!1){return(t,r,i,{latestValues:a},l)=>{const d=(Ty(t)?tF:eF)(r,a,l,t),p=yM(r,typeof t=="string",n),g=t!==D.Fragment?{...p,...d,ref:i}:{},{children:y}=r,w=D.useMemo(()=>Jt(y)?y.get():y,[y]);return D.createElement(t,{...g,children:w})}}function rF(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Ty(r)?YM:XM,preloadedFeatures:n,useRender:nF(i),createVisualElement:e,Component:r};return CM(l)}}function bP(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Gd(n,e,t){const r=n.getProps();return Sy(r,e,t!==void 0?t:r.custom,n)}const iF=yy(()=>window.ScrollTimeline!==void 0);class sF{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(iF()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class oF extends sF{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function by(n,e){return n?n[e]||n.default||n:void 0}const Xm=2e4;function DP(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Xm;)e+=t,r=n.next(e);return e>=Xm?1/0:e}function Dy(n){return typeof n=="function"}function pE(n,e){n.timeline=e,n.onfinish=null}const Ny=n=>Array.isArray(n)&&typeof n[0]=="number",aF={linearEasing:void 0};function lF(n,e){const t=yy(n);return()=>{var r;return(r=aF[e])!==null&&r!==void 0?r:t()}}const ld=lF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),NP=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=n(Da(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function LP(n){return!!(typeof n=="function"&&ld()||!n||typeof n=="string"&&(n in Jm||ld())||Ny(n)||Array.isArray(n)&&n.every(LP))}const eu=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Jm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eu([0,.65,.55,1]),circOut:eu([.55,0,1,.45]),backIn:eu([.31,.01,.66,-.59]),backOut:eu([.33,1.53,.69,.99])};function OP(n,e){if(n)return typeof n=="function"&&ld()?NP(n,e):Ny(n)?eu(n):Array.isArray(n)?n.map(t=>OP(t,e)||Jm.easeOut):Jm[n]}const or={x:!1,y:!1};function VP(){return or.x||or.y}function uF(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function MP(n,e){const t=uF(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function mE(n){return e=>{e.pointerType==="touch"||VP()||n(e)}}function cF(n,e,t={}){const[r,i,a]=MP(n,t),l=mE(c=>{const{target:d}=c,p=e(c);if(typeof p!="function"||!d)return;const g=mE(y=>{p(y),d.removeEventListener("pointerleave",g)});d.addEventListener("pointerleave",g,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const FP=(n,e)=>e?n===e?!0:FP(n,e.parentElement):!1,Ly=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,hF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dF(n){return hF.has(n.tagName)||n.tabIndex!==-1}const tu=new WeakSet;function gE(n){return e=>{e.key==="Enter"&&n(e)}}function Jp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fF=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=gE(()=>{if(tu.has(t))return;Jp(t,"down");const i=gE(()=>{Jp(t,"up")}),a=()=>Jp(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function yE(n){return Ly(n)&&!VP()}function pF(n,e,t={}){const[r,i,a]=MP(n,t),l=c=>{const d=c.currentTarget;if(!yE(c)||tu.has(d))return;tu.add(d);const p=e(c),g=(S,P)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),!(!yE(S)||!tu.has(d))&&(tu.delete(d),typeof p=="function"&&p(S,{success:P}))},y=S=>{g(S,t.useGlobalTarget||FP(d,S.target))},w=S=>{g(S,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",w,i)};return r.forEach(c=>{!dF(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(t.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",p=>fF(p,i),i)}),a}function mF(n){return n==="x"||n==="y"?or[n]?null:(or[n]=!0,()=>{or[n]=!1}):or.x||or.y?null:(or.x=or.y=!0,()=>{or.x=or.y=!1})}const UP=new Set(["width","height","top","left","right","bottom",...qa]);let Mh;function gF(){Mh=void 0}const kr={now:()=>(Mh===void 0&&kr.set(jt.isProcessing||hM.useManualTiming?jt.timestamp:performance.now()),Mh),set:n=>{Mh=n,queueMicrotask(gF)}};function Oy(n,e){n.indexOf(e)===-1&&n.push(e)}function Vy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class My{constructor(){this.subscriptions=[]}add(e){return Oy(this.subscriptions,e),()=>Vy(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function jP(n,e){return e?n*(1e3/e):0}const vE=30,yF=n=>!isNaN(parseFloat(n));class vF{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=kr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=kr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new My);const r=this.events[e].add(t);return e==="change"?()=>{r(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,vE);return jP(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Au(n,e){return new vF(n,e)}function _F(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Au(t))}function wF(n,e){const t=Gd(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const l in a){const c=DM(a[l]);_F(n,l,c)}}function EF(n){return!!(Jt(n)&&n.add)}function Zm(n,e){const t=n.getValue("willChange");if(EF(t))return t.add(e)}function BP(n){return n.props[yP]}const zP=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,TF=1e-7,SF=12;function IF(n,e,t,r,i){let a,l,c=0;do l=e+(t-e)/2,a=zP(l,r,i)-n,a>0?t=l:e=l;while(Math.abs(a)>TF&&++c<SF);return l}function Ku(n,e,t,r){if(n===e&&t===r)return Cn;const i=a=>IF(a,0,1,n,t);return a=>a===0||a===1?a:zP(i(a),e,r)}const $P=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,WP=n=>e=>1-n(1-e),HP=Ku(.33,1.53,.69,.99),Fy=WP(HP),qP=$P(Fy),KP=n=>(n*=2)<1?.5*Fy(n):.5*(2-Math.pow(2,-10*(n-1))),Uy=n=>1-Math.sin(Math.acos(n)),GP=WP(Uy),QP=$P(Uy),YP=n=>/^0[^.\s]+$/u.test(n);function PF(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||YP(n):!0}const uu=n=>Math.round(n*1e5)/1e5,jy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CF(n){return n==null}const AF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,By=(n,e)=>t=>!!(typeof t=="string"&&AF.test(t)&&t.startsWith(n)||e&&!CF(t)&&Object.prototype.hasOwnProperty.call(t,e)),XP=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(jy);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},xF=n=>oi(0,255,n),Zp={...Ka,transform:n=>Math.round(xF(n))},Ys={test:By("rgb","red"),parse:XP("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Zp.transform(n)+", "+Zp.transform(e)+", "+Zp.transform(t)+", "+uu(Cu.transform(r))+")"};function RF(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const eg={test:By("#"),parse:RF,transform:Ys.transform},ga={test:By("hsl","hue"),parse:XP("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Rr.transform(uu(e))+", "+Rr.transform(uu(t))+", "+uu(Cu.transform(r))+")"},Qt={test:n=>Ys.test(n)||eg.test(n)||ga.test(n),parse:n=>Ys.test(n)?Ys.parse(n):ga.test(n)?ga.parse(n):eg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ys.transform(n):ga.transform(n)},kF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bF(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(jy))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(kF))===null||t===void 0?void 0:t.length)||0)>0}const JP="number",ZP="color",DF="var",NF="var(",_E="${}",LF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(LF,d=>(Qt.test(d)?(r.color.push(a),i.push(ZP),t.push(Qt.parse(d))):d.startsWith(NF)?(r.var.push(a),i.push(DF),t.push(d)):(r.number.push(a),i.push(JP),t.push(parseFloat(d))),++a,_E)).split(_E);return{values:t,split:c,indexes:r,types:i}}function eC(n){return xu(n).values}function tC(n){const{split:e,types:t}=xu(n),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=t[l];c===JP?a+=uu(i[l]):c===ZP?a+=Qt.transform(i[l]):a+=i[l]}return a}}const OF=n=>typeof n=="number"?0:n;function VF(n){const e=eC(n);return tC(n)(e.map(OF))}const as={test:bF,parse:eC,createTransformer:tC,getAnimatableNone:VF},MF=new Set(["brightness","contrast","saturate","opacity"]);function FF(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(jy)||[];if(!r)return n;const i=t.replace(r,"");let a=MF.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const UF=/\b([a-z-]*)\(.*?\)/gu,tg={...as,getAnimatableNone:n=>{const e=n.match(UF);return e?e.map(FF).join(" "):n}},jF={...Py,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:tg,WebkitFilter:tg},zy=n=>jF[n];function nC(n,e){let t=zy(n);return t!==tg&&(t=as),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const BF=new Set(["auto","none","0"]);function zF(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!BF.has(a)&&xu(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=nC(t,i)}const wE=n=>n===Ka||n===Ee,EE=(n,e)=>parseFloat(n.split(", ")[e]),TE=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return EE(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?EE(a[1],n):0}},$F=new Set(["x","y","z"]),WF=qa.filter(n=>!$F.has(n));function HF(n){const e=[];return WF.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const La={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:TE(4,13),y:TE(5,14)};La.translateX=La.x;La.translateY=La.y;const Zs=new Set;let ng=!1,rg=!1;function rC(){if(rg){const n=Array.from(Zs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=HF(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rg=!1,ng=!1,Zs.forEach(n=>n.complete()),Zs.clear()}function iC(){Zs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(rg=!0)})}function qF(){iC(),rC()}class $y{constructor(e,t,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zs.add(this),ng||(ng=!0,nt.read(iC),nt.resolveKeyframes(rC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const d=r.readValue(t,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),KF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GF(n){const e=KF.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function oC(n,e,t=1){const[r,i]=GF(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return sC(l)?parseFloat(l):l}return Iy(i)?oC(i,e,t+1):i}const aC=n=>e=>e.test(n),QF={test:n=>n==="auto",parse:n=>n},lC=[Ka,Ee,Rr,Fi,FM,MM,QF],SE=n=>lC.find(aC(n));class uC extends $y{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Iy(p))){const g=oC(p,t.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!UP.has(r)||e.length!==2)return;const[i,a]=e,l=SE(i),c=SE(a);if(l!==c)if(wE(l)&&wE(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)PF(e[i])&&r.push(i);r.length&&zF(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=La[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=La[r](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const IE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(as.test(n)||n==="0")&&!n.startsWith("url("));function YF(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function XF(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=IE(i,e),c=IE(a,e);return!l||!c?!1:YF(n)||(t==="spring"||Dy(t))&&r}const JF=n=>n!==null;function Qd(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(JF),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const ZF=40;class cC{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kr.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ZF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&qF(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=kr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:d,isGenerator:p}=this.options;if(!p&&!XF(e,r,i,a))if(l)this.options.duration=0;else{d&&d(Qd(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const at=(n,e,t)=>n+(e-n)*t;function em(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function e4({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,l=0;if(!e)i=a=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;i=em(d,c,n+1/3),a=em(d,c,n),l=em(d,c,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function ud(n,e){return t=>t>0?e:n}const tm=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},t4=[eg,Ys,ga],n4=n=>t4.find(e=>e.test(n));function PE(n){const e=n4(n);if(!e)return!1;let t=e.parse(n);return e===ga&&(t=e4(t)),t}const CE=(n,e)=>{const t=PE(n),r=PE(e);if(!t||!r)return ud(n,e);const i={...t};return a=>(i.red=tm(t.red,r.red,a),i.green=tm(t.green,r.green,a),i.blue=tm(t.blue,r.blue,a),i.alpha=at(t.alpha,r.alpha,a),Ys.transform(i))},r4=(n,e)=>t=>e(n(t)),Gu=(...n)=>n.reduce(r4),ig=new Set(["none","hidden"]);function i4(n,e){return ig.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function s4(n,e){return t=>at(n,e,t)}function Wy(n){return typeof n=="number"?s4:typeof n=="string"?Iy(n)?ud:Qt.test(n)?CE:l4:Array.isArray(n)?hC:typeof n=="object"?Qt.test(n)?CE:o4:ud}function hC(n,e){const t=[...n],r=t.length,i=n.map((a,l)=>Wy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=i[l](a);return t}}function o4(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Wy(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function a4(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=n.indexes[l][i[l]],d=(t=n.values[c])!==null&&t!==void 0?t:0;r[a]=d,i[l]++}return r}const l4=(n,e)=>{const t=as.createTransformer(e),r=xu(n),i=xu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ig.has(n)&&!i.values.length||ig.has(e)&&!r.values.length?i4(n,e):Gu(hC(a4(r,i),i.values),t):ud(n,e)};function dC(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?at(n,e,t):Wy(n)(n,e)}const u4=5;function fC(n,e,t){const r=Math.max(e-u4,0);return jP(t-n(r),e-r)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nm=.001;function c4({duration:n=ct.duration,bounce:e=ct.bounce,velocity:t=ct.velocity,mass:r=ct.mass}){let i,a,l=1-e;l=oi(ct.minDamping,ct.maxDamping,l),n=oi(ct.minDuration,ct.maxDuration,ti(n)),l<1?(i=p=>{const g=p*l,y=g*n,w=g-t,S=sg(p,l),P=Math.exp(-y);return nm-w/S*P},a=p=>{const y=p*l*n,w=y*t+t,S=Math.pow(l,2)*Math.pow(p,2)*n,P=Math.exp(-y),x=sg(Math.pow(p,2),l);return(-i(p)+nm>0?-1:1)*((w-S)*P)/x}):(i=p=>{const g=Math.exp(-p*n),y=(p-t)*n+1;return-nm+g*y},a=p=>{const g=Math.exp(-p*n),y=(t-p)*(n*n);return g*y});const c=5/n,d=d4(i,a,c);if(n=ei(n),isNaN(d))return{stiffness:ct.stiffness,damping:ct.damping,duration:n};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:n}}}const h4=12;function d4(n,e,t){let r=t;for(let i=1;i<h4;i++)r=r-n(r)/e(r);return r}function sg(n,e){return n*Math.sqrt(1-e*e)}const f4=["duration","bounce"],p4=["stiffness","damping","mass"];function AE(n,e){return e.some(t=>n[t]!==void 0)}function m4(n){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...n};if(!AE(n,p4)&&AE(n,f4))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*oi(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:ct.mass,stiffness:i,damping:a}}else{const t=c4(n);e={...e,...t,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function pC(n=ct.visualDuration,e=ct.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:p,mass:g,duration:y,velocity:w,isResolvedFromDuration:S}=m4({...t,velocity:-ti(t.velocity||0)}),P=w||0,x=p/(2*Math.sqrt(d*g)),A=l-a,F=ti(Math.sqrt(d/g)),j=Math.abs(A)<5;r||(r=j?ct.restSpeed.granular:ct.restSpeed.default),i||(i=j?ct.restDelta.granular:ct.restDelta.default);let z;if(x<1){const te=sg(F,x);z=ie=>{const N=Math.exp(-x*F*ie);return l-N*((P+x*F*A)/te*Math.sin(te*ie)+A*Math.cos(te*ie))}}else if(x===1)z=te=>l-Math.exp(-F*te)*(A+(P+F*A)*te);else{const te=F*Math.sqrt(x*x-1);z=ie=>{const N=Math.exp(-x*F*ie),C=Math.min(te*ie,300);return l-N*((P+x*F*A)*Math.sinh(C)+te*A*Math.cosh(C))/te}}const G={calculatedDuration:S&&y||null,next:te=>{const ie=z(te);if(S)c.done=te>=y;else{let N=0;x<1&&(N=te===0?ei(P):fC(z,te,ie));const C=Math.abs(N)<=r,k=Math.abs(l-ie)<=i;c.done=C&&k}return c.value=c.done?l:ie,c},toString:()=>{const te=Math.min(DP(G),Xm),ie=NP(N=>G.next(te*N).value,te,30);return te+"ms "+ie}};return G}function xE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:g}){const y=n[0],w={done:!1,value:y},S=C=>c!==void 0&&C<c||d!==void 0&&C>d,P=C=>c===void 0?d:d===void 0||Math.abs(c-C)<Math.abs(d-C)?c:d;let x=t*e;const A=y+x,F=l===void 0?A:l(A);F!==A&&(x=F-y);const j=C=>-x*Math.exp(-C/r),z=C=>F+j(C),G=C=>{const k=j(C),L=z(C);w.done=Math.abs(k)<=p,w.value=w.done?F:L};let te,ie;const N=C=>{S(w.value)&&(te=C,ie=pC({keyframes:[w.value,P(w.value)],velocity:fC(z,C,w.value),damping:i,stiffness:a,restDelta:p,restSpeed:g}))};return N(0),{calculatedDuration:null,next:C=>{let k=!1;return!ie&&te===void 0&&(k=!0,G(C),N(C)),te!==void 0&&C>=te?ie.next(C-te):(!k&&G(C),w)}}}const g4=Ku(.42,0,1,1),y4=Ku(0,0,.58,1),mC=Ku(.42,0,.58,1),v4=n=>Array.isArray(n)&&typeof n[0]!="number",_4={linear:Cn,easeIn:g4,easeInOut:mC,easeOut:y4,circIn:Uy,circInOut:QP,circOut:GP,backIn:Fy,backInOut:qP,backOut:HP,anticipate:KP},RE=n=>{if(Ny(n)){dP(n.length===4);const[e,t,r,i]=n;return Ku(e,t,r,i)}else if(typeof n=="string")return _4[n];return n};function w4(n,e,t){const r=[],i=t||dC,a=n.length-1;for(let l=0;l<a;l++){let c=i(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]||Cn:e;c=Gu(d,c)}r.push(c)}return r}function E4(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(dP(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=w4(e,r,i),d=c.length,p=g=>{if(l&&g<n[0])return e[0];let y=0;if(d>1)for(;y<n.length-2&&!(g<n[y+1]);y++);const w=Da(n[y],n[y+1],g);return c[y](w)};return t?g=>p(oi(n[0],n[a-1],g)):p}function T4(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Da(0,e,r);n.push(at(t,1,i))}}function S4(n){const e=[0];return T4(e,n.length-1),e}function I4(n,e){return n.map(t=>t*e)}function P4(n,e){return n.map(()=>e||mC).splice(0,n.length-1)}function cd({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=v4(r)?r.map(RE):RE(r),a={done:!1,value:e[0]},l=I4(t&&t.length===e.length?t:S4(e),n),c=E4(l,e,{ease:Array.isArray(i)?i:P4(e,i)});return{calculatedDuration:n,next:d=>(a.value=c(d),a.done=d>=n,a)}}const C4=n=>{const e=({timestamp:t})=>n(t);return{start:()=>nt.update(e,!0),stop:()=>os(e),now:()=>jt.isProcessing?jt.timestamp:kr.now()}},A4={decay:xE,inertia:xE,tween:cd,keyframes:cd,spring:pC},x4=n=>n/100;class Hy extends cC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:t,motionValue:r,element:i,keyframes:a}=this.options,l=i?.KeyframeResolver||$y,c=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(a,c,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=Dy(t)?t:A4[t]||cd;let d,p;c!==cd&&typeof e[0]!="number"&&(d=Gu(x4,dC(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=DP(g));const{calculatedDuration:y}=g,w=y+i,S=w*(r+1)-i;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:y,resolvedDuration:w,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:p,totalDuration:g,resolvedDuration:y}=r;if(this.startTime===null)return a.next(0);const{delay:w,repeat:S,repeatType:P,repeatDelay:x,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-w*(this.speed>=0?1:-1),j=this.speed>=0?F<0:F>g;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let z=this.currentTime,G=a;if(S){const C=Math.min(this.currentTime,g)/y;let k=Math.floor(C),L=C%1;!L&&C>=1&&(L=1),L===1&&k--,k=Math.min(k,S+1),!!(k%2)&&(P==="reverse"?(L=1-L,x&&(L-=x/y)):P==="mirror"&&(G=l)),z=oi(0,1,L)*y}const te=j?{done:!1,value:d[0]}:G.next(z);c&&(te.value=c(te.value));let{done:ie}=te;!j&&p!==null&&(ie=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return N&&i!==void 0&&(te.value=Qd(d,this.options,i)),A&&A(te.value),N&&this.finish(),te}get duration(){const{resolved:e}=this;return e?ti(e.calculatedDuration):0}get time(){return ti(this.currentTime)}set time(e){e=ei(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ti(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=C4,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const R4=new Set(["opacity","clipPath","filter","transform"]);function k4(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const p={[e]:t};d&&(p.offset=d);const g=OP(c,i);return Array.isArray(g)&&(p.easing=g),n.animate(p,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const b4=yy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hd=10,D4=2e4;function N4(n){return Dy(n.type)||n.type==="spring"||!LP(n.ease)}function L4(n,e){const t=new Hy({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let a=0;for(;!r.done&&a<D4;)r=t.sample(a),i.push(r.value),a+=hd;return{times:void 0,keyframes:i,duration:a-hd,ease:"linear"}}const gC={anticipate:KP,backInOut:qP,circInOut:QP};function O4(n){return n in gC}class kE extends cC{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new uC(a,(l,c)=>this.onKeyframesResolved(l,c),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:a,type:l,motionValue:c,name:d,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&ld()&&O4(a)&&(a=gC[a]),N4(this.options)){const{onComplete:y,onUpdate:w,motionValue:S,element:P,...x}=this.options,A=L4(e,x);e=A.keyframes,e.length===1&&(e[1]=e[0]),r=A.duration,i=A.times,a=A.ease,l="keyframes"}const g=k4(c.owner.current,d,e,{...this.options,duration:r,times:i,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(pE(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;c.set(Qd(e,this.options,t)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ti(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ti(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=ei(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Cn;const{animation:r}=t;pE(r,e)}return Cn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:y,element:w,...S}=this.options,P=new Hy({...S,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),x=ei(this.time);p.setWithVelocity(P.sample(x-hd).value,P.sample(x).value,hd)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return b4()&&r&&R4.has(r)&&!d&&!p&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const V4={type:"spring",stiffness:500,damping:25,restSpeed:10},M4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),F4={type:"keyframes",duration:.8},U4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},j4=(n,{keyframes:e})=>e.length>2?F4:fo.has(n)?n.startsWith("scale")?M4(e[1]):V4:U4;function B4({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const qy=(n,e,t,r={},i,a)=>l=>{const c=by(r,n)||{},d=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ei(d);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:a?void 0:i};B4(c)||(g={...g,...j4(n,g)}),g.duration&&(g.duration=ei(g.duration)),g.repeatDelay&&(g.repeatDelay=ei(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!a&&e.get()!==void 0){const w=Qd(g.keyframes,c);if(w!==void 0)return nt.update(()=>{g.onUpdate(w),g.onComplete()}),new oF([])}return!a&&kE.supports(g)?new kE(g):new Hy(g)};function z4({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function yC(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(l=r);const p=[],g=i&&n.animationState&&n.animationState.getState()[i];for(const y in d){const w=n.getValue(y,(a=n.latestValues[y])!==null&&a!==void 0?a:null),S=d[y];if(S===void 0||g&&z4(g,y))continue;const P={delay:t,...by(l||{},y)};let x=!1;if(window.MotionHandoffAnimation){const F=BP(n);if(F){const j=window.MotionHandoffAnimation(F,y,nt);j!==null&&(P.startTime=j,x=!0)}}Zm(n,y),w.start(qy(y,w,S,n.shouldReduceMotion&&UP.has(y)?{type:!1}:P,n,x));const A=w.animation;A&&p.push(A)}return c&&Promise.all(p).then(()=>{nt.update(()=>{c&&wF(n,c)})}),p}function og(n,e,t={}){var r;const i=Gd(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const l=i?()=>Promise.all(yC(n,i,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:w}=a;return $4(n,e,g+p,y,w,t)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(t.delay)])}function $4(n,e,t=0,r=0,i=1,a){const l=[],c=(n.variantChildren.size-1)*r,d=i===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(n.variantChildren).sort(W4).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(og(p,e,{...a,delay:t+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function W4(n,e){return n.sortNodePosition(e)}function H4(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>og(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=og(n,e,t);else{const i=typeof e=="function"?Gd(n,e,t.custom):e;r=Promise.all(yC(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const q4=_y.length;function vC(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?vC(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<q4;t++){const r=_y[t],i=n.props[r];(Pu(i)||i===!1)&&(e[r]=i)}return e}const K4=[...vy].reverse(),G4=vy.length;function Q4(n){return e=>Promise.all(e.map(({animation:t,options:r})=>H4(n,t,r)))}function Y4(n){let e=Q4(n),t=bE(),r=!0;const i=d=>(p,g)=>{var y;const w=Gd(n,g,d==="exit"?(y=n.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(w){const{transition:S,transitionEnd:P,...x}=w;p={...p,...x,...P}}return p};function a(d){e=d(n)}function l(d){const{props:p}=n,g=vC(n.parent)||{},y=[],w=new Set;let S={},P=1/0;for(let A=0;A<G4;A++){const F=K4[A],j=t[F],z=p[F]!==void 0?p[F]:g[F],G=Pu(z),te=F===d?j.isActive:null;te===!1&&(P=A);let ie=z===g[F]&&z!==p[F]&&G;if(ie&&r&&n.manuallyAnimateOnMount&&(ie=!1),j.protectedKeys={...S},!j.isActive&&te===null||!z&&!j.prevProp||qd(z)||typeof z=="boolean")continue;const N=X4(j.prevProp,z);let C=N||F===d&&j.isActive&&!ie&&G||A>P&&G,k=!1;const L=Array.isArray(z)?z:[z];let M=L.reduce(i(F),{});te===!1&&(M={});const{prevResolvedValues:B={}}=j,b={...B,...M},Le=ve=>{C=!0,w.has(ve)&&(k=!0,w.delete(ve)),j.needsAnimating[ve]=!0;const re=n.getValue(ve);re&&(re.liveStyle=!1)};for(const ve in b){const re=M[ve],fe=B[ve];if(S.hasOwnProperty(ve))continue;let ae=!1;Ym(re)&&Ym(fe)?ae=!bP(re,fe):ae=re!==fe,ae?re!=null?Le(ve):w.add(ve):re!==void 0&&w.has(ve)?Le(ve):j.protectedKeys[ve]=!0}j.prevProp=z,j.prevResolvedValues=M,j.isActive&&(S={...S,...M}),r&&n.blockInitialAnimation&&(C=!1),C&&(!(ie&&N)||k)&&y.push(...L.map(ve=>({animation:ve,options:{type:F}})))}if(w.size){const A={};w.forEach(F=>{const j=n.getBaseTarget(F),z=n.getValue(F);z&&(z.liveStyle=!0),A[F]=j??null}),y.push({animation:A})}let x=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(y):Promise.resolve()}function c(d,p){var g;if(t[d].isActive===p)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(w=>{var S;return(S=w.animationState)===null||S===void 0?void 0:S.setActive(d,p)}),t[d].isActive=p;const y=l(d);for(const w in t)t[w].protectedKeys={};return y}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>t,reset:()=>{t=bE(),r=!0}}}function X4(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!bP(e,n):!1}function $s(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bE(){return{animate:$s(!0),whileInView:$s(),whileHover:$s(),whileTap:$s(),whileDrag:$s(),whileFocus:$s(),exit:$s()}}class ps{constructor(e){this.isMounted=!1,this.node=e}update(){}}class J4 extends ps{constructor(e){super(e),e.animationState||(e.animationState=Y4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Z4=0;class e3 extends ps{constructor(){super(...arguments),this.id=Z4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const t3={animation:{Feature:J4},exit:{Feature:e3}};function Ru(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Qu(n){return{point:{x:n.pageX,y:n.pageY}}}const n3=n=>e=>Ly(e)&&n(e,Qu(e));function cu(n,e,t,r){return Ru(n,e,n3(t),r)}const DE=(n,e)=>Math.abs(n-e);function r3(n,e){const t=DE(n.x,e.x),r=DE(n.y,e.y);return Math.sqrt(t**2+r**2)}class _C{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=im(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=r3(y.offset,{x:0,y:0})>=3;if(!w&&!S)return;const{point:P}=y,{timestamp:x}=jt;this.history.push({...P,timestamp:x});const{onStart:A,onMove:F}=this.handlers;w||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=rm(w,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:S,onSessionEnd:P,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=im(y.type==="pointercancel"?this.lastMoveEventInfo:rm(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,A),P&&P(y,A)},!Ly(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const l=Qu(e),c=rm(l,this.transformPagePoint),{point:d}=c,{timestamp:p}=jt;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,im(c,this.history)),this.removeListeners=Gu(cu(this.contextWindow,"pointermove",this.handlePointerMove),cu(this.contextWindow,"pointerup",this.handlePointerUp),cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),os(this.updatePoint)}}function rm(n,e){return e?{point:e(n.point)}:n}function NE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function im({point:n},e){return{point:n,delta:NE(n,wC(e)),offset:NE(n,i3(e)),velocity:s3(e,.1)}}function i3(n){return n[0]}function wC(n){return n[n.length-1]}function s3(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=wC(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ei(e)));)t--;if(!r)return{x:0,y:0};const a=ti(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const EC=1e-4,o3=1-EC,a3=1+EC,TC=.01,l3=0-TC,u3=0+TC;function An(n){return n.max-n.min}function c3(n,e,t){return Math.abs(n-e)<=t}function LE(n,e,t,r=.5){n.origin=r,n.originPoint=at(e.min,e.max,n.origin),n.scale=An(t)/An(e),n.translate=at(t.min,t.max,n.origin)-n.originPoint,(n.scale>=o3&&n.scale<=a3||isNaN(n.scale))&&(n.scale=1),(n.translate>=l3&&n.translate<=u3||isNaN(n.translate))&&(n.translate=0)}function hu(n,e,t,r){LE(n.x,e.x,t.x,r?r.originX:void 0),LE(n.y,e.y,t.y,r?r.originY:void 0)}function OE(n,e,t){n.min=t.min+e.min,n.max=n.min+An(e)}function h3(n,e,t){OE(n.x,e.x,t.x),OE(n.y,e.y,t.y)}function VE(n,e,t){n.min=e.min-t.min,n.max=n.min+An(e)}function du(n,e,t){VE(n.x,e.x,t.x),VE(n.y,e.y,t.y)}function d3(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?at(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?at(t,n,r.max):Math.min(n,t)),n}function ME(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function f3(n,{top:e,left:t,bottom:r,right:i}){return{x:ME(n.x,t,i),y:ME(n.y,e,r)}}function FE(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function p3(n,e){return{x:FE(n.x,e.x),y:FE(n.y,e.y)}}function m3(n,e){let t=.5;const r=An(n),i=An(e);return i>r?t=Da(e.min,e.max-r,n.min):r>i&&(t=Da(n.min,n.max-i,e.min)),oi(0,1,t)}function g3(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ag=.35;function y3(n=ag){return n===!1?n=0:n===!0&&(n=ag),{x:UE(n,"left","right"),y:UE(n,"top","bottom")}}function UE(n,e,t){return{min:jE(n,e),max:jE(n,t)}}function jE(n,e){return typeof n=="number"?n:n[e]||0}const BE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ya=()=>({x:BE(),y:BE()}),zE=()=>({min:0,max:0}),pt=()=>({x:zE(),y:zE()});function Un(n){return[n("x"),n("y")]}function SC({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function v3({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function _3(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function sm(n){return n===void 0||n===1}function lg({scale:n,scaleX:e,scaleY:t}){return!sm(n)||!sm(e)||!sm(t)}function qs(n){return lg(n)||IC(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function IC(n){return $E(n.x)||$E(n.y)}function $E(n){return n&&n!=="0%"}function dd(n,e,t){const r=n-t,i=e*r;return t+i}function WE(n,e,t,r,i){return i!==void 0&&(n=dd(n,i,r)),dd(n,t,r)+e}function ug(n,e=0,t=1,r,i){n.min=WE(n.min,e,t,r,i),n.max=WE(n.max,e,t,r,i)}function PC(n,{x:e,y:t}){ug(n.x,e.translate,e.scale,e.originPoint),ug(n.y,t.translate,t.scale,t.originPoint)}const HE=.999999999999,qE=1.0000000000001;function w3(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=t[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&_a(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,PC(n,l)),r&&qs(a.latestValues)&&_a(n,a.latestValues))}e.x<qE&&e.x>HE&&(e.x=1),e.y<qE&&e.y>HE&&(e.y=1)}function va(n,e){n.min=n.min+e,n.max=n.max+e}function KE(n,e,t,r,i=.5){const a=at(n.min,n.max,i);ug(n,e,t,a,r)}function _a(n,e){KE(n.x,e.x,e.scaleX,e.scale,e.originX),KE(n.y,e.y,e.scaleY,e.scale,e.originY)}function CC(n,e){return SC(_3(n.getBoundingClientRect(),e))}function E3(n,e,t){const r=CC(n,t),{scroll:i}=e;return i&&(va(r.x,i.offset.x),va(r.y,i.offset.y)),r}const AC=({current:n})=>n?n.ownerDocument.defaultView:null,T3=new WeakMap;class S3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Qu(g).point)},a=(g,y)=>{const{drag:w,dragPropagation:S,onDragStart:P}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mF(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(A=>{let F=this.getAxisMotionValue(A).get()||0;if(Rr.test(F)){const{projection:j}=this.visualElement;if(j&&j.layout){const z=j.layout.layoutBox[A];z&&(F=An(z)*(parseFloat(F)/100))}}this.originPoint[A]=F}),P&&nt.postRender(()=>P(g,y)),Zm(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(g,y)=>{const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:P,onDrag:x}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:A}=y;if(S&&this.currentDirection===null){this.currentDirection=I3(A),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),x&&x(g,y)},c=(g,y)=>this.stop(g,y),d=()=>Un(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new _C(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:AC(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&nt.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Th(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=d3(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&ma(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=f3(i.layoutBox,t):this.constraints=!1,this.elastic=y3(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Un(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=g3(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ma(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=E3(r,i.root,this.visualElement.getTransformPagePoint());let l=p3(i.layout.layoutBox,a);if(t){const c=t(v3(l));this.hasMutatedConstraints=!!c,c&&(l=SC(c))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=Un(g=>{if(!Th(g,t,this.currentDirection))return;let y=d&&d[g]||{};l&&(y={min:0,max:0});const w=i?200:1e6,S=i?40:1e7,P={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,P)});return Promise.all(p).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Zm(this.visualElement,e),r.start(qy(e,r,0,t,this.visualElement,!1))}stopAnimation(){Un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Un(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Un(t=>{const{drag:r}=this.getProps();if(!Th(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[t];a.set(e[t]-at(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!ma(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Un(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=m3({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(l=>{if(!Th(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(at(d,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;T3.set(this.visualElement,this);const e=this.visualElement.current,t=cu(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ma(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),nt.read(r);const l=Ru(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Un(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{l(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=ag,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Th(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function I3(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class P3 extends ps{constructor(e){super(e),this.removeGroupControls=Cn,this.removeListeners=Cn,this.controls=new S3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const GE=n=>(e,t)=>{n&&nt.postRender(()=>n(e,t))};class C3 extends ps{constructor(){super(...arguments),this.removePointerDownListener=Cn}onPointerDown(e){this.session=new _C(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:GE(e),onStart:GE(t),onMove:r,onEnd:(a,l)=>{delete this.session,i&&nt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=cu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Wl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ee.test(n))n=parseFloat(n);else return n;const t=QE(n,e.target.x),r=QE(n,e.target.y);return`${t}% ${r}%`}},A3={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=as.parse(n);if(i.length>5)return r;const a=as.createTransformer(n),l=typeof i[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const p=at(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};class x3 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;GM(R3),a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||nt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ey.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xC(n){const[e,t]=uM(),r=D.useContext(cP);return J.jsx(x3,{...n,layoutGroup:r,switchLayoutGroup:D.useContext(vP),isPresent:e,safeToRemove:t})}const R3={borderRadius:{...Wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wl,borderTopRightRadius:Wl,borderBottomLeftRadius:Wl,borderBottomRightRadius:Wl,boxShadow:A3};function k3(n,e,t){const r=Jt(n)?n:Au(n);return r.start(qy("",r,e,t)),r.animation}function b3(n){return n instanceof SVGElement&&n.tagName!=="svg"}const D3=(n,e)=>n.depth-e.depth;class N3{constructor(){this.children=[],this.isDirty=!1}add(e){Oy(this.children,e),this.isDirty=!0}remove(e){Vy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(D3),this.isDirty=!1,this.children.forEach(e)}}function L3(n,e){const t=kr.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(os(r),n(a-e))};return nt.read(r,!0),()=>os(r)}const RC=["TopLeft","TopRight","BottomLeft","BottomRight"],O3=RC.length,YE=n=>typeof n=="string"?parseFloat(n):n,XE=n=>typeof n=="number"||Ee.test(n);function V3(n,e,t,r,i,a){i?(n.opacity=at(0,t.opacity!==void 0?t.opacity:1,M3(r)),n.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,F3(r))):a&&(n.opacity=at(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<O3;l++){const c=`border${RC[l]}Radius`;let d=JE(e,c),p=JE(t,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||XE(d)===XE(p)?(n[c]=Math.max(at(YE(d),YE(p),r),0),(Rr.test(p)||Rr.test(d))&&(n[c]+="%")):n[c]=p}(e.rotate||t.rotate)&&(n.rotate=at(e.rotate||0,t.rotate||0,r))}function JE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const M3=kC(0,.5,GP),F3=kC(.5,.95,Cn);function kC(n,e,t){return r=>r<n?0:r>e?1:t(Da(n,e,r))}function ZE(n,e){n.min=e.min,n.max=e.max}function Fn(n,e){ZE(n.x,e.x),ZE(n.y,e.y)}function eT(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function tT(n,e,t,r,i){return n-=e,n=dd(n,1/t,r),i!==void 0&&(n=dd(n,1/i,r)),n}function U3(n,e=0,t=1,r=.5,i,a=n,l=n){if(Rr.test(e)&&(e=parseFloat(e),e=at(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=at(a.min,a.max,r);n===a&&(c-=e),n.min=tT(n.min,e,t,c,i),n.max=tT(n.max,e,t,c,i)}function nT(n,e,[t,r,i],a,l){U3(n,e[t],e[r],e[i],e.scale,a,l)}const j3=["x","scaleX","originX"],B3=["y","scaleY","originY"];function rT(n,e,t,r){nT(n.x,e,j3,t?t.x:void 0,r?r.x:void 0),nT(n.y,e,B3,t?t.y:void 0,r?r.y:void 0)}function iT(n){return n.translate===0&&n.scale===1}function bC(n){return iT(n.x)&&iT(n.y)}function sT(n,e){return n.min===e.min&&n.max===e.max}function z3(n,e){return sT(n.x,e.x)&&sT(n.y,e.y)}function oT(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function DC(n,e){return oT(n.x,e.x)&&oT(n.y,e.y)}function aT(n){return An(n.x)/An(n.y)}function lT(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class $3{constructor(){this.members=[]}add(e){Oy(this.members,e),e.scheduleRender()}remove(e){if(Vy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function W3(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,l=t?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:w,skewX:S,skewY:P}=t;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),w&&(r+=`rotateY(${w}deg) `),S&&(r+=`skewX(${S}deg) `),P&&(r+=`skewY(${P}deg) `)}const c=n.x.scale*e.x,d=n.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Ks={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},nu=typeof window<"u"&&window.MotionDebug!==void 0,om=["","X","Y","Z"],H3={visibility:"hidden"},uT=1e3;let q3=0;function am(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function NC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=BP(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",nt,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&NC(r)}function LC({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=q3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nu&&(Ks.totalNodes=Ks.resolvedTargetDeltas=Ks.recalculatedProjection=0),this.nodes.forEach(Q3),this.nodes.forEach(eU),this.nodes.forEach(tU),this.nodes.forEach(Y3),nu&&window.MotionDebug.record(Ks)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new N3)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new My),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=b3(l),this.instance=l;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),n){let y;const w=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=L3(w,250),Fh.hasAnimatedSinceResize&&(Fh.hasAnimatedSinceResize=!1,this.nodes.forEach(hT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:S,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||g.getDefaultTransition()||oU,{onLayoutAnimationStart:A,onLayoutAnimationComplete:F}=g.getProps(),j=!this.targetLayout||!DC(this.targetLayout,P)||S,z=!w&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||z||w&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,z);const G={...by(x,"layout"),onPlay:A,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else w||hT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,os(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cT);return}this.isUpdating||this.nodes.forEach(J3),this.isUpdating=!1,this.nodes.forEach(Z3),this.nodes.forEach(K3),this.nodes.forEach(G3),this.clearAllSnapshots();const c=kr.now();jt.delta=oi(0,1e3/60,c-jt.timestamp),jt.timestamp=c,jt.isProcessing=!0,Xp.update.process(jt),Xp.preRender.process(jt),Xp.render.process(jt),jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ey.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X3),this.sharedNodes.forEach(rU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!bC(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||qs(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),aU(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return pt();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(lU))){const{scroll:g}=this.root;g&&(va(d.x,g.offset.x),va(d.y,g.offset.y))}return d}removeElementScroll(l){var c;const d=pt();if(Fn(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:w}=g;g!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&Fn(d,l),va(d.x,y.offset.x),va(d.y,y.offset.y))}return d}applyTransform(l,c=!1){const d=pt();Fn(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&_a(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),qs(g.latestValues)&&_a(d,g.latestValues)}return qs(this.latestValues)&&_a(d,this.latestValues),d}removeTransform(l){const c=pt();Fn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!qs(p.latestValues))continue;lg(p.latestValues)&&p.updateSnapshot();const g=pt(),y=p.measurePageBox();Fn(g,y),rT(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return qs(this.latestValues)&&rT(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=jt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),du(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),h3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),PC(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),du(this.relativeTargetOrigin,this.target,S.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nu&&Ks.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lg(this.parent.latestValues)||IC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===jt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Fn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,S=this.treeScale.y;w3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=pt());const{target:P}=c;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eT(this.prevProjectionDelta.x,this.projectionDelta.x),eT(this.prevProjectionDelta.y,this.projectionDelta.y)),hu(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==S||!lT(this.projectionDelta.x,this.prevProjectionDelta.x)||!lT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P)),nu&&Ks.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ya(),this.projectionDelta=ya(),this.projectionDeltaWithTransform=ya()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},y=ya();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=pt(),S=d?d.source:void 0,P=this.layout?this.layout.source:void 0,x=S!==P,A=this.getStack(),F=!A||A.members.length<=1,j=!!(x&&!F&&this.options.crossfade===!0&&!this.path.some(sU));this.animationProgress=0;let z;this.mixTargetDelta=G=>{const te=G/1e3;dT(y.x,l.x,te),dT(y.y,l.y,te),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(du(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iU(this.relativeTarget,this.relativeTargetOrigin,w,te),z&&z3(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=pt()),Fn(z,this.relativeTarget)),x&&(this.animationValues=g,V3(g,p,this.latestValues,te,j,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(os(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{Fh.hasAnimatedSinceResize=!0,this.currentAnimation=k3(0,uT,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:g}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&OC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||pt();const y=An(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const w=An(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Fn(c,d),_a(c,g),hu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new $3),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&am("z",l,p,this.animationValues);for(let g=0;g<om.length;g++)am(`rotate${om[g]}`,l,p,this.animationValues),am(`skew${om[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return H3;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Vh(l?.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Vh(l?.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(x.transform=g?g({},""):"none",this.hasProjected=!1),x}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=W3(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:S,y:P}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${P.origin*100}% 0`,y.animationValues?p.opacity=y===this?(d=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const x in ad){if(w[x]===void 0)continue;const{correct:A,applyTo:F}=ad[x],j=p.transform==="none"?w[x]:A(w[x],y);if(F){const z=F.length;for(let G=0;G<z;G++)p[F[G]]=j}else p[x]=j}return this.options.layoutId&&(p.pointerEvents=y===this?Vh(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(cT),this.root.sharedNodes.clear()}}}function K3(n){n.updateLayout()}function G3(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Un(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],S=An(w);w.min=r[y].min,w.max=w.min+S}):OC(a,t.layoutBox,r)&&Un(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],S=An(r[y]);w.max=w.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+S)});const c=ya();hu(c,r,t.layoutBox);const d=ya();l?hu(d,n.applyTransform(i,!0),t.measuredBox):hu(d,r,t.layoutBox);const p=!bC(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:S}=y;if(w&&S){const P=pt();du(P,t.layoutBox,w.layoutBox);const x=pt();du(x,r,S.layoutBox),DC(P,x)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=P,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Q3(n){nu&&Ks.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Y3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function X3(n){n.clearSnapshot()}function cT(n){n.clearMeasurements()}function J3(n){n.isLayoutDirty=!1}function Z3(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function hT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function eU(n){n.resolveTargetDelta()}function tU(n){n.calcProjection()}function nU(n){n.resetSkewAndRotation()}function rU(n){n.removeLeadSnapshot()}function dT(n,e,t){n.translate=at(e.translate,0,t),n.scale=at(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function fT(n,e,t,r){n.min=at(e.min,t.min,r),n.max=at(e.max,t.max,r)}function iU(n,e,t,r){fT(n.x,e.x,t.x,r),fT(n.y,e.y,t.y,r)}function sU(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const oU={duration:.45,ease:[.4,0,.1,1]},pT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),mT=pT("applewebkit/")&&!pT("chrome/")?Math.round:Cn;function gT(n){n.min=mT(n.min),n.max=mT(n.max)}function aU(n){gT(n.x),gT(n.y)}function OC(n,e,t){return n==="position"||n==="preserve-aspect"&&!c3(aT(e),aT(t),.2)}function lU(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const uU=LC({attachResizeListener:(n,e)=>Ru(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lm={current:void 0},VC=LC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!lm.current){const n=new uU({});n.mount(window),n.setOptions({layoutScroll:!0}),lm.current=n}return lm.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),cU={pan:{Feature:C3},drag:{Feature:P3,ProjectionNode:VC,MeasureLayout:xC}};function yT(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&nt.postRender(()=>a(e,Qu(e)))}class hU extends ps{mount(){const{current:e}=this.node;e&&(this.unmount=cF(e,t=>(yT(this.node,t,"Start"),r=>yT(this.node,r,"End"))))}unmount(){}}class dU extends ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(Ru(this.node.current,"focus",()=>this.onFocus()),Ru(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vT(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&nt.postRender(()=>a(e,Qu(e)))}class fU extends ps{mount(){const{current:e}=this.node;e&&(this.unmount=pF(e,t=>(vT(this.node,t,"Start"),(r,{success:i})=>vT(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cg=new WeakMap,um=new WeakMap,pU=n=>{const e=cg.get(n.target);e&&e(n)},mU=n=>{n.forEach(pU)};function gU({root:n,...e}){const t=n||document;um.has(t)||um.set(t,{});const r=um.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(mU,{root:n,...e})),r[i]}function yU(n,e,t){const r=gU(e);return cg.set(n,t),r.observe(n),()=>{cg.delete(n),r.unobserve(n)}}const vU={some:0,all:1};class _U extends ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:vU[i]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=p?g:y;w&&w(d)};return yU(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(wU(e,t))&&this.startObserver()}unmount(){}}function wU({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const EU={inView:{Feature:_U},tap:{Feature:fU},focus:{Feature:dU},hover:{Feature:hU}},TU={layout:{ProjectionNode:VC,MeasureLayout:xC}},hg={current:null},MC={current:!1};function SU(){if(MC.current=!0,!!gy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>hg.current=n.matches;n.addListener(e),e()}else hg.current=!1}const IU=[...lC,Qt,as],PU=n=>IU.find(aC(n)),_T=new WeakMap;function CU(n,e,t){for(const r in e){const i=e[r],a=t[r];if(Jt(i))n.addValue(r,i);else if(Jt(a))n.addValue(r,Au(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,Au(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const wT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AU{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$y,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=kr.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,nt.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Kd(t),this.isVariantNode=gP(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const S in w){const P=w[S];d[S]!==void 0&&Jt(P)&&P.set(d[S],!1)}}mount(e){this.current=e,_T.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),MC.current||SU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_T.delete(this.current),this.projection&&this.projection.unmount(),os(this.notifyUpdate),os(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=fo.has(e),i=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&nt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Na){const t=Na[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<wT.length;r++){const i=wT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=CU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Au(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(sC(i)||YP(i))?i=parseFloat(i):!PU(i)&&as.test(t)&&(i=nC(e,t)),this.setBaseTarget(e,Jt(i)?i.get():i)),Jt(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=Sy(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Jt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new My),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class FC extends AU{constructor(){super(...arguments),this.KeyframeResolver=uC}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function xU(n){return window.getComputedStyle(n)}class RU extends FC{constructor(){super(...arguments),this.type="html",this.renderInstance=PP}readValueFromInstance(e,t){if(fo.has(t)){const r=zy(t);return r&&r.default||0}else{const r=xU(e),i=(TP(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return CC(e,t)}build(e,t,r){Cy(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return ky(e,t,r)}}class kU extends FC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(fo.has(t)){const r=zy(t);return r&&r.default||0}return t=CP.has(t)?t:wy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return RP(e,t,r)}build(e,t,r){Ay(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){AP(e,t,r,i)}mount(e){this.isSVGTag=Ry(e.tagName),super.mount(e)}}const bU=(n,e)=>Ty(n)?new kU(e):new RU(e,{allowProjection:n!==D.Fragment}),DU=rF({...t3,...EU,...cU,...TU},bU),NU=vM(DU);var UC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ET=an.createContext&&an.createContext(UC),LU=["attr","size","title"];function OU(n,e){if(n==null)return{};var t=VU(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function VU(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function fd(){return fd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fd.apply(this,arguments)}function TT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function pd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(t),!0).forEach(function(r){MU(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function MU(n,e,t){return e=FU(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FU(n){var e=UU(n,"string");return typeof e=="symbol"?e:e+""}function UU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jC(n){return n&&n.map((e,t)=>an.createElement(e.tag,pd({key:t},e.attr),jC(e.child)))}function be(n){return e=>an.createElement(jU,fd({attr:pd({},n.attr)},e),jC(n.child))}function jU(n){var e=t=>{var{attr:r,size:i,title:a}=n,l=OU(n,LU),c=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),an.createElement("svg",fd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:pd(pd({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&an.createElement("title",null,a),n.children)};return ET!==void 0?an.createElement(ET.Consumer,null,t=>e(t)):e(UC)}function Oj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(n)}function Vj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(n)}function Mj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function Fj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(n)}function Uj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(n)}function jj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(n)}function Bj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(n)}function BC(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(n)}function zj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(n)}function $j(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(n)}function Wj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function Hj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(n)}function qj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function Kj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(n)}function Gj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(n)}function Qj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function Yj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(n)}function Xj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function zC(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(n)}function $C(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(n)}function Jj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(n)}function Zj(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(n)}function BU(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function e9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}function t9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(n)}function n9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(n)}function r9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function i9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(n)}function s9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function o9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(n)}function a9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(n)}function l9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function u9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(n)}function c9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(n)}function h9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(n)}function d9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function f9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(n)}function ST(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function p9(n){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}const zU=()=>{const{currentUser:n,logout:e}=co(),{isDemo:t,transactions:r,maxTransactions:i,clearTransactions:a}=uy(),l=fs(),c=Wd(),d=uP({maxWidth:768}),{t:p}=Hu(),g=async()=>{await e(),c("/")},y=async()=>{window.confirm(p("navbar.demoExitConfirm"))&&(await a(),window.location.replace("/soldi-sotto/"))},w=[{label:p("navbar.dashboard"),path:"/dashboard",icon:J.jsx(zC,{})},{label:p("navbar.transactions"),path:"/transactions",icon:J.jsx($C,{})},{label:p("navbar.analytics"),path:"/analytics",icon:J.jsx(BC,{})}];return J.jsx(NU.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:"fixed-top",style:{height:"64px",backgroundColor:"var(--glass-bg)",backdropFilter:"blur(35px)",WebkitBackdropFilter:"blur(35px)",borderBottom:"1px solid var(--glass-border)",boxShadow:"0 1px 20px rgba(0, 0, 0, 0.08)",zIndex:1030},children:J.jsx("div",{className:"container-fluid h-100",children:J.jsxs("div",{className:"d-flex align-items-center justify-content-between h-100 w-100",children:[J.jsxs("div",{className:"d-flex align-items-center gap-2",children:[J.jsx(Gp,{to:"/",className:"text-decoration-none text-dark fw-bold",style:{fontSize:"1.35rem",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",whiteSpace:"nowrap",letterSpacing:"0.01em",lineHeight:1.1,minWidth:"120px",maxWidth:"220px",overflow:"hidden",textOverflow:"ellipsis",marginRight:"8px"},children:" Soldi Sotto"}),t&&J.jsxs(ly,{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"8px",backgroundColor:"rgba(25, 135, 84, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[r.length,"/",i]})]}),!d&&J.jsxs("div",{className:"d-flex align-items-center gap-2 ms-auto",children:[(n||t)&&w.map(S=>J.jsx(Gp,{to:S.path,className:"text-decoration-none px-3 py-2 rounded-pill transition-all",style:{color:l.pathname===S.path?"#0d6efd":"#495057",fontWeight:"500",fontSize:"16px",backgroundColor:l.pathname===S.path?"rgba(13, 110, 253, 0.15)":"transparent",transition:"all 0.2s ease",textShadow:l.pathname===S.path?"0 1px 2px rgba(13, 110, 253, 0.2)":"none"},onMouseEnter:P=>{l.pathname!==S.path&&(P.target.style.backgroundColor="rgba(255, 255, 255, 0.3)",P.target.style.color="#0d6efd",P.target.style.backdropFilter="blur(10px)")},onMouseLeave:P=>{l.pathname!==S.path&&(P.target.style.backgroundColor="transparent",P.target.style.color="#495057",P.target.style.backdropFilter="none")},children:S.label},S.path)),n&&J.jsx(Gp,{to:"/profile",className:"text-decoration-none px-3 py-2 rounded-pill transition-all",style:{color:l.pathname==="/profile"?"#0d6efd":"#495057",fontWeight:"500",fontSize:"16px",backgroundColor:l.pathname==="/profile"?"rgba(13, 110, 253, 0.15)":"transparent",transition:"all 0.2s ease",textShadow:l.pathname==="/profile"?"0 1px 2px rgba(13, 110, 253, 0.2)":"none"},onMouseEnter:S=>{l.pathname!=="/profile"&&(S.target.style.backgroundColor="rgba(255, 255, 255, 0.3)",S.target.style.color="#0d6efd",S.target.style.backdropFilter="blur(10px)")},onMouseLeave:S=>{l.pathname!=="/profile"&&(S.target.style.backgroundColor="transparent",S.target.style.color="#495057",S.target.style.backdropFilter="none")},children:p("navbar.profile")}),t&&!n&&J.jsxs(J.Fragment,{children:[J.jsx(Oh,{variant:"outline-primary",className:"fw-medium",style:{borderRadius:"10px",fontSize:"15px",padding:"6px 14px",border:"1.2px solid #0d6efd",background:"rgba(13,110,253,0.06)",color:"#0d6efd",minWidth:"0",transition:"all 0.2s"},onClick:y,children:p("navbar.backToHome")}),J.jsx(Oh,{variant:"primary",className:"fw-medium",style:{borderRadius:"10px",fontSize:"15px",padding:"6px 14px",background:"rgba(13, 110, 253, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",minWidth:"0"},onClick:()=>c("/register"),children:p("navbar.register")})]}),n&&J.jsx(Oh,{variant:"outline-secondary",className:"fw-medium",style:{borderRadius:"10px",fontSize:"15px",padding:"6px 14px",border:"1.2px solid #6c757d",background:"rgba(108,117,125,0.06)",color:"#495057",minWidth:"0",transition:"all 0.2s"},onClick:g,children:p("navbar.logout")})]})]})})})},$U=()=>{const n=fs(),e=Wd(),{currentUser:t,logout:r}=co(),{isDemo:i,transactions:a,maxTransactions:l}=uy(),[c,d]=D.useState(!0),[p,g]=D.useState(0),{t:y}=Hu();D.useEffect(()=>{let x=!1;const A=()=>{x||(window.requestAnimationFrame(()=>{const F=window.scrollY;F>p&&F>40?d(!1):d(!0),g(F),x=!1}),x=!0)};return window.addEventListener("scroll",A,{passive:!0}),()=>window.removeEventListener("scroll",A)},[p]);const w=async()=>{await r(),e("/")},S=[{key:"/dashboard",icon:J.jsx(zC,{size:20}),label:y("navbar.dashboard"),path:"/dashboard"},{key:"/transactions",icon:J.jsx($C,{size:20}),label:y("navbar.transactions"),path:"/transactions",badge:i?`${a.length}/${l}`:null},{key:"/analytics",icon:J.jsx(BC,{size:20}),label:y("navbar.analytics"),path:"/analytics"},...t?[{key:"/profile",icon:J.jsx(ST,{size:20}),label:y("navbar.profile"),path:"/profile"}]:i?[{key:"register",icon:J.jsx(ST,{size:20}),label:y("navbar.register"),action:()=>e("/register")}]:[{key:"logout",icon:J.jsx(BU,{size:20}),label:y("navbar.logout"),action:w}]],P=x=>{x.action?x.action():e(x.path)};return J.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"60px",background:"var(--glass-bg)",borderTop:"1px solid var(--glass-border)",display:"flex",alignItems:"center",justifyContent:"space-around",padding:"0 8px",paddingBottom:"env(safe-area-inset-bottom)",zIndex:1030,boxShadow:"0 -4px 25px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(25px)",WebkitBackdropFilter:"blur(25px)",transition:"transform 0.35s cubic-bezier(.4,2,.6,1)",transform:c?"translateY(0)":"translateY(100%)",pointerEvents:c?"auto":"none"},children:S.map(x=>{const A=n.pathname===x.path;return J.jsxs("button",{onClick:()=>P(x),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"8px",background:A?"rgba(13, 110, 253, 0.15)":"transparent",border:"none",cursor:"pointer",transition:"all 0.2s ease",color:A?"#0d6efd":"#6c757d",minWidth:"56px",minHeight:"44px",borderRadius:"12px",backdropFilter:A?"blur(10px)":"none",boxShadow:A?"0 2px 8px rgba(13, 110, 253, 0.2)":"none",WebkitTapHighlightColor:"transparent"},onTouchStart:F=>{A||(F.currentTarget.style.background="rgba(255, 255, 255, 0.4)",F.currentTarget.style.transform="scale(0.95)",F.currentTarget.style.backdropFilter="blur(10px)")},onTouchEnd:F=>{A||(F.currentTarget.style.background="transparent",F.currentTarget.style.transform="scale(1)",F.currentTarget.style.backdropFilter="none")},children:[J.jsxs("div",{className:"position-relative",children:[J.jsx("div",{style:{marginBottom:"2px",transform:A?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease",filter:A?"drop-shadow(0 1px 2px rgba(13, 110, 253, 0.3))":"none"},children:x.icon}),x.badge&&J.jsx(ly,{className:"position-absolute top-0 start-100 translate-middle",style:{fontSize:"9px",padding:"2px 4px",borderRadius:"8px",lineHeight:"1",marginTop:"-2px",marginLeft:"-2px",backgroundColor:"rgba(13, 110, 253, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:x.badge})]}),J.jsx("span",{style:{fontSize:"10px",fontWeight:A?"600":"400",textAlign:"center",lineHeight:"1",marginTop:"2px",textShadow:A?"0 1px 2px rgba(13, 110, 253, 0.3)":"none"},children:x.label})]},x.key)})})},WC=({children:n})=>{WC.propTypes={children:Ae.node.isRequired};const e=fs(),{currentUser:t}=co(),{isDemo:r}=uy(),i=uP({maxWidth:768}),c=!["/","/login","/register"].includes(e.pathname)&&(t||r);return J.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh",background:"var(--background-primary)"},children:[c&&!i&&J.jsx(zU,{}),J.jsx("main",{style:{flex:1,position:"relative",overflowX:"hidden",minHeight:c?i?"calc(100vh - 60px)":"calc(100vh - 64px)":"100vh",paddingTop:c?i?"2.5rem":"64px":"0",paddingBottom:c&&i?"60px":"0",paddingLeft:i?"1rem":"2rem",paddingRight:i?"1rem":"2rem",background:"var(--background-primary)",transition:"all var(--transition-base)"},children:n}),c&&i&&J.jsx($U,{})]})},WU=D.lazy(()=>hi(()=>import("./Dashboard-u68qG4bn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),HU=D.lazy(()=>hi(()=>import("./TransactionList-D1p-DTY-.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,12,13,14,10,15]))),qU=D.lazy(()=>hi(()=>import("./TransactionAnalytics-cZUxP8uU.js"),__vite__mapDeps([16,8,2,12,6,5,14,10,4,7,9,15]))),KU=D.lazy(()=>hi(()=>import("./Stats-ym2KgibC.js").then(n=>n.S),__vite__mapDeps([17,12,8,13,18,6,5,7,9]))),GU=D.lazy(()=>hi(()=>import("./Profile-BtlN7qUw.js"),__vite__mapDeps([19,8,9,5,7,6,3,4]))),QU=D.lazy(()=>hi(()=>import("./Home-DVvrXBFO.js"),__vite__mapDeps([20,21,7,5,9,18]))),YU=D.lazy(()=>hi(()=>import("./LandingPage-DiqSEHVU.js"),__vite__mapDeps([21,7,5,9]))),XU=D.lazy(()=>hi(()=>import("./Login-DkEptWwl.js"),__vite__mapDeps([22,14,10,5,4,6]))),JU=D.lazy(()=>hi(()=>import("./Register-B6Xp9XpS.js"),__vite__mapDeps([23,14,10,5,4,6]))),ZU=()=>J.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",style:{background:"var(--background-primary)"},children:J.jsx(DI,{animation:"border",variant:"primary"})}),dg=({children:n})=>{dg.propTypes={children:Ae.node.isRequired};const{currentUser:e,loading:t}=co();return t?J.jsx(ZU,{}):e?J.jsx(sP,{to:"/dashboard",replace:!0}):n},e6=()=>J.jsx(WC,{children:J.jsx(D.Suspense,{fallback:J.jsx("div",{children:"Loading..."}),children:J.jsxs(xV,{children:[J.jsx(sr,{path:"/",element:J.jsx(QU,{})}),J.jsx(sr,{path:"/login",element:J.jsx(dg,{children:J.jsx(XU,{})})}),J.jsx(sr,{path:"/register",element:J.jsx(dg,{children:J.jsx(JU,{})})}),J.jsx(sr,{path:"/dashboard",element:J.jsx(WU,{})}),J.jsx(sr,{path:"/transactions",element:J.jsx(HU,{})}),J.jsx(sr,{path:"/analytics",element:J.jsx(qU,{})}),J.jsx(sr,{path:"/stats",element:J.jsx(KU,{})}),J.jsx(sr,{path:"/profile",element:J.jsx(GU,{})}),J.jsx(sr,{path:"/landing",element:J.jsx(YU,{})}),J.jsx(sr,{path:"*",element:J.jsx(sP,{to:"/",replace:!0})})]})})});function t6(){return J.jsx(WT,{children:J.jsx(WI,{children:J.jsx(oy,{children:J.jsx(cy,{children:J.jsx(e6,{})})})})})}const Pe=n=>typeof n=="string",Hl=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},IT=n=>n==null?"":""+n,n6=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},r6=/###/g,PT=n=>n&&n.indexOf("###")>-1?n.replace(r6,"."):n,CT=n=>!n||Pe(n),fu=(n,e,t)=>{const r=Pe(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(CT(n))return{};const a=PT(r[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return CT(n)?{}:{obj:n,k:PT(r[i])}},AT=(n,e,t)=>{const{obj:r,k:i}=fu(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=fu(n,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=fu(n,l,Object),c?.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=t},i6=(n,e,t,r)=>{const{obj:i,k:a}=fu(n,e,Object);i[a]=i[a]||[],i[a].push(t)},md=(n,e)=>{const{obj:t,k:r}=fu(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},s6=(n,e,t)=>{const r=md(n,t);return r!==void 0?r:md(e,t)},HC=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Pe(n[r])||n[r]instanceof String||Pe(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):HC(n[r],e[r],t):n[r]=e[r]);return n},aa=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var o6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const a6=n=>Pe(n)?n.replace(/[&<>"'\/]/g,e=>o6[e]):n;class l6{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const u6=[" ",",","?","!",";"],c6=new l6(20),h6=(n,e,t)=>{e=e||"",t=t||"";const r=u6.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(r.length===0)return!0;const i=c6.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(n);if(!a){const l=n.indexOf(t);l>0&&!i.test(n.substring(0,l))&&(a=!0)}return a},fg=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,c="";for(let d=a;d<r.length;++d)if(d!==a&&(c+=t),c+=r[d],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;a+=d-a+1;break}i=l}return i},ku=n=>n?.replace("_","-"),d6={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class gd{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||d6,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Pe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new gd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new gd(this.logger,e)}}var Tr=new gd;class Yd{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...t])})}}class xT extends Yd{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],r&&(Array.isArray(r)?c.push(...r):Pe(r)&&a?c.push(...r.split(a)):c.push(r)));const d=md(this.data,c);return!d&&!t&&!r&&e.indexOf(".")>-1&&(e=c[0],t=c[1],r=c.slice(2).join(".")),d||!l||!Pe(r)?d:fg(this.data?.[e]?.[t],r,a)}addResource(e,t,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,t];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),i=t,t=c[1]),this.addNamespaces(t),AT(this.data,c,i),a.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const a in r)(Pe(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,a,l={silent:!1,skipCopy:!1}){let c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),i=r,r=t,t=c[1]),this.addNamespaces(t);let d=md(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?HC(d,r,a):d={...d,...r},AT(this.data,c,d),l.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var qC={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(a=>{e=this.processors[a]?.process(e,t,r,i)??e}),e}};const RT={},kT=n=>!Pe(n)&&typeof n!="boolean"&&typeof n!="number";class yd extends Yd{constructor(e,t={}){super(),n6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Tr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!h6(e,r,i);if(l&&!c){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Pe(a)?[a]:a};const p=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(p[0])>-1)&&(a=p.shift()),e=p.join(i)}return{key:e,namespaces:Pe(a)?[a]:a}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],i),p=d[d.length-1];let g=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const y=i.lng||this.language,w=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y?.toLowerCase()==="cimode")return w?a?{res:`${p}${g}${c}`,usedKey:c,exactUsedKey:c,usedLng:y,usedNS:p,usedParams:this.getUsedParamsDetails(i)}:`${p}${g}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:y,usedNS:p,usedParams:this.getUsedParamsDetails(i)}:c;const S=this.resolve(e,i);let P=S?.res;const x=S?.usedKey||c,A=S?.exactUsedKey||c,F=["[object Number]","[object Function]","[object RegExp]"],j=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,z=!this.i18nFormat||this.i18nFormat.handleAsObject,G=i.count!==void 0&&!Pe(i.count),te=yd.hasDefaultValue(i),ie=G?this.pluralResolver.getSuffix(y,i.count,i):"",N=i.ordinal&&G?this.pluralResolver.getSuffix(y,i.count,{ordinal:!1}):"",C=G&&!i.ordinal&&i.count===0,k=C&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${ie}`]||i[`defaultValue${N}`]||i.defaultValue;let L=P;z&&!P&&te&&(L=k);const M=kT(L),B=Object.prototype.toString.apply(L);if(z&&L&&M&&F.indexOf(B)<0&&!(Pe(j)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,L,{...i,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(S.res=b,S.usedParams=this.getUsedParamsDetails(i),S):b}if(l){const b=Array.isArray(L),Le=b?[]:{},yt=b?A:x;for(const Ke in L)if(Object.prototype.hasOwnProperty.call(L,Ke)){const ve=`${yt}${l}${Ke}`;te&&!P?Le[Ke]=this.translate(ve,{...i,defaultValue:kT(k)?k[Ke]:void 0,joinArrays:!1,ns:d}):Le[Ke]=this.translate(ve,{...i,joinArrays:!1,ns:d}),Le[Ke]===ve&&(Le[Ke]=L[Ke])}P=Le}}else if(z&&Pe(j)&&Array.isArray(P))P=P.join(j),P&&(P=this.extendTranslation(P,e,i,r));else{let b=!1,Le=!1;!this.isValidLookup(P)&&te&&(b=!0,P=k),this.isValidLookup(P)||(Le=!0,P=c);const Ke=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Le?void 0:P,ve=te&&k!==P&&this.options.updateMissing;if(Le||b||ve){if(this.logger.log(ve?"updateKey":"missingKey",y,p,c,ve?k:P),l){const U=this.resolve(c,{...i,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(let U=0;U<fe.length;U++)re.push(fe[U]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(i.lng||this.language):re.push(i.lng||this.language);const ae=(U,Q,pe)=>{const Re=te&&pe!==P?pe:Ke;this.options.missingKeyHandler?this.options.missingKeyHandler(U,p,Q,Re,ve,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(U,p,Q,Re,ve,i),this.emit("missingKey",U,p,Q,P)};this.options.saveMissing&&(this.options.saveMissingPlurals&&G?re.forEach(U=>{const Q=this.pluralResolver.getSuffixes(U,i);C&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Q.indexOf(`${this.options.pluralSeparator}zero`)<0&&Q.push(`${this.options.pluralSeparator}zero`),Q.forEach(pe=>{ae([U],c+pe,i[`defaultValue${pe}`]||k)})}):ae(re,c,k))}P=this.extendTranslation(P,e,i,S,r),Le&&P===c&&this.options.appendNamespaceToMissingKey&&(P=`${p}${g}${c}`),(Le||b)&&this.options.parseMissingKeyHandler&&(P=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${g}${c}`:c,b?P:void 0,i))}return a?(S.res=P,S.usedParams=this.getUsedParamsDetails(i),S):P}extendTranslation(e,t,r,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=Pe(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(d){const y=e.match(this.interpolator.nestingRegexp);p=y&&y.length}let g=r.replace&&!Pe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,r.lng||this.language||i.usedLng,r),d){const y=e.match(this.interpolator.nestingRegexp),w=y&&y.length;p<w&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...y)=>a?.[0]===y[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${t[0]}`),null):this.translate(...y,t),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=Pe(l)?[l]:l;return e!=null&&c?.length&&r.applyPostProcessor!==!1&&(e=qC.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,a,l,c;return Pe(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const p=this.extractFromKey(d,t),g=p.key;i=g;let y=p.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const w=t.count!==void 0&&!Pe(t.count),S=w&&!t.ordinal&&t.count===0,P=t.context!==void 0&&(Pe(t.context)||typeof t.context=="number")&&t.context!=="",x=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);y.forEach(A=>{this.isValidLookup(r)||(c=A,!RT[`${x[0]}-${A}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(RT[`${x[0]}-${A}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(F=>{if(this.isValidLookup(r))return;l=F;const j=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(j,g,F,A,t);else{let G;w&&(G=this.pluralResolver.getSuffix(F,t.count,t));const te=`${this.options.pluralSeparator}zero`,ie=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(j.push(g+G),t.ordinal&&G.indexOf(ie)===0&&j.push(g+G.replace(ie,this.options.pluralSeparator)),S&&j.push(g+te)),P){const N=`${g}${this.options.contextSeparator}${t.context}`;j.push(N),w&&(j.push(N+G),t.ordinal&&G.indexOf(ie)===0&&j.push(N+G.replace(ie,this.options.pluralSeparator)),S&&j.push(N+te))}}let z;for(;z=j.pop();)this.isValidLookup(r)||(a=z,r=this.getResource(F,A,z,t))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Pe(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of t)delete i[a]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class bT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Tr.create("languageUtils")}getScriptPartFromCode(e){if(e=ku(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=ku(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Pe(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Pe(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Pe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Pe(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const DT={zero:0,one:1,two:2,few:3,many:4,other:5},NT={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class f6{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Tr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=ku(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),NT;if(!e.match(/-|_/))return NT;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,t)}return this.pluralRulesCache[a]=l,l}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>DT[i]-DT[a]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const LT=(n,e,t,r=".",i=!0)=>{let a=s6(n,e,t);return!a&&i&&Pe(t)&&(a=fg(n,t,r),a===void 0&&(a=fg(e,t,r))),a},cm=n=>n.replace(/\$/g,"$$$$");class p6{constructor(e={}){this.logger=Tr.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:p,unescapeSuffix:g,unescapePrefix:y,nestingPrefix:w,nestingPrefixEscaped:S,nestingSuffix:P,nestingSuffixEscaped:x,nestingOptionsSeparator:A,maxReplaces:F,alwaysFormat:j}=e.interpolation;this.escape=t!==void 0?t:a6,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?aa(a):l||"{{",this.suffix=c?aa(c):d||"}}",this.formatSeparator=p||",",this.unescapePrefix=g?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=w?aa(w):S||aa("$t("),this.nestingSuffix=P?aa(P):x||aa(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=F||1e3,this.alwaysFormat=j!==void 0?j:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){let a,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=S=>{if(S.indexOf(this.formatSeparator)<0){const F=LT(t,d,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(F,void 0,r,{...i,...t,interpolationkey:S}):F}const P=S.split(this.formatSeparator),x=P.shift().trim(),A=P.join(this.formatSeparator).trim();return this.format(LT(t,d,x,this.options.keySeparator,this.options.ignoreJSONStructure),A,r,{...i,...t,interpolationkey:x})};this.resetRegExp();const g=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,y=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>cm(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?cm(this.escape(S)):cm(S)}].forEach(S=>{for(c=0;a=S.regex.exec(e);){const P=a[1].trim();if(l=p(P),l===void 0)if(typeof g=="function"){const A=g(e,a,i);l=Pe(A)?A:""}else if(i&&Object.prototype.hasOwnProperty.call(i,P))l="";else if(y){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${P} for interpolating ${e}`),l="";else!Pe(l)&&!this.useRawValueToEscape&&(l=IT(l));const x=S.safeValue(l);if(e=e.replace(a[0],x),y?(S.regex.lastIndex+=l.length,S.regex.lastIndex-=a[0].length):S.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,a,l;const c=(d,p)=>{const g=this.nestingOptionsSeparator;if(d.indexOf(g)<0)return d;const y=d.split(new RegExp(`${g}[ ]*{`));let w=`{${y[1]}`;d=y[0],w=this.interpolate(w,l);const S=w.match(/'/g),P=w.match(/"/g);((S?.length??0)%2===0&&!P||P.length%2!==0)&&(w=w.replace(/'/g,'"'));try{l=JSON.parse(w),p&&(l={...p,...l})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,x),`${d}${g}${w}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!Pe(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const p=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(p!==-1&&(d=i[1].slice(p).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),i[1]=i[1].slice(0,p)),a=t(c.call(this,i[1].trim(),l),l),a&&i[0]===e&&!Pe(a))return a;Pe(a)||(a=IT(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),d.length&&(a=d.reduce((g,y)=>this.format(g,y,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const m6=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),p=d.join(":").trim().replace(/^'+|'+$/g,""),g=c.trim();t[g]||(t[g]=p),p==="false"&&(t[g]=!1),p==="true"&&(t[g]=!0),isNaN(p)||(t[g]=parseInt(p,10))}})}return{formatName:e,formatOptions:t}},OT=n=>{const e={};return(t,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let c=e[l];return c||(c=n(ku(r),i),e[l]=c),c(t)}},g6=n=>(e,t,r)=>n(ku(t),r)(e);class y6{constructor(e={}){this.logger=Tr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?OT:g6;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return c=>l.format(c)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return c=>l.format(c)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return c=>l.format(c,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return c=>l.format(c)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=OT(t)}format(e,t,r,i={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,d)=>{const{formatName:p,formatOptions:g}=m6(d);if(this.formats[p]){let y=c;try{const w=i?.formatParams?.[i.interpolationkey]||{},S=w.locale||w.lng||i.locale||i.lng||r;y=this.formats[p](c,S,{...g,...i,...w})}catch(w){this.logger.warn(w)}return y}else this.logger.warn(`there was no format function for ${p}`);return c},e)}}const v6=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class _6 extends Yd{constructor(e,t,r,i={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Tr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,t,r,i){const a={},l={},c={},d={};return e.forEach(p=>{let g=!0;t.forEach(y=>{const w=`${p}|${y}`;!r.reload&&this.store.hasResourceBundle(p,y)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?l[w]===void 0&&(l[w]=!0):(this.state[w]=1,g=!1,l[w]===void 0&&(l[w]=!0),a[w]===void 0&&(a[w]=!0),d[y]===void 0&&(d[y]=!0)))}),g||(c[p]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,t,r){const i=e.split("|"),a=i[0],l=i[1];t&&this.emit("failedLoading",a,l,t),!t&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const c={};this.queue.forEach(d=>{i6(d.loaded,[a],l),v6(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(p=>{c[p]||(c[p]={});const g=d.loaded[p];g.length&&g.forEach(y=>{c[p][y]===void 0&&(c[p][y]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,t,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const c=(p,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(p&&g&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,a*2,l)},a);return}l(p,g)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const p=d(e,t);p&&typeof p.then=="function"?p.then(g=>c(null,g)).catch(c):c(null,p)}catch(p){c(p)}return}return d(e,t,c)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Pe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pe(t)&&(t=[t]);const a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,l),!l&&c&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,t,r,i,a,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const d={...l,isUpdate:a},p=this.backend.create.bind(this.backend);if(p.length<6)try{let g;p.length===5?g=p(e,t,r,i,d):g=p(e,t,r,i),g&&typeof g.then=="function"?g.then(y=>c(null,y)).catch(c):c(null,g)}catch(g){c(g)}else p(e,t,r,i,c,d)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const VT=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Pe(n[1])&&(e.defaultValue=n[1]),Pe(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),MT=n=>(Pe(n.ns)&&(n.ns=[n.ns]),Pe(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Pe(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),Sh=()=>{},w6=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class bu extends Yd{constructor(e={},t){if(super(),this.options=MT(e),this.services={},this.logger=Tr,this.modules={external:[]},w6(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Pe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=VT();this.options={...r,...this.options,...MT(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?Tr.init(i(this.modules.logger),this.options):Tr.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=y6;const g=new bT(this.options);this.store=new xT(this.options.resources,this.options);const y=this.services;y.logger=Tr,y.resourceStore=this.store,y.languageUtils=g,y.pluralResolver=new f6(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(y.formatter=i(p),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new p6(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new _6(i(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(S,...P)=>{this.emit(S,...P)}),this.modules.languageDetector&&(y.languageDetector=i(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=i(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new yd(this.services,this.options),this.translator.on("*",(S,...P)=>{this.emit(S,...P)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Sh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...g)=>this.store[p](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...g)=>(this.store[p](...g),this)});const c=Hl(),d=()=>{const p=(g,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(y),t(g,y)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e,t=Sh){let r=t;const i=Pe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(p=>{p!=="cimode"&&a.indexOf(p)<0&&a.push(p)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,t,r){const i=Hl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Sh),this.services.backendConnector.reload(e,t,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&qC.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Hl();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...p)=>this.t(...p)),t&&t(c,(...p)=>this.t(...p))},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=Pe(c)?c:c&&c[0],p=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Pe(c)?[c]:c);p&&(this.language||i(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,g=>{a(g,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,t,r){const i=(a,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([a,l].concat(c)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);const p=this.options.keySeparator||".";let g;return d.keyPrefix&&Array.isArray(a)?g=a.map(y=>`${d.keyPrefix}${p}${y}`):g=d.keyPrefix?`${d.keyPrefix}${p}${a}`:a,this.t(g,d)};return Pe(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const p=this.services.backendConnector.state[`${c}|${d}`];return p===-1||p===0||p===2};if(t.precheck){const c=t.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,t){const r=Hl();return this.options.ns?(Pe(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Hl();Pe(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),t&&t(l)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";if(Intl.Locale){const i=new Intl.Locale(e);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new bT(VT());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new bu(e,t)}cloneInstance(e={},t=Sh){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new bu(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const c=Object.keys(this.store.data).reduce((d,p)=>(d[p]={...this.store.data[p]},d[p]=Object.keys(d[p]).reduce((g,y)=>(g[y]={...d[p][y]},g),d[p]),d),{});a.store=new xT(c,i),a.services.resourceStore=a.store}return a.translator=new yd(a.services,i),a.translator.on("*",(c,...d)=>{a.emit(c,...d)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const en=bu.createInstance();en.createInstance=bu.createInstance;en.createInstance;en.dir;en.init;en.loadResources;en.reloadResources;en.use;en.changeLanguage;en.getFixedT;en.t;en.exists;en.setDefaultNamespace;en.hasLoadedNamespace;en.loadNamespaces;en.loadLanguages;const{slice:E6,forEach:T6}=[];function S6(n){return T6.call(E6.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function I6(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const FT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,P6=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${n}=${i}`;if(r.maxAge>0){const l=r.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(l)}`}if(r.domain){if(!FT.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!FT.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},UT={create(n,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),r&&(i.domain=r),document.cookie=P6(n,e,i)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var C6={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return UT.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;t&&typeof document<"u"&&UT.create(t,n,r,i,a)}},A6={name:"querystring",lookup(n){let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const a=r.substring(1).split("&");for(let l=0;l<a.length;l++){const c=a[l].indexOf("=");c>0&&a[l].substring(0,c)===e&&(t=a[l].substring(c+1))}}return t}},x6={name:"hash",lookup(n){let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const l=a.split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===e&&(r=l[c].substring(d+1))}}if(r)return r;if(!r&&t>-1){const l=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return r}};let la=null;const jT=()=>{if(la!==null)return la;try{if(la=typeof window<"u"&&window.localStorage!==null,!la)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{la=!1}return la};var R6={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&jT())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&jT()&&window.localStorage.setItem(t,n)}};let ua=null;const BT=()=>{if(ua!==null)return ua;try{if(ua=typeof window<"u"&&window.sessionStorage!==null,!ua)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{ua=!1}return ua};var k6={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&BT())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&BT()&&window.sessionStorage.setItem(t,n)}},b6={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:i}=navigator;if(t)for(let a=0;a<t.length;a++)e.push(t[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},D6={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},N6={name:"path",lookup(n){let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},L6={name:"subdomain",lookup(n){let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}};let KC=!1;try{document.cookie,KC=!0}catch{}const GC=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];KC||GC.splice(1,1);const O6=()=>({order:GC,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class QC{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=S6(t,this.options||{},O6()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(C6),this.addDetector(A6),this.addDetector(R6),this.addDetector(k6),this.addDetector(b6),this.addDetector(D6),this.addDetector(N6),this.addDetector(L6),this.addDetector(x6)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(r=>r!=null&&!I6(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}QC.type="languageDetector";const V6="SoldiSotto",M6="Hello, {{name}}!",F6="Add Transaction",U6="Quick Actions",j6={title:"Recent Transactions",viewAll:"View all",manageAll:"Manage all transactions",emptyTitle:"No transactions yet",emptyDescription:"Start by adding your first transaction to see the summary here.",addFirst:"Add your first transaction"},B6="Income",z6="Expense",$6="Manage All",W6={statsTitle:"Your Statistics",settingsTitle:"Settings",theme:"Appearance",themeLight:"Light",themeDark:"Dark",themeSystem:"System",currentTheme:"Current theme",language:"Language",currentLanguage:"Current language",username:"Username",edit:"Edit",currentUsername:"Current username",totalTransactions:"Total Transactions",currentBalance:"Current Balance",daysActive:"Days Active",days:"days",user:"User",registeredOn:"Registered on",dateNotAvailable:"Date not available",account:"Account",accountInfo:"Your settings are saved automatically. Your data is protected with end-to-end encryption.",backToDashboard:"Back to Dashboard",editUsername:"Edit Username",newUsername:"New Username",usernamePlaceholder:"Enter new username",usernameHelp:"Username must be at least 3 characters and availability will be verified",updating:"Updating...",usernameMinLength:"Username must be at least 3 characters",usernameSame:"Username is the same as current",usernameConfirm:`Are you sure you want to change your username from "{{currentUsername}}" to "{{newUsername}}"?

This action cannot be undone.`,usernameUnavailable:"Username already taken",usernameSuccess:"Username updated successfully!",usernameError:"Error updating username",usernamePermissionError:"Insufficient permissions to update username",usernameNetworkError:"Connection error. Please try again later"},H6="Logout",q6="What do you want to record today?",K6="Managing your finances is the first step to freedom.",G6="No transactions yet. Add your first one!",Q6="Your Transactions",Y6="Search transactions...",X6="Type",J6="Amount ()",Z6="Date",e5="Description",t5="Category",n5="Cancel",r5="Add",i5="Are you sure you want to delete this transaction? This action cannot be undone.",s5="Edit",o5="Save",a5="Actions",l5="No data available.",u5="Loading...",c5="An error occurred.",h5={title:"Create Account",subtitle:"Start your financial journey",username:"Username",usernamePlaceholder:"choose a username",usernameHelp:"Min. 3 characters",usernameMin:"Min. 3 characters",email:"Email",emailPlaceholder:"your email",password:"Password",passwordPlaceholder:"create a password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"repeat your password",registerButton:"Create Account",haveAccount:"Already have an account?",loginNow:"Login now",backToHome:"Back to Home"},d5={title:"Welcome back!",subtitle:"Sign in to your account",usernameOrEmail:"Username or Email",usernameOrEmailPlaceholder:"username or email",usernameOrEmailHelp:"Enter your registration email to sign in",password:"Password",passwordPlaceholder:"enter your password",loginButton:"Login",noAccount:"Don't have an account?",registerNow:"Register now",backToHome:"Back to Home"},f5="Are you sure you want to logout?",p5={title:"Dashboard",addTransaction:"Add Transaction",motivationalQuotes:["Every euro saved is a euro earned.","The best investment is you.","Small steps, big results.","Managing your finances is the first step to freedom.","Don't count the cents, make them count!","Wealth is built one day at a time.","The future belongs to those who plan it.","Save today to live better tomorrow.","It's not how much you earn, but how much you save that counts.","Financial discipline is the key to success."]},m5={add:"Add Transaction",edit:"Edit Transaction",delete:"Delete Transaction",confirmDelete:"Are you sure you want to delete this transaction? This action cannot be undone.",empty:"No transactions yet. Add your first one!",amount:"Amount ()",date:"Date",description:"Description",category:"Category",type:"Transaction Type",income:"Income",expense:"Expense",addIncome:"Add Income",addExpense:"Add Expense",saveChanges:"Save Changes",cancel:"Cancel"},g5={dashboard:"Dashboard",transactions:"Transactions",analytics:"Analytics",profile:"Profile",logout:"Logout",register:"Register",backToHome:"Back to Home",demoExitConfirm:"You will exit demo mode and return to the landing page. Continue?"},y5={heroTitle:"Soldi Sotto",heroSubtitle:"Your personal finance under control. Manage income and expenses, view detailed statistics and make informed decisions for your financial future.",tryDemo:"Try Free Demo",register:"Register Free",login:"Login",mainFeatures:"Main Features",startToday:"Start Today",chooseHowToStart:"Choose how to start your journey to financial freedom",demo:"Free Demo",premium:"Full Account",free:"Free",demoFeatures:[" Up to 10 demo transactions"," All basic features"," View statistics"," No registration required"],premiumFeatures:[" Unlimited transactions"," Advanced PDF export"," Detailed statistics"," Secure cloud backup"," Priority support"],ctaTitle:"Ready to Take Control of Your Finances?",ctaSubtitle:"Join thousands of users who have already transformed their financial management"},v5={title:"Financial Overview",totalIncome:"Total Income",totalExpense:"Total Expense",balance:"Balance",totalTransactions:"total transactions"},_5={title:"Analytics & Insights",subtitle:"Analyze your financial habits and discover hidden patterns",thisMonth:"This month",lastMonth:"Last month",last3Months:"Last 3 months",thisYear:"This year",custom:"Custom...",from:"From",to:"to",demoMode:"Demo Mode Active",demoDescription:"Viewing demo analytics with {{current}}/{{max}} transactions. Register for complete and historical analytics!",totalIncome:"Total Income",totalExpense:"Total Expense",balance:"Balance",savingsRate:"Savings Rate",topExpenseCategories:"Top Expense Categories",topIncomeCategories:"Top Income Categories",ofTotal:"of total",noExpenseData:"No expenses in selected period",noIncomeData:"No income in selected period",monthlyTrend:"Last 6 Months Trend",insufficientData:"Insufficient data to show trend",avgDailyExpense:"Average Daily Expense",avgTransaction:"Average Transaction",avgTransactionDescription:"Average amount per transaction",totalTransactions:"Total Transactions",inSelectedPeriod:"In selected period"},w5={editTitle:"Edit Transaction",newTitle:"New Transaction",editSubtitle:"Modify transaction details",newSubtitle:"Quickly add a new transaction",type:"Transaction Type",expense:"Expense",income:"Income",amount:"Amount ()",amountPlaceholder:"0.00",date:"Date",description:"Description",descriptionPlaceholder:"E.g. Grocery shopping, Salary...",category:"Category",selectCategory:"Select a category",cancel:"Cancel",saving:"Saving...",adding:"Adding...",saveChanges:"Save Changes",addButton:"Add {{type}}"},E5={title:"Your transactions",loadingTransactions:"Loading transactions...",accessRequired:"Access required",loginRequired:"Please login to view your transactions",today:"Today",yesterday:"Yesterday",of:"of",demoMode:"Demo Mode",transactions:"transactions",deleteConfirm:"Delete Permanently",filters:{label:"Filters",show:"Show Filters",hide:"Hide Filters",today:"Today",week:"Week",month:"Month",year:"Year",all:"All",allTypes:"All"},empty:{title:"No transactions found",tryFilters:"Try modifying your search filters",addFirst:"Start by adding your first transaction"}},T5={alimentazione:"Food",supermercato:"Groceries",trasporti:"Transportation",casa:"Home",intrattenimento:"Entertainment",abbonamenti:"Subscriptions",salute:"Health",viaggi:"Travel",shopping:"Shopping",altro:"Other",stipendio:"Salary",bonus:"Bonus",regalo:"Gift",vendite:"Sales",rimborso:"Refund",freelance:"Freelance",investimenti:"Investments"},S5={modalityActive:"Demo Mode Active",transactionsUsed:"You have used {{used}}/{{total}} demo transactions.",registerForComplete:"Register for complete functionality",limitReached:"You have reached the limit of {{limit}} transactions in demo mode. Register for complete functionality!",transactionAdded:"Transaction added in demo mode!",transactionUpdated:"Transaction updated!",transactionDeleted:"Transaction deleted!",allTransactionsCleared:"All demo transactions have been removed!",sampleSalary:"Salary",sampleGroceries:"Groceries",sampleFuel:"Fuel",sampleTransactionsAdded:"Sample transactions have been added!"},I5={addSuccess:"Transaction added successfully!",addError:"Error adding transaction",updateSuccess:"Transaction updated successfully!",updateError:"Error updating transaction",deleteSuccess:"Transaction deleted successfully!",deleteError:"Error deleting transaction",success:"Success",warning:"Warning",info:"Info"},P5={appName:V6,welcome:M6,addTransaction:F6,quickActions:U6,recentTransactions:j6,income:B6,expense:z6,manageAll:$6,profile:W6,logout:H6,whatToRegister:q6,motivationalQuote:K6,noTransactions:G6,yourTransactions:Q6,searchTransactions:Y6,type:X6,amount:J6,date:Z6,description:e5,category:t5,cancel:n5,add:r5,delete:"Delete",confirmDelete:i5,edit:s5,save:o5,actions:a5,emptyState:l5,loading:u5,error:c5,register:h5,login:d5,logoutConfirm:f5,dashboard:p5,transaction:m5,navbar:g5,landing:y5,financialOverview:v5,analytics:_5,transactionModal:w5,transactions:E5,categories:T5,demo:S5,notifications:I5},C5="SoldiSotto",A5="Ciao, {{name}}!",x5="Aggiungi Transazione",R5="Azioni Rapide",k5={title:"Transazioni Recenti",viewAll:"Vedi tutte",manageAll:"Gestisci tutte le transazioni",emptyTitle:"Nessuna transazione ancora",emptyDescription:"Inizia aggiungendo la tua prima transazione per vedere il riepilogo qui.",addFirst:"Aggiungi la prima transazione"},b5="Entrata",D5="Spesa",N5="Gestisci Tutto",L5={statsTitle:"Le Tue Statistiche",settingsTitle:"Impostazioni",theme:"Apparenza",themeLight:"Chiaro",themeDark:"Scuro",themeSystem:"Sistema",currentTheme:"Tema attuale",language:"Lingua",currentLanguage:"Lingua attuale",username:"Nome Utente",edit:"Modifica",currentUsername:"Username attuale",totalTransactions:"Transazioni Totali",currentBalance:"Saldo Attuale",daysActive:"Giorni Attivi",days:"giorni",user:"Utente",registeredOn:"Registrato il",dateNotAvailable:"Data non disponibile",account:"Account",accountInfo:"Le tue impostazioni vengono salvate automaticamente. I tuoi dati sono protetti con crittografia end-to-end.",backToDashboard:"Torna alla Dashboard",editUsername:"Modifica Username",newUsername:"Nuovo Username",usernamePlaceholder:"Inserisci il nuovo username",usernameHelp:"L'username deve essere di almeno 3 caratteri e sar verificata la disponibilit",updating:"Aggiornamento...",usernameMinLength:"L'username deve essere di almeno 3 caratteri",usernameSame:"L'username  uguale a quello attuale",usernameConfirm:`Sei sicuro di voler cambiare il tuo username da "{{currentUsername}}" a "{{newUsername}}"?

Questa azione non pu essere annullata.`,usernameUnavailable:"Username gi in uso",usernameSuccess:"Username aggiornato con successo!",usernameError:"Errore nell'aggiornamento dell'username",usernamePermissionError:"Permessi insufficienti per aggiornare l'username",usernameNetworkError:"Errore di connessione. Riprova pi tardi"},O5="Logout",V5="Cosa vuoi registrare oggi?",M5="Gestire le tue finanze  il primo passo verso la libert.",F5="Nessuna transazione ancora. Aggiungi la prima!",U5="Le tue transazioni",j5="Cerca transazioni...",B5="Tipo",z5="Importo ()",$5="Data",W5="Descrizione",H5="Categoria",q5="Annulla",K5="Aggiungi",G5="Sei sicuro di voler eliminare questa transazione? Questa azione non pu essere annullata.",Q5="Modifica",Y5="Salva",X5="Azioni",J5="Nessun dato disponibile.",Z5="Caricamento...",ej="Si  verificato un errore.",tj={title:"Crea Account",subtitle:"Inizia il tuo viaggio finanziario",username:"Username",usernamePlaceholder:"scegli un username",usernameHelp:"Min. 3 caratteri",usernameMin:"Min. 3 caratteri",email:"Email",emailPlaceholder:"la tua email",password:"Password",passwordPlaceholder:"crea una password",confirmPassword:"Conferma Password",confirmPasswordPlaceholder:"ripeti la password",registerButton:"Crea Account",haveAccount:"Hai gi un account?",loginNow:"Accedi ora",backToHome:"Torna alla Home"},nj={title:"Bentornato!",subtitle:"Accedi con il tuo account",usernameOrEmail:"Username o Email",usernameOrEmailPlaceholder:"username o email",usernameOrEmailHelp:"Inserisci la email di registrazione per accedere",password:"Password",passwordPlaceholder:"inserisci la tua password",loginButton:"Accedi",noAccount:"Non hai un account?",registerNow:"Registrati ora",backToHome:"Torna alla Home"},rj="Sei sicuro di voler uscire?",ij={title:"Dashboard",addTransaction:"Aggiungi Transazione",motivationalQuotes:["Ogni euro risparmiato  un euro guadagnato.","Il miglior investimento sei tu.","Piccoli passi, grandi risultati.","Gestire le tue finanze  il primo passo verso la libert.","Non contare i centesimi, falli contare!","La ricchezza si costruisce un giorno alla volta.","Il futuro appartiene a chi lo pianifica.","Risparmiare oggi per vivere meglio domani.","Non  quanto guadagni, ma quanto risparmi che conta.","La disciplina finanziaria  la chiave del successo."]},sj={add:"Aggiungi Transazione",edit:"Modifica Transazione",delete:"Elimina Transazione",confirmDelete:"Sei sicuro di voler eliminare questa transazione? Questa azione non pu essere annullata.",empty:"Nessuna transazione ancora. Aggiungi la prima!",amount:"Importo ()",date:"Data",description:"Descrizione",category:"Categoria",type:"Tipo di Transazione",income:"Entrata",expense:"Spesa",addIncome:"Aggiungi Entrata",addExpense:"Aggiungi Spesa",saveChanges:"Salva Modifiche",cancel:"Annulla"},oj={dashboard:"Dashboard",transactions:"Transazioni",analytics:"Analytics",profile:"Profilo",logout:"Logout",register:"Registrati",backToHome:"Torna alla Home",demoExitConfirm:"Uscirai dalla modalit demo e tornerai alla pagina iniziale. Continuare?"},aj={heroTitle:"Soldi Sotto",heroSubtitle:"La tua finanza personale sotto controllo. Gestisci entrate e uscite, visualizza statistiche dettagliate e prendi decisioni informate per il tuo futuro finanziario.",tryDemo:"Prova Demo Gratuita",register:"Registrati Gratis",login:"Accedi",mainFeatures:"Funzionalit Principali",startToday:"Inizia Oggi Stesso",chooseHowToStart:"Scegli come iniziare il tuo viaggio verso la libert finanziaria",demo:"Demo Gratuita",premium:"Account Completo",free:"Gratis",demoFeatures:[" Fino a 10 transazioni demo"," Tutte le funzionalit base"," Visualizzazione statistiche"," Nessuna registrazione richiesta"],premiumFeatures:[" Transazioni illimitate"," Export PDF avanzato"," Statistiche dettagliate"," Backup cloud sicuro"," Supporto prioritario"],ctaTitle:"Pronto a Prendere il Controllo delle Tue Finanze?",ctaSubtitle:"Unisciti a migliaia di utenti che hanno gi trasformato la loro gestione finanziaria"},lj={title:"Panoramica Finanziaria",totalIncome:"Entrate Totali",totalExpense:"Uscite Totali",balance:"Bilancio",totalTransactions:"transazioni totali"},uj={title:"Statistiche & Approfondimenti",subtitle:"Analizza le tue abitudini finanziarie e scopri pattern nascosti",thisMonth:"Questo mese",lastMonth:"Mese scorso",last3Months:"Ultimi tre mesi",thisYear:"Quest'anno",custom:"Personalizzato...",from:"Dal",to:"al",demoMode:"Modalit Demo Attiva",demoDescription:"Visualizzi statistiche demo con {{current}}/{{max}} transazioni. Registrati per statistiche complete e storiche!",totalIncome:"Entrate Totali",totalExpense:"Uscite Totali",balance:"Bilancio",savingsRate:"Tasso Risparmio",topExpenseCategories:"Top Categorie Spesa",topIncomeCategories:"Top Categorie Entrata",ofTotal:"del totale",noExpenseData:"Nessuna spesa nel periodo selezionato",noIncomeData:"Nessuna entrata nel periodo selezionato",monthlyTrend:"Trend Ultimi 6 Mesi",insufficientData:"Dati insufficienti per mostrare il trend",avgDailyExpense:"Spesa Media Giornaliera",avgTransaction:"Transazione Media",avgTransactionDescription:"Importo medio per transazione",totalTransactions:"Transazioni Totali",inSelectedPeriod:"Nel periodo selezionato"},cj={editTitle:"Modifica Transazione",newTitle:"Nuova Transazione",editSubtitle:"Modifica i dettagli della transazione",newSubtitle:"Aggiungi velocemente una nuova transazione",type:"Tipo di Transazione",expense:"Spesa",income:"Entrata",amount:"Importo ()",amountPlaceholder:"0,00",date:"Data",description:"Descrizione",descriptionPlaceholder:"Es. Spesa alimentare, Stipendio...",category:"Categoria",selectCategory:"Seleziona una categoria",cancel:"Annulla",saving:"Salvando...",adding:"Aggiungendo...",saveChanges:"Salva Modifiche",addButton:"Aggiungi {{type}}"},hj={title:"Le tue transazioni",loadingTransactions:"Caricamento transazioni...",accessRequired:"Accesso richiesto",loginRequired:"Effettua il login per visualizzare le tue transazioni",today:"Oggi",yesterday:"Ieri",of:"di",demoMode:"Modalit Demo",transactions:"transazioni",deleteConfirm:"Elimina Definitivamente",filters:{label:"Filtri",show:"Mostra Filtri",hide:"Nascondi Filtri",today:"Oggi",week:"Settimana",month:"Mese",year:"Anno",all:"Tutto",allTypes:"Tutti"},empty:{title:"Nessuna transazione trovata",tryFilters:"Prova a modificare i filtri di ricerca",addFirst:"Inizia aggiungendo la tua prima transazione"}},dj={alimentazione:"Alimentazione",supermercato:"Spesa",trasporti:"Trasporti",casa:"Casa",intrattenimento:"Svago",abbonamenti:"Abbonamenti",salute:"Salute",viaggi:"Viaggi",shopping:"Shopping",altro:"Altro",stipendio:"Stipendio",bonus:"Bonus",regalo:"Regalo",vendite:"Vendite",rimborso:"Rimborso",freelance:"Freelance",investimenti:"Investimenti"},fj={modalityActive:"Modalit Demo Attiva",transactionsUsed:"Hai utilizzato {{used}}/{{total}} transazioni demo.",registerForComplete:"Registrati per funzionalit complete",limitReached:"Hai raggiunto il limite di {{limit}} transazioni nella modalit demo. Registrati per funzionalit complete!",transactionAdded:"Transazione aggiunta in modalit demo!",transactionUpdated:"Transazione aggiornata!",transactionDeleted:"Transazione eliminata!",allTransactionsCleared:"Tutte le transazioni demo sono state rimosse!",sampleSalary:"Stipendio",sampleGroceries:"Spesa alimentare",sampleFuel:"Benzina",sampleTransactionsAdded:"Sono state aggiunte alcune transazioni di esempio!"},pj={addSuccess:"Transazione aggiunta con successo!",addError:"Errore nell'aggiunta della transazione",updateSuccess:"Transazione aggiornata con successo!",updateError:"Errore nell'aggiornamento della transazione",deleteSuccess:"Transazione eliminata con successo!",deleteError:"Errore nell'eliminazione della transazione",success:"Successo",warning:"Attenzione",info:"Informazione"},mj={appName:C5,welcome:A5,addTransaction:x5,quickActions:R5,recentTransactions:k5,income:b5,expense:D5,manageAll:N5,profile:L5,logout:O5,whatToRegister:V5,motivationalQuote:M5,noTransactions:F5,yourTransactions:U5,searchTransactions:j5,type:B5,amount:z5,date:$5,description:W5,category:H5,cancel:q5,add:K5,delete:"Elimina",confirmDelete:G5,edit:Q5,save:Y5,actions:X5,emptyState:J5,loading:Z5,error:ej,register:tj,login:nj,logoutConfirm:rj,dashboard:ij,transaction:sj,navbar:oj,landing:aj,financialOverview:lj,analytics:uj,transactionModal:cj,transactions:hj,categories:dj,demo:fj,notifications:pj},gj={en:{translation:P5},it:{translation:mj}};en.use(QC).use(kO).init({resources:gj,fallbackLng:"it",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});lx.createRoot(document.getElementById("root")).render(J.jsx(oy,{children:J.jsx(cy,{children:J.jsx(OV,{basename:"/soldi-sotto",children:J.jsx(t6,{})})})}));export{BU as $,Xj as A,cO as B,qj as C,c9 as D,$I as E,Fj as F,i9 as G,Hj as H,u9 as I,BC as J,Oj as K,cP as L,hP as M,Uj as N,Vj as O,Ae as P,zj as Q,an as R,xL as S,sP as T,vj as U,Wj as V,e9 as W,o9 as X,Kj as Y,ST as Z,hi as _,oO as a,p9 as a0,$j as a1,Cj as a2,Sj as a3,IL as a4,KL as a5,OL as a6,PI as a7,qL as a8,Jl as a9,Tj as aA,zw as aB,Ej as aC,RI as aD,bL as aE,yj as aF,Oa as aG,AI as aa,Dj as ab,ay as ac,rO as ad,bj as ae,mO as af,QL as ag,kI as ah,GL as ai,ZL as aj,DI as ak,n9 as al,f9 as am,Zj as an,l9 as ao,jj as ap,Bj as aq,Yj as ar,a9 as as,Rj as at,kj as au,Mj as av,Jj as aw,Gj as ax,Qj as ay,Gp as az,Wd as b,ui as c,uP as d,Hu as e,Oh as f,d9 as g,h9 as h,co as i,J as j,uy as k,r9 as l,NU as m,$C as n,t9 as o,Pj as p,Fm as q,D as r,Lh as s,lM as t,ho as u,my as v,uM as w,cM as x,ly as y,s9 as z};
