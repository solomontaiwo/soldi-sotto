import{r as N,u as be,j as e,c as de,R as fe,k as ye,d as ve,e as je,g as K,h as Z,D as ee,E as Ne,m as F,G as we,o as ae,H as Y,I as ze,J as Me,K as ke}from"./index-BsuRMmVW.js";import{f as v,S as $}from"./formatCurrency-ChWFhNJW.js";import{u as Ce}from"./categories-DbXDQrsJ.js";import{t as O,c as te,n as Pe,f as se,h as X,i as T,j as R,k as De,a as S,e as E,b as We,d as Fe,g as Te}from"./format-CrPPGQr8.js";import{m as Re,F as B}from"./Form-DB0IUDCf.js";import{A as ne}from"./Alert-DtdB1iiJ.js";import{R as _}from"./Row-6nD61_uA.js";import{C}from"./Col-BeTjwsmv.js";import{C as h}from"./Card-CaYL-2DM.js";import"./hook-CweEDvEt.js";import"./useEventCallback-CuFq5ihd.js";const re=1e3;function Se(t,r,i){const n=(t-r)/(i-r)*100;return Math.round(n*re)/re}function ie({min:t,now:r,max:i,label:n,visuallyHidden:d,striped:x,animated:f,className:g,style:P,variant:y,bsPrefix:j,...l},D){return e.jsx("div",{ref:D,...l,role:"progressbar",className:de(g,`${j}-bar`,{[`bg-${y}`]:y,[`${j}-bar-animated`]:f,[`${j}-bar-striped`]:f||x}),style:{width:`${Se(r,t,i)}%`,...P},"aria-valuenow":r,"aria-valuemin":t,"aria-valuemax":i,children:d?e.jsx("span",{className:"visually-hidden",children:n}):n})}const q=N.forwardRef(({isChild:t=!1,...r},i)=>{const n={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...r};if(n.bsPrefix=be(n.bsPrefix,"progress"),t)return ie(n,i);const{min:d,now:x,max:f,label:g,visuallyHidden:P,striped:y,animated:j,bsPrefix:l,variant:D,className:o,children:A,...H}=n;return e.jsx("div",{ref:i,...H,className:de(o,l),children:A?Re(A,a=>N.cloneElement(a,{isChild:!0})):ie({min:d,now:x,max:f,label:g,visuallyHidden:P,striped:y,animated:j,bsPrefix:l,variant:D},i)})});q.displayName="ProgressBar";function Ee(t,r,i){const n=O(t,i?.in);if(isNaN(r))return te(t,NaN);if(!r)return n;const d=n.getDate(),x=te(t,n.getTime());x.setMonth(n.getMonth()+r+1,0);const f=x.getDate();return d>=f?x:(n.setFullYear(x.getFullYear(),x.getMonth(),d),n)}function oe(t,r,i){const[n,d]=Pe(i?.in,t,r);return+se(n,i)==+se(d,i)}function le(t,r,i){const n=+O(t,i?.in),[d,x]=[+O(r.start,i?.in),+O(r.end,i?.in)].sort((f,g)=>f-g);return n>=d&&n<=x}function I(t,r,i){return Ee(t,-r,i)}const Be={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"piÃ¹ di un anno",other:"piÃ¹ di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},Ae=(t,r,i)=>{let n;const d=Be[t];return typeof d=="string"?n=d:r===1?n=d.one:n=d.other.replace("{{count}}",r.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"tra "+n:n+" fa":n},He={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Ie={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Oe={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Le={date:X({formats:He,defaultWidth:"full"}),time:X({formats:Ie,defaultWidth:"full"}),dateTime:X({formats:Oe,defaultWidth:"full"})},G=["domenica","lunedÃ¬","martedÃ¬","mercoledÃ¬","giovedÃ¬","venerdÃ¬","sabato"];function Ve(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+G[t]+" scorso alle' p"}}function ce(t){return"'"+G[t]+" alle' p"}function Ye(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+G[t]+" prossimo alle' p"}}const $e={lastWeek:(t,r,i)=>{const n=t.getDay();return oe(t,r,i)?ce(n):Ve(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(t,r,i)=>{const n=t.getDay();return oe(t,r,i)?ce(n):Ye(n)},other:"P"},Xe=(t,r,i,n)=>{const d=$e[t];return typeof d=="function"?d(r,i,n):d},_e={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},qe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1Âº trimestre","2Âº trimestre","3Âº trimestre","4Âº trimestre"]},Ge={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},Ue={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","lunedÃ¬","martedÃ¬","mercoledÃ¬","giovedÃ¬","venerdÃ¬","sabato"]},Qe={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},Je={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},Ke=(t,r)=>{const i=Number(t);return String(i)},Ze={ordinalNumber:Ke,era:T({values:_e,defaultWidth:"wide"}),quarter:T({values:qe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:T({values:Ge,defaultWidth:"wide"}),day:T({values:Ue,defaultWidth:"wide"}),dayPeriod:T({values:Qe,defaultWidth:"wide",formattingValues:Je,defaultFormattingWidth:"wide"})},ea=/^(\d+)(Âº)?/i,aa=/\d+/i,ta={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},sa={any:[/^a/i,/^(d|e)/i]},na={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](Âº)? trimestre/i},ra={any:[/1/i,/2/i,/3/i,/4/i]},ia={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},oa={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},la={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|Ã¬]|marted[i|Ã¬]|mercoled[i|Ã¬]|gioved[i|Ã¬]|venerd[i|Ã¬]|sabato)/i},ca={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},da={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},ma={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},ua={ordinalNumber:De({matchPattern:ea,parsePattern:aa,valueCallback:t=>parseInt(t,10)}),era:R({matchPatterns:ta,defaultMatchWidth:"wide",parsePatterns:sa,defaultParseWidth:"any"}),quarter:R({matchPatterns:na,defaultMatchWidth:"wide",parsePatterns:ra,defaultParseWidth:"any",valueCallback:t=>t+1}),month:R({matchPatterns:ia,defaultMatchWidth:"wide",parsePatterns:oa,defaultParseWidth:"any"}),day:R({matchPatterns:la,defaultMatchWidth:"wide",parsePatterns:ca,defaultParseWidth:"any"}),dayPeriod:R({matchPatterns:da,defaultMatchWidth:"any",parsePatterns:ma,defaultParseWidth:"any"})},xa={code:"it",formatDistance:Ae,formatLong:Le,formatRelative:Xe,localize:Ze,match:ua,options:{weekStartsOn:1,firstWeekContainsDate:4}},ha=()=>{const{isDemo:t,transactions:r,maxTransactions:i,loading:n}=ye(),{expenseCategories:d,incomeCategories:x}=Ce(),f=ve({maxWidth:768}),[g,P]=N.useState("month"),[y,j]=N.useState({from:"",to:""}),[l,D]=N.useState({}),{t:o}=je(),A=N.useMemo(()=>[{title:o("analytics.totalIncome"),value:l.totalIncome||0,icon:e.jsx(K,{size:24}),color:"var(--accent-success)",bgColor:"var(--pastel-mint)",formatter:v},{title:o("analytics.totalExpense"),value:l.totalExpense||0,icon:e.jsx(Z,{size:24}),color:"var(--accent-error)",bgColor:"var(--pastel-coral)",formatter:v},{title:o("analytics.balance"),value:l.balance||0,icon:e.jsx(ee,{size:24}),color:l.balance>=0?"var(--accent-success)":"var(--accent-error)",bgColor:l.balance>=0?"var(--pastel-mint)":"var(--pastel-coral)",formatter:v},{title:o("analytics.savingsRate"),value:l.savingsRate||0,icon:e.jsx(Ne,{size:24}),color:l.savingsRate>=20?"var(--accent-success)":l.savingsRate>=10?"var(--accent-warning)":"var(--accent-error)",bgColor:l.savingsRate>=20?"var(--pastel-mint)":l.savingsRate>=10?"var(--pastel-cream)":"var(--pastel-coral)",formatter:a=>`${a.toFixed(1)}%`}],[l,o]),H=N.useMemo(()=>{if(!r.length)return{};const a=new Date;let c,u;switch(g){case"thisMonth":c=S(a),u=E(a);break;case"lastMonth":{const s=I(a,1);c=S(s),u=E(s);break}case"thisYear":case"year":c=We(a),u=Fe(a);break;case"last3Months":c=S(I(a,2)),u=E(a);break;case"custom":c=new Date(y.from),u=new Date(y.to);break;default:c=S(a),u=E(a)}const w=r.filter(s=>{const m=s.date.toDate?s.date.toDate():new Date(s.date);return le(m,{start:c,end:u})}),z=w.filter(s=>s.type==="income").reduce((s,m)=>s+m.amount,0),M=w.filter(s=>s.type==="expense").reduce((s,m)=>s+m.amount,0),me=z-M,L={},V={};w.forEach(s=>{s.type==="expense"?L[s.category]=(L[s.category]||0)+s.amount:V[s.category]=(V[s.category]||0)+s.amount});const ue=Object.entries(L).sort(([,s],[,m])=>m-s).slice(0,5).map(([s,m])=>{const p=d.find(k=>k.value===s);return{category:s,amount:m,percentage:M>0?m/M*100:0,label:p?p.label:s,emoji:p?p.label.split(" ")[0]:"ðŸ’¸"}}),xe=Object.entries(V).sort(([,s],[,m])=>m-s).slice(0,5).map(([s,m])=>{const p=x.find(k=>k.value===s);return{category:s,amount:m,percentage:z>0?m/z*100:0,label:p?p.label:s,emoji:p?p.label.split(" ")[0]:"ðŸ’°"}}),U=[];for(let s=5;s>=0;s--){const m=S(I(a,s)),p=E(I(a,s)),k=r.filter(b=>{const W=b.date.toDate?b.date.toDate():new Date(b.date);return le(W,{start:m,end:p})}),Q=k.filter(b=>b.type==="income").reduce((b,W)=>b+W.amount,0),J=k.filter(b=>b.type==="expense").reduce((b,W)=>b+W.amount,0);U.push({month:Te(m,"MMM yyyy",{locale:xa}),income:Q,expense:J,balance:Q-J})}const he=z>0?(z-M)/z*100:0,ge=M/Math.max(1,(u-c)/(1e3*60*60*24)),pe=w.length>0?w.reduce((s,m)=>s+m.amount,0)/w.length:0;return{totalIncome:z,totalExpense:M,balance:me,savingsRate:he,avgDailyExpense:ge,avgTransactionAmount:pe,topExpenseCategories:ue,topIncomeCategories:xe,monthlyTrend:U,transactionCount:w.length,periodLabel:g,startDate:c,endDate:u}},[r,g,d,x,y]);return N.useEffect(()=>{D(H)},[H]),n?e.jsxs("div",{className:"container py-4",children:[e.jsx("div",{className:"row g-4 mb-4",children:[...Array(3)].map((a,c)=>e.jsx("div",{className:"col-12 col-md-4",children:e.jsx($,{height:90,borderRadius:18})},c))}),e.jsx("div",{className:"mb-4",children:e.jsx($,{height:260,borderRadius:24})}),e.jsx("div",{className:"row g-4",children:[...Array(2)].map((a,c)=>e.jsx("div",{className:"col-12 col-md-6",children:e.jsx($,{height:180,borderRadius:18})},c))})]}):e.jsxs("div",{style:{padding:f?"1rem":"2rem",maxWidth:"1200px",margin:"0 auto",minHeight:"100vh",color:"var(--text-primary)"},children:[e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-dark fw-bold mb-2 d-flex align-items-center gap-2",children:[e.jsx(we,{size:28}),o("analytics.title")]}),e.jsx("p",{className:"text-muted mb-0",children:o("analytics.subtitle")})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(B.Select,{value:g,onChange:a=>P(a.target.value),style:{maxWidth:200,display:"inline-block"},children:[e.jsx("option",{value:"month",children:o("analytics.thisMonth")}),e.jsx("option",{value:"lastMonth",children:o("analytics.lastMonth")}),e.jsx("option",{value:"last3Months",children:o("analytics.last3Months")}),e.jsx("option",{value:"year",children:o("analytics.thisYear")}),e.jsx("option",{value:"custom",children:o("analytics.custom")})]}),g==="custom"&&e.jsxs("div",{className:"d-inline-flex align-items-center gap-2 ms-3",children:[e.jsx(B.Label,{className:"mb-0 small",children:o("analytics.from")}),e.jsx(B.Control,{type:"date",size:"sm",value:y.from,onChange:a=>j(c=>({...c,from:a.target.value})),style:{minWidth:120}}),e.jsx(B.Label,{className:"mb-0 small",children:o("analytics.to")}),e.jsx(B.Control,{type:"date",size:"sm",value:y.to,onChange:a=>j(c=>({...c,to:a.target.value})),style:{minWidth:120}})]})]})]}),t&&e.jsxs(ne,{variant:"info",className:"border-0 mb-4",style:{borderRadius:"2rem",backgroundColor:"rgba(13, 202, 240, 0.1)",border:"1px solid rgba(13, 202, 240, 0.2)"},children:[e.jsxs(ne.Heading,{className:"h6 fw-bold text-info",children:["ðŸŽ¯ ",o("analytics.demoMode")]}),e.jsx("p",{className:"mb-0",children:o("analytics.demoDescription",{current:r.length,max:i})})]})]}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-5",children:e.jsx(_,{className:"g-4",children:A.map((a,c)=>e.jsx(C,{xs:12,sm:6,lg:3,children:e.jsx(h,{className:"mb-4 shadow-sm glass-card analytics-glass",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.92) 0%, rgba(245,245,255,0.82) 100%)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",border:"1.5px solid rgba(255,255,255,0.35)",boxShadow:"0 8px 32px rgba(0,0,0,0.10)",borderRadius:"22px",transition:"transform 0.18s cubic-bezier(.4,2,.6,1), box-shadow 0.18s cubic-bezier(.4,2,.6,1)"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-2px) scale(1.025)",u.currentTarget.style.boxShadow="0 12px 36px rgba(59,130,246,0.13)"},onMouseLeave:u=>{u.currentTarget.style.transform="none",u.currentTarget.style.boxShadow="0 8px 32px rgba(0,0,0,0.10)"},children:e.jsxs(h.Body,{className:"p-4 text-center",children:[e.jsx("div",{className:"rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px",backgroundColor:a.color+"20",color:a.color},children:a.icon}),e.jsx("h5",{className:"fw-bold text-dark mb-1",children:a.formatter(a.value)}),e.jsx("p",{className:"text-muted small mb-0",children:a.title})]})})},c))})}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-5",children:e.jsxs(_,{className:"g-4",children:[e.jsx(C,{xs:12,lg:6,children:e.jsx(h,{className:"h-100 border-0 shadow-sm glass-card",style:{borderRadius:"2rem",background:"rgba(255,255,255,0.04)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",border:"1px solid rgba(255,255,255,0.08)"},children:e.jsxs(h.Body,{className:"p-4",children:[e.jsxs("h5",{className:"fw-bold text-dark mb-4 d-flex align-items-center gap-2",children:[e.jsx(Z,{className:"text-danger",size:20}),o("analytics.topExpenseCategories")]}),l.topExpenseCategories?.length>0?e.jsx("div",{className:"d-flex flex-column gap-3",children:l.topExpenseCategories.map((a,c)=>e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("div",{className:"text-center",style:{minWidth:"40px"},children:e.jsx("div",{style:{fontSize:"24px"},children:a.emoji})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("span",{className:"fw-medium text-dark",children:a.label}),e.jsx("span",{className:"text-danger fw-bold",children:v(a.amount)})]}),e.jsx(q,{now:a.percentage,style:{height:"6px",borderRadius:"3px"},className:"mb-1"}),e.jsxs("small",{className:"text-muted",children:[a.percentage.toFixed(1),"% ",o("analytics.ofTotal")]})]})]},c))}):e.jsxs("div",{className:"text-center py-4 text-muted",children:[e.jsx(ae,{size:48,className:"mb-3 opacity-50"}),e.jsx("p",{children:o("analytics.noExpenseData")})]})]})})}),e.jsx(C,{xs:12,lg:6,children:e.jsx(h,{className:"h-100 border-0 shadow-sm glass-card",style:{borderRadius:"2rem",background:"rgba(255,255,255,0.04)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",border:"1px solid rgba(255,255,255,0.08)"},children:e.jsxs(h.Body,{className:"p-4",children:[e.jsxs("h5",{className:"fw-bold text-dark mb-4 d-flex align-items-center gap-2",children:[e.jsx(K,{className:"text-success",size:20}),o("analytics.topIncomeCategories")]}),l.topIncomeCategories?.length>0?e.jsx("div",{className:"d-flex flex-column gap-3",children:l.topIncomeCategories.map((a,c)=>e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("div",{className:"text-center",style:{minWidth:"40px"},children:e.jsx("div",{style:{fontSize:"24px"},children:a.emoji})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("span",{className:"fw-medium text-dark",children:a.label}),e.jsx("span",{className:"text-success fw-bold",children:v(a.amount)})]}),e.jsx(q,{now:a.percentage,variant:"success",style:{height:"6px",borderRadius:"3px"},className:"mb-1"}),e.jsxs("small",{className:"text-muted",children:[a.percentage.toFixed(1),"% ",o("analytics.ofTotal")]})]})]},c))}):e.jsxs("div",{className:"text-center py-4 text-muted",children:[e.jsx(ae,{size:48,className:"mb-3 opacity-50"}),e.jsx("p",{children:o("analytics.noIncomeData")})]})]})})})]})}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-5",children:e.jsx(h,{className:"border-0 shadow-sm glass-card",style:{borderRadius:"2rem",background:"rgba(255,255,255,0.04)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",border:"1px solid rgba(255,255,255,0.08)"},children:e.jsxs(h.Body,{className:"p-4",children:[e.jsxs("h5",{className:"fw-bold text-dark mb-4 d-flex align-items-center gap-2",children:[e.jsx(Y,{className:"text-primary",size:20}),o("analytics.monthlyTrend")]}),l.monthlyTrend?.length>0?e.jsx("div",{className:"row g-2",children:l.monthlyTrend.map((a,c)=>e.jsx("div",{className:"col-6 col-md-4 col-lg-2",children:e.jsxs("div",{className:"text-center p-3 rounded-3",style:{backgroundColor:a.balance>=0?"var(--pastel-mint)":"var(--pastel-coral)",border:`1px solid ${a.balance>=0?"var(--accent-success)":"var(--accent-error)"}20`},children:[e.jsx("div",{className:"fw-bold text-dark small mb-1",children:a.month}),e.jsxs("div",{className:"d-flex align-items-center justify-content-center gap-1 mb-1",children:[e.jsx(ze,{size:12,className:"text-success"}),e.jsx("small",{className:"text-success fw-medium",children:v(a.income)})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-center gap-1 mb-1",children:[e.jsx(Me,{size:12,className:"text-danger"}),e.jsx("small",{className:"text-danger fw-medium",children:v(a.expense)})]}),e.jsx("div",{className:`fw-bold small ${a.balance>=0?"text-success":"text-danger"}`,children:v(a.balance)})]})},c))}):e.jsxs("div",{className:"text-center py-4 text-muted",children:[e.jsx(Y,{size:48,className:"mb-3 opacity-50"}),e.jsx("p",{children:o("analytics.insufficientData")})]})]})})}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:e.jsxs(_,{className:"g-4",children:[e.jsx(C,{xs:12,md:4,children:e.jsx(h,{className:"h-100 border-0 shadow-sm glass-card",style:{borderRadius:"2rem",background:"rgba(255,255,255,0.04)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",border:"1px solid rgba(255,255,255,0.08)"},children:e.jsxs(h.Body,{className:"p-4 text-center",children:[e.jsx(ke,{className:"text-primary mb-3",size:32}),e.jsx("h5",{className:"fw-bold text-dark mb-2",children:o("analytics.avgDailyExpense")}),e.jsx("div",{className:"fw-bold text-primary",style:{fontSize:"1.5rem"},children:v(l.avgDailyExpense||0)}),e.jsx("small",{className:"text-muted",children:o("analytics.inSelectedPeriod")})]})})}),e.jsx(C,{xs:12,md:4,children:e.jsx(h,{className:"h-100 border-0 shadow-sm glass-card",style:{borderRadius:"2rem",background:"rgba(255,255,255,0.04)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",border:"1px solid rgba(255,255,255,0.08)"},children:e.jsxs(h.Body,{className:"p-4 text-center",children:[e.jsx(ee,{className:"text-warning mb-3",size:32}),e.jsx("h5",{className:"fw-bold text-dark mb-2",children:o("analytics.avgTransaction")}),e.jsx("div",{className:"fw-bold text-warning",style:{fontSize:"1.5rem"},children:v(l.avgTransactionAmount||0)}),e.jsx("small",{className:"text-muted",children:o("analytics.avgTransactionDescription")})]})})}),e.jsx(C,{xs:12,md:4,children:e.jsx(h,{className:"h-100 border-0 shadow-sm glass-card",style:{borderRadius:"2rem",background:"rgba(255,255,255,0.04)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",border:"1px solid rgba(255,255,255,0.08)"},children:e.jsxs(h.Body,{className:"p-4 text-center",children:[e.jsx(Y,{className:"text-info mb-3",size:32}),e.jsx("h5",{className:"fw-bold text-dark mb-2",children:o("analytics.totalTransactions")}),e.jsx("div",{className:"fw-bold text-info",style:{fontSize:"1.5rem"},children:l.transactionCount||0}),e.jsx("small",{className:"text-muted",children:o("analytics.inSelectedPeriod")})]})})})]})})]})},ka=fe.memo(ha);export{ka as default};
