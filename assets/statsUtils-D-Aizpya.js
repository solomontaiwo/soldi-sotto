import{j as W,w as $,P as E,R as g}from"./index-CKPR3vxF.js";function L({className:n,children:e,...t}){return W.jsx("select",{className:$("h-11 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",n),...t,children:e})}L.propTypes={className:E.string,children:E.node};const nt=(n,e="it-IT",t="EUR")=>n.toLocaleString(e,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}),U=g.createContext({}),I=!0;function R({baseColor:n,highlightColor:e,width:t,height:s,borderRadius:o,circle:r,direction:a,duration:l,enableAnimation:u=I,customHighlightBackground:d}){const c={};return a==="rtl"&&(c["--animation-direction"]="reverse"),typeof l=="number"&&(c["--animation-duration"]=`${l}s`),u||(c["--pseudo-element-display"]="none"),(typeof t=="string"||typeof t=="number")&&(c.width=t),(typeof s=="string"||typeof s=="number")&&(c.height=s),(typeof o=="string"||typeof o=="number")&&(c.borderRadius=o),r&&(c.borderRadius="50%"),typeof n<"u"&&(c["--base-color"]=n),typeof e<"u"&&(c["--highlight-color"]=e),typeof d=="string"&&(c["--custom-highlight-background"]=d),c}function st({count:n=1,wrapper:e,className:t,containerClassName:s,containerTestId:o,circle:r=!1,style:a,...l}){var u,d,c;const b=g.useContext(U),O={...l};for(const[y,m]of Object.entries(l))typeof m>"u"&&delete O[y];const h={...b,...O,circle:r},i={...a,...R(h)};let p="react-loading-skeleton";t&&(p+=` ${t}`);const A=(u=h.inline)!==null&&u!==void 0?u:!1,w=[],F=Math.ceil(n);for(let y=0;y<F;y++){let m=i;if(F>n&&y===F-1){const _=(d=m.width)!==null&&d!==void 0?d:"100%",Y=n%1,P=typeof _=="number"?_*Y:`calc(${_} * ${Y})`;m={...m,width:P}}const T=g.createElement("span",{className:p,style:m,key:y},"â€Œ");A?w.push(T):w.push(g.createElement(g.Fragment,{key:y},T,g.createElement("br",null)))}return g.createElement("span",{className:s,"data-testid":o,"aria-live":"polite","aria-busy":(c=h.enableAnimation)!==null&&c!==void 0?c:I},e?w.map((y,m)=>g.createElement(e,{key:m},y)):w)}const ot=6048e5,q=864e5,C=Symbol.for("constructDateFrom");function k(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&C in n?n[C](e):n instanceof Date?new n.constructor(e):new Date(e)}function f(n,e){return k(e||n,n)}function B(n,e,t){const s=f(n,t?.in);if(isNaN(e))return k(n,NaN);if(!e)return s;const o=s.getDate(),r=k(n,s.getTime());r.setMonth(s.getMonth()+e+1,0);const a=r.getDate();return o>=a?r:(s.setFullYear(r.getFullYear(),r.getMonth(),o),s)}let G={};function j(){return G}function J(n,e){const t=j(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,o=f(n,e?.in),r=o.getDay(),a=(r<s?7:0)+r-s;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function N(n){const e=f(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function x(n,...e){const t=k.bind(null,n||e.find(s=>typeof s=="object"));return e.map(t)}function M(n,e){const t=f(n,e?.in);return t.setHours(0,0,0,0),t}function K(n,e,t){const[s,o]=x(t?.in,n,e),r=M(s),a=M(o),l=+r-N(r),u=+a-N(a);return Math.round((l-u)/q)}function Q(n,e,t){const[s,o]=x(t?.in,n,e),r=v(s,o),a=Math.abs(K(s,o));s.setDate(s.getDate()-r*a);const l=+(v(s,o)===-r),u=r*(a-l);return u===0?0:u}function v(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function z(n,e){const t=f(n,e?.in);return t.setHours(23,59,59,999),t}function D(n,e){const t=f(n,e?.in),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function S(n,e){const t=f(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function V(n,e){const t=f(n,e?.in),s=t.getFullYear();return t.setFullYear(s+1,0,0),t.setHours(23,59,59,999),t}function X(n,e){const t=f(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Z(n,e){const t=j(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,o=f(n,e?.in),r=o.getDay(),a=(r<s?-7:0)+6-(r-s);return o.setDate(o.getDate()+a),o.setHours(23,59,59,999),o}function tt(n,e,t){const s=+f(n,t?.in),[o,r]=[+f(e.start,t?.in),+f(e.end,t?.in)].sort((a,l)=>a-l);return s>=o&&s<=r}function H(n,e,t){return B(n,-e,t)}const rt=(n,e)=>{const t=new Date;switch(n){case"weekly":return{start:J(t,{weekStartsOn:1}),end:Z(t,{weekStartsOn:1})};case"daily":return{start:M(t),end:z(t)};case"annually":case"year":case"thisYear":return{start:X(t),end:V(t)};case"lastMonth":{const s=H(t,1);return{start:S(s),end:D(s)}}case"last3Months":return{start:S(H(t,2)),end:D(t)};case"all":return{start:new Date(0),end:new Date};case"custom":return e?.from&&e?.to?{start:new Date(e.from),end:new Date(e.to)}:{start:S(t),end:D(t)};case"monthly":case"month":case"thisMonth":default:return{start:S(t),end:D(t)}}},at=(n=[],e,t)=>{const s=e?M(e):new Date(0),o=t?z(t):new Date;let r=0,a=0;const l={},u=[],d=[],c=n.filter(i=>i.date&&tt(i.date,{start:s,end:o}));c.forEach(i=>{i.type==="income"?(r+=i.amount,u.push({x:i.date,y:i.amount})):i.type==="expense"&&(a+=i.amount,d.push({x:i.date,y:i.amount}),i.category&&(l[i.category]=(l[i.category]||0)+i.amount))});const b=Q(o,s)+1,O=b?a/b:0,h=Object.entries(l).sort(([,i],[,p])=>p-i).slice(0,5).map(([i,p])=>({category:i,amount:p}));return{totalIncome:r,totalExpense:a,balance:r-a,dailyAverageExpense:O,transactionCount:c.length,categoryBreakdown:l,topCategories:h,incomeTrend:u,expenseTrend:d}};export{st as S,k as a,L as b,at as c,S as d,H as e,nt as f,rt as g,D as h,tt as i,X as j,V as k,J as l,Z as m,x as n,z as o,Q as p,K as q,ot as r,M as s,f as t,j as u};
