const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-B6b4y6L5.js","assets/TransactionModal-CkEp_t9B.js","assets/categories-Bt8gM9tX.js","assets/label-IlEHHpAK.js","assets/endOfWeek-CaI494tH.js","assets/endOfWeek-B4YDebE6.css","assets/card-BtzA1eOl.js","assets/formatCurrency-DQxE0pTn.js","assets/statsUtils-CRjRBkvC.js","assets/differenceInDays-CrAOT0Vj.js","assets/TransactionList-Dj_NxxAW.js","assets/format-BkesU4R5.js","assets/TransactionAnalytics-Bq1Gwhgb.js","assets/pdfUtils-D6sUmSJP.js","assets/Stats-BmG1EpPP.js","assets/loadingWrapper-D5WkEnA2.js","assets/Profile-Z_rLu0Hb.js","assets/Home-1qBXI4wH.js","assets/LandingPage-QQAIZZw2.js","assets/Login-BjrqMuD8.js","assets/Register-DHwwVwYf.js"])))=>i.map(i=>d[i]);
function DC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var C6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Su(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pp={exports:{}},Nl={},mp={exports:{}},De={};var j_;function NC(){if(j_)return De;j_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function C(F,Y,pe){this.props=F,this.context=Y,this.refs=k,this.updater=pe||S}C.prototype.isReactComponent={},C.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function z(){}z.prototype=C.prototype;function U(F,Y,pe){this.props=F,this.context=Y,this.refs=k,this.updater=pe||S}var W=U.prototype=new z;W.constructor=U,A(W,C.prototype),W.isPureReactComponent=!0;var K=Array.isArray,Q=Object.prototype.hasOwnProperty,re={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function P(F,Y,pe){var Re,be={},Me=null,$e=null;if(Y!=null)for(Re in Y.ref!==void 0&&($e=Y.ref),Y.key!==void 0&&(Me=""+Y.key),Y)Q.call(Y,Re)&&!D.hasOwnProperty(Re)&&(be[Re]=Y[Re]);var We=arguments.length-2;if(We===1)be.children=pe;else if(1<We){for(var Qe=Array(We),kt=0;kt<We;kt++)Qe[kt]=arguments[kt+2];be.children=Qe}if(F&&F.defaultProps)for(Re in We=F.defaultProps,We)be[Re]===void 0&&(be[Re]=We[Re]);return{$$typeof:n,type:F,key:Me,ref:$e,props:be,_owner:re.current}}function x(F,Y){return{$$typeof:n,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function M(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return Y[pe]})}var j=/\/+/g;function b(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):Y.toString(36)}function Ne(F,Y,pe,Re,be){var Me=typeof F;(Me==="undefined"||Me==="boolean")&&(F=null);var $e=!1;if(F===null)$e=!0;else switch(Me){case"string":case"number":$e=!0;break;case"object":switch(F.$$typeof){case n:case e:$e=!0}}if($e)return $e=F,be=be($e),F=Re===""?"."+b($e,0):Re,K(be)?(pe="",F!=null&&(pe=F.replace(j,"$&/")+"/"),Ne(be,Y,pe,"",function(kt){return kt})):be!=null&&(N(be)&&(be=x(be,pe+(!be.key||$e&&$e.key===be.key?"":(""+be.key).replace(j,"$&/")+"/")+F)),Y.push(be)),1;if($e=0,Re=Re===""?".":Re+":",K(F))for(var We=0;We<F.length;We++){Me=F[We];var Qe=Re+b(Me,We);$e+=Ne(Me,Y,pe,Qe,be)}else if(Qe=w(F),typeof Qe=="function")for(F=Qe.call(F),We=0;!(Me=F.next()).done;)Me=Me.value,Qe=Re+b(Me,We++),$e+=Ne(Me,Y,pe,Qe,be);else if(Me==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return $e}function yt(F,Y,pe){if(F==null)return F;var Re=[],be=0;return Ne(F,Re,"","",function(Me){return Y.call(pe,Me,be++)}),Re}function Ke(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var ve={current:null},ie={transition:null},fe={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:ie,ReactCurrentOwner:re};function ae(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:yt,forEach:function(F,Y,pe){yt(F,function(){Y.apply(this,arguments)},pe)},count:function(F){var Y=0;return yt(F,function(){Y++}),Y},toArray:function(F){return yt(F,function(Y){return Y})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},De.Component=C,De.Fragment=t,De.Profiler=s,De.PureComponent=U,De.StrictMode=r,De.Suspense=d,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,De.act=ae,De.cloneElement=function(F,Y,pe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Re=A({},F.props),be=F.key,Me=F.ref,$e=F._owner;if(Y!=null){if(Y.ref!==void 0&&(Me=Y.ref,$e=re.current),Y.key!==void 0&&(be=""+Y.key),F.type&&F.type.defaultProps)var We=F.type.defaultProps;for(Qe in Y)Q.call(Y,Qe)&&!D.hasOwnProperty(Qe)&&(Re[Qe]=Y[Qe]===void 0&&We!==void 0?We[Qe]:Y[Qe])}var Qe=arguments.length-2;if(Qe===1)Re.children=pe;else if(1<Qe){We=Array(Qe);for(var kt=0;kt<Qe;kt++)We[kt]=arguments[kt+2];Re.children=We}return{$$typeof:n,type:F.type,key:be,ref:Me,props:Re,_owner:$e}},De.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},De.createElement=P,De.createFactory=function(F){var Y=P.bind(null,F);return Y.type=F,Y},De.createRef=function(){return{current:null}},De.forwardRef=function(F){return{$$typeof:c,render:F}},De.isValidElement=N,De.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:Ke}},De.memo=function(F,Y){return{$$typeof:p,type:F,compare:Y===void 0?null:Y}},De.startTransition=function(F){var Y=ie.transition;ie.transition={};try{F()}finally{ie.transition=Y}},De.unstable_act=ae,De.useCallback=function(F,Y){return ve.current.useCallback(F,Y)},De.useContext=function(F){return ve.current.useContext(F)},De.useDebugValue=function(){},De.useDeferredValue=function(F){return ve.current.useDeferredValue(F)},De.useEffect=function(F,Y){return ve.current.useEffect(F,Y)},De.useId=function(){return ve.current.useId()},De.useImperativeHandle=function(F,Y,pe){return ve.current.useImperativeHandle(F,Y,pe)},De.useInsertionEffect=function(F,Y){return ve.current.useInsertionEffect(F,Y)},De.useLayoutEffect=function(F,Y){return ve.current.useLayoutEffect(F,Y)},De.useMemo=function(F,Y){return ve.current.useMemo(F,Y)},De.useReducer=function(F,Y,pe){return ve.current.useReducer(F,Y,pe)},De.useRef=function(F){return ve.current.useRef(F)},De.useState=function(F){return ve.current.useState(F)},De.useSyncExternalStore=function(F,Y,pe){return ve.current.useSyncExternalStore(F,Y,pe)},De.useTransition=function(){return ve.current.useTransition()},De.version="18.3.1",De}var B_;function eg(){return B_||(B_=1,mp.exports=NC()),mp.exports}var z_;function VC(){if(z_)return Nl;z_=1;var n=eg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var g,y={},w=null,S=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:c,key:w,ref:S,props:y,_owner:s.current}}return Nl.Fragment=t,Nl.jsx=l,Nl.jsxs=l,Nl}var $_;function OC(){return $_||($_=1,pp.exports=VC()),pp.exports}var te=OC(),nh={},gp={exports:{}},pn={},yp={exports:{}},vp={};var W_;function LC(){return W_||(W_=1,(function(n){function e(ie,fe){var ae=ie.length;ie.push(fe);e:for(;0<ae;){var F=ae-1>>>1,Y=ie[F];if(0<s(Y,fe))ie[F]=fe,ie[ae]=Y,ae=F;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var fe=ie[0],ae=ie.pop();if(ae!==fe){ie[0]=ae;e:for(var F=0,Y=ie.length,pe=Y>>>1;F<pe;){var Re=2*(F+1)-1,be=ie[Re],Me=Re+1,$e=ie[Me];if(0>s(be,ae))Me<Y&&0>s($e,be)?(ie[F]=$e,ie[Me]=ae,F=Me):(ie[F]=be,ie[Re]=ae,F=Re);else if(Me<Y&&0>s($e,ae))ie[F]=$e,ie[Me]=ae,F=Me;else break e}}return fe}function s(ie,fe){var ae=ie.sortIndex-fe.sortIndex;return ae!==0?ae:ie.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],p=[],g=1,y=null,w=3,S=!1,A=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(ie){for(var fe=t(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=ie)r(p),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(p)}}function K(ie){if(k=!1,W(ie),!A)if(t(d)!==null)A=!0,Ke(Q);else{var fe=t(p);fe!==null&&ve(K,fe.startTime-ie)}}function Q(ie,fe){A=!1,k&&(k=!1,z(P),P=-1),S=!0;var ae=w;try{for(W(fe),y=t(d);y!==null&&(!(y.expirationTime>fe)||ie&&!M());){var F=y.callback;if(typeof F=="function"){y.callback=null,w=y.priorityLevel;var Y=F(y.expirationTime<=fe);fe=n.unstable_now(),typeof Y=="function"?y.callback=Y:y===t(d)&&r(d),W(fe)}else r(d);y=t(d)}if(y!==null)var pe=!0;else{var Re=t(p);Re!==null&&ve(K,Re.startTime-fe),pe=!1}return pe}finally{y=null,w=ae,S=!1}}var re=!1,D=null,P=-1,x=5,N=-1;function M(){return!(n.unstable_now()-N<x)}function j(){if(D!==null){var ie=n.unstable_now();N=ie;var fe=!0;try{fe=D(!0,ie)}finally{fe?b():(re=!1,D=null)}}else re=!1}var b;if(typeof U=="function")b=function(){U(j)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,yt=Ne.port2;Ne.port1.onmessage=j,b=function(){yt.postMessage(null)}}else b=function(){C(j,0)};function Ke(ie){D=ie,re||(re=!0,b())}function ve(ie,fe){P=C(function(){ie(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){A||S||(A=!0,Ke(Q))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ie){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var ae=w;w=fe;try{return ie()}finally{w=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,fe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=w;w=ie;try{return fe()}finally{w=ae}},n.unstable_scheduleCallback=function(ie,fe,ae){var F=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,ie={id:g++,callback:fe,priorityLevel:ie,startTime:ae,expirationTime:Y,sortIndex:-1},ae>F?(ie.sortIndex=ae,e(p,ie),t(d)===null&&ie===t(p)&&(k?(z(P),P=-1):k=!0,ve(K,ae-F))):(ie.sortIndex=Y,e(d,ie),A||S||(A=!0,Ke(Q))),ie},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ie){var fe=w;return function(){var ae=w;w=fe;try{return ie.apply(this,arguments)}finally{w=ae}}}})(vp)),vp}var H_;function MC(){return H_||(H_=1,yp.exports=LC()),yp.exports}var q_;function FC(){if(q_)return pn;q_=1;var n=eg(),e=MC();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(i){return d.call(y,i)?!0:d.call(g,i)?!1:p.test(i)?y[i]=!0:(g[i]=!0,!1)}function S(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,o,u,f){if(o===null||typeof o>"u"||S(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(i,o,u,f,m,_,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=E}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new k(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(z,U);C[o]=new k(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(z,U);C[o]=new k(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(z,U);C[o]=new k(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function W(i,o,u,f){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,u,m,f)&&(u=null),f||m===null?w(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),re=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),ie=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,F;function Y(i){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+i}var pe=!1;function Re(i,o){if(!i||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var f=q}Reflect.construct(i,[],o)}else{try{o.call()}catch(q){f=q}i.call(o.prototype)}else{try{throw Error()}catch(q){f=q}i()}}catch(q){if(q&&f&&typeof q.stack=="string"){for(var m=q.stack.split(`
`),_=f.stack.split(`
`),E=m.length-1,R=_.length-1;1<=E&&0<=R&&m[E]!==_[R];)R--;for(;1<=E&&0<=R;E--,R--)if(m[E]!==_[R]){if(E!==1||R!==1)do if(E--,R--,0>R||m[E]!==_[R]){var O=`
`+m[E].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=E&&0<=R);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Y(i):""}function be(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case re:return"Portal";case x:return"Profiler";case P:return"StrictMode";case b:return"Suspense";case Ne:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case j:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case yt:return o=i.displayName||null,o!==null?o:Me(i.type)||"Memo";case Ke:o=i._payload,i=i._init;try{return Me(i(o))}catch{}}return null}function $e(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function We(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kt(i){var o=Qe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){f=""+E,_.call(this,E)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function kr(i){i._valueTracker||(i._valueTracker=kt(i))}function oo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Qe(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function hs(i,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function ao(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=We(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ua(i,o){o=o.checked,o!=null&&W(i,"checked",o,!1)}function ja(i,o){Ua(i,o);var u=We(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?lo(i,o.type,u):o.hasOwnProperty("defaultValue")&&lo(i,o.type,We(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Bu(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function lo(i,o,u){(o!=="number"||li(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var br=Array.isArray;function Dr(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+We(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Ba(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function uo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(br(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:We(u)}}function co(i,o){var u=We(o.value),f=We(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function za(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function It(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?It(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Nr,$a=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Nr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ui(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(i){fs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ds[o]=ds[i]})});function Wa(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ds.hasOwnProperty(i)&&ds[i]?(""+o).trim():o+"px"}function Ha(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Wa(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var qa=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ka(i,o){if(o){if(qa[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ga(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function ho(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fo=null,Cn=null,lr=null;function po(i){if(i=vl(i)){if(typeof fo!="function")throw Error(t(280));var o=i.stateNode;o&&(o=yc(o),fo(i.stateNode,i.type,o))}}function ur(i){Cn?lr?lr.push(i):lr=[i]:Cn=i}function Qa(){if(Cn){var i=Cn,o=lr;if(lr=Cn=null,po(i),o)for(i=0;i<o.length;i++)po(o[i])}}function ms(i,o){return i(o)}function Ya(){}var Vr=!1;function Xa(i,o,u){if(Vr)return i(o,u);Vr=!0;try{return ms(i,o,u)}finally{Vr=!1,(Cn!==null||lr!==null)&&(Ya(),Qa())}}function dt(i,o){var u=i.stateNode;if(u===null)return null;var f=yc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var mo=!1;if(c)try{var $n={};Object.defineProperty($n,"passive",{get:function(){mo=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{mo=!1}function gs(i,o,u,f,m,_,E,R,O){var q=Array.prototype.slice.call(arguments,3);try{o.apply(u,q)}catch(ee){this.onError(ee)}}var ys=!1,go=null,Wn=!1,Ja=null,Bd={onError:function(i){ys=!0,go=i}};function yo(i,o,u,f,m,_,E,R,O){ys=!1,go=null,gs.apply(Bd,arguments)}function zu(i,o,u,f,m,_,E,R,O){if(yo.apply(this,arguments),ys){if(ys){var q=go;ys=!1,go=null}else throw Error(t(198));Wn||(Wn=!0,Ja=q)}}function Hn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function vs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function qn(i){if(Hn(i)!==i)throw Error(t(188))}function $u(i){var o=i.alternate;if(!o){if(o=Hn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var _=m.alternate;if(_===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===u)return qn(m),i;if(_===f)return qn(m),o;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=_;else{for(var E=!1,R=m.child;R;){if(R===u){E=!0,u=m,f=_;break}if(R===f){E=!0,f=m,u=_;break}R=R.sibling}if(!E){for(R=_.child;R;){if(R===u){E=!0,u=_,f=m;break}if(R===f){E=!0,f=_,u=m;break}R=R.sibling}if(!E)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Za(i){return i=$u(i),i!==null?vo(i):null}function vo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=vo(i);if(o!==null)return o;i=i.sibling}return null}var _o=e.unstable_scheduleCallback,el=e.unstable_cancelCallback,Wu=e.unstable_shouldYield,zd=e.unstable_requestPaint,Ye=e.unstable_now,Hu=e.unstable_getCurrentPriorityLevel,_s=e.unstable_ImmediatePriority,ci=e.unstable_UserBlockingPriority,xn=e.unstable_NormalPriority,tl=e.unstable_LowPriority,qu=e.unstable_IdlePriority,ws=null,yn=null;function Ku(i){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(ws,i,void 0,(i.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Qu,nl=Math.log,Gu=Math.LN2;function Qu(i){return i>>>=0,i===0?32:31-(nl(i)/Gu|0)|0}var wo=64,To=4194304;function hi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ts(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,_=i.pingedLanes,E=u&268435455;if(E!==0){var R=E&~m;R!==0?f=hi(R):(_&=E,_!==0&&(f=hi(_)))}else E=u&~m,E!==0?f=hi(E):_!==0&&(f=hi(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,_=o&-o,m>=_||m===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-en(o),m=1<<u,f|=i[u],o&=~m;return f}function $d(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Or(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,_=i.pendingLanes;0<_;){var E=31-en(_),R=1<<E,O=m[E];O===-1?((R&u)===0||(R&f)!==0)&&(m[E]=$d(R,o)):O<=o&&(i.expiredLanes|=R),_&=~R}}function vn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Es(){var i=wo;return wo<<=1,(wo&4194240)===0&&(wo=64),i}function di(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function fi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-en(o),i[o]=u}function Ge(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-en(u),_=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~_}}function pi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-en(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var Le=0;function mi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Yu,Eo,Xu,Ju,Zu,rl=!1,cr=[],Lt=null,Kn=null,Gn=null,gi=new Map,Rn=new Map,hr=[],Wd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ec(i,o){switch(i){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(o.pointerId)}}function an(i,o,u,f,m,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[m]},o!==null&&(o=vl(o),o!==null&&Eo(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Hd(i,o,u,f,m){switch(o){case"focusin":return Lt=an(Lt,i,o,u,f,m),!0;case"dragenter":return Kn=an(Kn,i,o,u,f,m),!0;case"mouseover":return Gn=an(Gn,i,o,u,f,m),!0;case"pointerover":var _=m.pointerId;return gi.set(_,an(gi.get(_)||null,i,o,u,f,m)),!0;case"gotpointercapture":return _=m.pointerId,Rn.set(_,an(Rn.get(_)||null,i,o,u,f,m)),!0}return!1}function tc(i){var o=Cs(i.target);if(o!==null){var u=Hn(o);if(u!==null){if(o=u.tag,o===13){if(o=vs(u),o!==null){i.blockedOn=o,Zu(i.priority,function(){Xu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=So(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);ps=f,u.target.dispatchEvent(f),ps=null}else return o=vl(u),o!==null&&Eo(o),i.blockedOn=u,!1;o.shift()}return!0}function Ss(i,o,u){Lr(i)&&u.delete(o)}function nc(){rl=!1,Lt!==null&&Lr(Lt)&&(Lt=null),Kn!==null&&Lr(Kn)&&(Kn=null),Gn!==null&&Lr(Gn)&&(Gn=null),gi.forEach(Ss),Rn.forEach(Ss)}function Qn(i,o){i.blockedOn===o&&(i.blockedOn=null,rl||(rl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nc)))}function Yn(i){function o(m){return Qn(m,i)}if(0<cr.length){Qn(cr[0],i);for(var u=1;u<cr.length;u++){var f=cr[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Lt!==null&&Qn(Lt,i),Kn!==null&&Qn(Kn,i),Gn!==null&&Qn(Gn,i),gi.forEach(o),Rn.forEach(o),u=0;u<hr.length;u++)f=hr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<hr.length&&(u=hr[0],u.blockedOn===null);)tc(u),u.blockedOn===null&&hr.shift()}var Mr=K.ReactCurrentBatchConfig,yi=!0;function rt(i,o,u,f){var m=Le,_=Mr.transition;Mr.transition=null;try{Le=1,il(i,o,u,f)}finally{Le=m,Mr.transition=_}}function qd(i,o,u,f){var m=Le,_=Mr.transition;Mr.transition=null;try{Le=4,il(i,o,u,f)}finally{Le=m,Mr.transition=_}}function il(i,o,u,f){if(yi){var m=So(i,o,u,f);if(m===null)rf(i,o,f,Is,u),ec(i,f);else if(Hd(m,i,o,u,f))f.stopPropagation();else if(ec(i,f),o&4&&-1<Wd.indexOf(i)){for(;m!==null;){var _=vl(m);if(_!==null&&Yu(_),_=So(i,o,u,f),_===null&&rf(i,o,f,Is,u),_===m)break;m=_}m!==null&&f.stopPropagation()}else rf(i,o,f,null,u)}}var Is=null;function So(i,o,u,f){if(Is=null,i=ho(f),i=Cs(i),i!==null)if(o=Hn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=vs(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Is=i,null}function sl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hu()){case _s:return 1;case ci:return 4;case xn:case tl:return 16;case qu:return 536870912;default:return 16}default:return 16}}var _n=null,Io=null,ln=null;function ol(){if(ln)return ln;var i,o=Io,u=o.length,f,m="value"in _n?_n.value:_n.textContent,_=m.length;for(i=0;i<u&&o[i]===m[i];i++);var E=u-i;for(f=1;f<=E&&o[u-f]===m[_-f];f++);return ln=m.slice(i,1<f?1-f:void 0)}function Ao(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function dr(){return!0}function al(){return!1}function Mt(i){function o(u,f,m,_,E){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(u=i[R],this[R]=u?u(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?dr:al,this.isPropagationStopped=al,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),o}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=Mt(Xn),fr=ae({},Xn,{view:0,detail:0}),Kd=Mt(fr),Co,Fr,vi,As=ae({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vi&&(vi&&i.type==="mousemove"?(Co=i.screenX-vi.screenX,Fr=i.screenY-vi.screenY):Fr=Co=0,vi=i),Co)},movementY:function(i){return"movementY"in i?i.movementY:Fr}}),xo=Mt(As),ll=ae({},As,{dataTransfer:0}),rc=Mt(ll),Ro=ae({},fr,{relatedTarget:0}),ko=Mt(Ro),ic=ae({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ur=Mt(ic),sc=ae({},Xn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),oc=Mt(sc),ac=ae({},Xn,{data:0}),ul=Mt(ac),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=lc[i])?!!o[i]:!1}function pr(){return uc}var h=ae({},fr,{key:function(i){if(i.key){var o=bo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ao(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(i){return i.type==="keypress"?Ao(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ao(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=Mt(h),T=ae({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Mt(T),B=ae({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),G=Mt(B),oe=ae({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Mt(oe),Pt=ae({},As,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=Mt(Pt),bt=[9,13,27,32],vt=c&&"CompositionEvent"in window,kn=null;c&&"documentMode"in document&&(kn=document.documentMode);var wn=c&&"TextEvent"in window&&!kn,Ps=c&&(!vt||kn&&8<kn&&11>=kn),Do=" ",Vy=!1;function Oy(i,o){switch(i){case"keyup":return bt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ly(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var No=!1;function RP(i,o){switch(i){case"compositionend":return Ly(o);case"keypress":return o.which!==32?null:(Vy=!0,Do);case"textInput":return i=o.data,i===Do&&Vy?null:i;default:return null}}function kP(i,o){if(No)return i==="compositionend"||!vt&&Oy(i,o)?(i=ol(),ln=Io=_n=null,No=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ps&&o.locale!=="ko"?null:o.data;default:return null}}var bP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!bP[i.type]:o==="textarea"}function Fy(i,o,u,f){ur(f),o=pc(o,"onChange"),0<o.length&&(u=new Po("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var cl=null,hl=null;function DP(i){nv(i,0)}function cc(i){var o=Fo(i);if(oo(o))return i}function NP(i,o){if(i==="change")return o}var Uy=!1;if(c){var Gd;if(c){var Qd="oninput"in document;if(!Qd){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),Qd=typeof jy.oninput=="function"}Gd=Qd}else Gd=!1;Uy=Gd&&(!document.documentMode||9<document.documentMode)}function By(){cl&&(cl.detachEvent("onpropertychange",zy),hl=cl=null)}function zy(i){if(i.propertyName==="value"&&cc(hl)){var o=[];Fy(o,hl,i,ho(i)),Xa(DP,o)}}function VP(i,o,u){i==="focusin"?(By(),cl=o,hl=u,cl.attachEvent("onpropertychange",zy)):i==="focusout"&&By()}function OP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cc(hl)}function LP(i,o){if(i==="click")return cc(o)}function MP(i,o){if(i==="input"||i==="change")return cc(o)}function FP(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Jn=typeof Object.is=="function"?Object.is:FP;function dl(i,o){if(Jn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(o,m)||!Jn(i[m],o[m]))return!1}return!0}function $y(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Wy(i,o){var u=$y(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=$y(u)}}function Hy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Hy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function qy(){for(var i=window,o=li();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=li(i.document)}return o}function Yd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function UP(i){var o=qy(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Hy(u.ownerDocument.documentElement,u)){if(f!==null&&Yd(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,_=Math.min(f.start,m);f=f.end===void 0?_:Math.min(f.end,m),!i.extend&&_>f&&(m=f,f=_,_=m),m=Wy(u,_);var E=Wy(u,f);m&&E&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),_>f?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var jP=c&&"documentMode"in document&&11>=document.documentMode,Vo=null,Xd=null,fl=null,Jd=!1;function Ky(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Jd||Vo==null||Vo!==li(f)||(f=Vo,"selectionStart"in f&&Yd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),fl&&dl(fl,f)||(fl=f,f=pc(Xd,"onSelect"),0<f.length&&(o=new Po("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Vo)))}function hc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Oo={animationend:hc("Animation","AnimationEnd"),animationiteration:hc("Animation","AnimationIteration"),animationstart:hc("Animation","AnimationStart"),transitionend:hc("Transition","TransitionEnd")},Zd={},Gy={};c&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function dc(i){if(Zd[i])return Zd[i];if(!Oo[i])return i;var o=Oo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Gy)return Zd[i]=o[u];return i}var Qy=dc("animationend"),Yy=dc("animationiteration"),Xy=dc("animationstart"),Jy=dc("transitionend"),Zy=new Map,ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(i,o){Zy.set(i,o),a(o,[i])}for(var ef=0;ef<ev.length;ef++){var tf=ev[ef],BP=tf.toLowerCase(),zP=tf[0].toUpperCase()+tf.slice(1);_i(BP,"on"+zP)}_i(Qy,"onAnimationEnd"),_i(Yy,"onAnimationIteration"),_i(Xy,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Jy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$P=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function tv(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,zu(f,o,void 0,i),i.currentTarget=null}function nv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var E=f.length-1;0<=E;E--){var R=f[E],O=R.instance,q=R.currentTarget;if(R=R.listener,O!==_&&m.isPropagationStopped())break e;tv(m,R,q),_=O}else for(E=0;E<f.length;E++){if(R=f[E],O=R.instance,q=R.currentTarget,R=R.listener,O!==_&&m.isPropagationStopped())break e;tv(m,R,q),_=O}}}if(Wn)throw i=Ja,Wn=!1,Ja=null,i}function Ze(i,o){var u=o[cf];u===void 0&&(u=o[cf]=new Set);var f=i+"__bubble";u.has(f)||(rv(o,i,2,!1),u.add(f))}function nf(i,o,u){var f=0;o&&(f|=4),rv(u,i,f,o)}var fc="_reactListening"+Math.random().toString(36).slice(2);function ml(i){if(!i[fc]){i[fc]=!0,r.forEach(function(u){u!=="selectionchange"&&($P.has(u)||nf(u,!1,i),nf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[fc]||(o[fc]=!0,nf("selectionchange",!1,o))}}function rv(i,o,u,f){switch(sl(o)){case 1:var m=rt;break;case 4:m=qd;break;default:m=il}u=m.bind(null,o,u,i),m=void 0,!mo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function rf(i,o,u,f,m){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var R=f.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(E===4)for(E=f.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;E=E.return}for(;R!==null;){if(E=Cs(R),E===null)return;if(O=E.tag,O===5||O===6){f=_=E;continue e}R=R.parentNode}}f=f.return}Xa(function(){var q=_,ee=ho(u),ne=[];e:{var Z=Zy.get(i);if(Z!==void 0){var ue=Po,de=i;switch(i){case"keypress":if(Ao(u)===0)break e;case"keydown":case"keyup":ue=v;break;case"focusin":de="focus",ue=ko;break;case"focusout":de="blur",ue=ko;break;case"beforeblur":case"afterblur":ue=ko;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=G;break;case Qy:case Yy:case Xy:ue=Ur;break;case Jy:ue=qe;break;case"scroll":ue=Kd;break;case"wheel":ue=Fe;break;case"copy":case"cut":case"paste":ue=oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var me=(o&4)!==0,ft=!me&&i==="scroll",$=me?Z!==null?Z+"Capture":null:Z;me=[];for(var L=q,H;L!==null;){H=L;var se=H.stateNode;if(H.tag===5&&se!==null&&(H=se,$!==null&&(se=dt(L,$),se!=null&&me.push(gl(L,se,H)))),ft)break;L=L.return}0<me.length&&(Z=new ue(Z,de,null,u,ee),ne.push({event:Z,listeners:me}))}}if((o&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",Z&&u!==ps&&(de=u.relatedTarget||u.fromElement)&&(Cs(de)||de[jr]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(de=u.relatedTarget||u.toElement,ue=q,de=de?Cs(de):null,de!==null&&(ft=Hn(de),de!==ft||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=q),ue!==de)){if(me=xo,se="onMouseLeave",$="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(me=I,se="onPointerLeave",$="onPointerEnter",L="pointer"),ft=ue==null?Z:Fo(ue),H=de==null?Z:Fo(de),Z=new me(se,L+"leave",ue,u,ee),Z.target=ft,Z.relatedTarget=H,se=null,Cs(ee)===q&&(me=new me($,L+"enter",de,u,ee),me.target=H,me.relatedTarget=ft,se=me),ft=se,ue&&de)t:{for(me=ue,$=de,L=0,H=me;H;H=Lo(H))L++;for(H=0,se=$;se;se=Lo(se))H++;for(;0<L-H;)me=Lo(me),L--;for(;0<H-L;)$=Lo($),H--;for(;L--;){if(me===$||$!==null&&me===$.alternate)break t;me=Lo(me),$=Lo($)}me=null}else me=null;ue!==null&&iv(ne,Z,ue,me,!1),de!==null&&ft!==null&&iv(ne,ft,de,me,!0)}}e:{if(Z=q?Fo(q):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var ge=NP;else if(My(Z))if(Uy)ge=MP;else{ge=OP;var _e=VP}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ge=LP);if(ge&&(ge=ge(i,q))){Fy(ne,ge,u,ee);break e}_e&&_e(i,Z,q),i==="focusout"&&(_e=Z._wrapperState)&&_e.controlled&&Z.type==="number"&&lo(Z,"number",Z.value)}switch(_e=q?Fo(q):window,i){case"focusin":(My(_e)||_e.contentEditable==="true")&&(Vo=_e,Xd=q,fl=null);break;case"focusout":fl=Xd=Vo=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,Ky(ne,u,ee);break;case"selectionchange":if(jP)break;case"keydown":case"keyup":Ky(ne,u,ee)}var we;if(vt)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else No?Oy(i,u)&&(Ae="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(Ps&&u.locale!=="ko"&&(No||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&No&&(we=ol()):(_n=ee,Io="value"in _n?_n.value:_n.textContent,No=!0)),_e=pc(q,Ae),0<_e.length&&(Ae=new ul(Ae,i,null,u,ee),ne.push({event:Ae,listeners:_e}),we?Ae.data=we:(we=Ly(u),we!==null&&(Ae.data=we)))),(we=wn?RP(i,u):kP(i,u))&&(q=pc(q,"onBeforeInput"),0<q.length&&(ee=new ul("onBeforeInput","beforeinput",null,u,ee),ne.push({event:ee,listeners:q}),ee.data=we))}nv(ne,o)})}function gl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function pc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=dt(i,u),_!=null&&f.unshift(gl(i,_,m)),_=dt(i,o),_!=null&&f.push(gl(i,_,m))),i=i.return}return f}function Lo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function iv(i,o,u,f,m){for(var _=o._reactName,E=[];u!==null&&u!==f;){var R=u,O=R.alternate,q=R.stateNode;if(O!==null&&O===f)break;R.tag===5&&q!==null&&(R=q,m?(O=dt(u,_),O!=null&&E.unshift(gl(u,O,R))):m||(O=dt(u,_),O!=null&&E.push(gl(u,O,R)))),u=u.return}E.length!==0&&i.push({event:o,listeners:E})}var WP=/\r\n?/g,HP=/\u0000|\uFFFD/g;function sv(i){return(typeof i=="string"?i:""+i).replace(WP,`
`).replace(HP,"")}function mc(i,o,u){if(o=sv(o),sv(i)!==o&&u)throw Error(t(425))}function gc(){}var sf=null,of=null;function af(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var lf=typeof setTimeout=="function"?setTimeout:void 0,qP=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,KP=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(i){return ov.resolve(null).then(i).catch(GP)}:lf;function GP(i){setTimeout(function(){throw i})}function uf(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),Yn(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Yn(o)}function wi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function av(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),mr="__reactFiber$"+Mo,yl="__reactProps$"+Mo,jr="__reactContainer$"+Mo,cf="__reactEvents$"+Mo,QP="__reactListeners$"+Mo,YP="__reactHandles$"+Mo;function Cs(i){var o=i[mr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[jr]||u[mr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=av(i);i!==null;){if(u=i[mr])return u;i=av(i)}return o}i=u,u=i.parentNode}return null}function vl(i){return i=i[mr]||i[jr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Fo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function yc(i){return i[yl]||null}var hf=[],Uo=-1;function Ti(i){return{current:i}}function et(i){0>Uo||(i.current=hf[Uo],hf[Uo]=null,Uo--)}function Xe(i,o){Uo++,hf[Uo]=i.current,i.current=o}var Ei={},Wt=Ti(Ei),un=Ti(!1),xs=Ei;function jo(i,o){var u=i.type.contextTypes;if(!u)return Ei;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in u)m[_]=o[_];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function cn(i){return i=i.childContextTypes,i!=null}function vc(){et(un),et(Wt)}function lv(i,o,u){if(Wt.current!==Ei)throw Error(t(168));Xe(Wt,o),Xe(un,u)}function uv(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,$e(i)||"Unknown",m));return ae({},u,f)}function _c(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ei,xs=Wt.current,Xe(Wt,i),Xe(un,un.current),!0}function cv(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=uv(i,o,xs),f.__reactInternalMemoizedMergedChildContext=i,et(un),et(Wt),Xe(Wt,i)):et(un),Xe(un,u)}var Br=null,wc=!1,df=!1;function hv(i){Br===null?Br=[i]:Br.push(i)}function XP(i){wc=!0,hv(i)}function Si(){if(!df&&Br!==null){df=!0;var i=0,o=Le;try{var u=Br;for(Le=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Br=null,wc=!1}catch(m){throw Br!==null&&(Br=Br.slice(i+1)),_o(_s,Si),m}finally{Le=o,df=!1}}return null}var Bo=[],zo=0,Tc=null,Ec=0,bn=[],Dn=0,Rs=null,zr=1,$r="";function ks(i,o){Bo[zo++]=Ec,Bo[zo++]=Tc,Tc=i,Ec=o}function dv(i,o,u){bn[Dn++]=zr,bn[Dn++]=$r,bn[Dn++]=Rs,Rs=i;var f=zr;i=$r;var m=32-en(f)-1;f&=~(1<<m),u+=1;var _=32-en(o)+m;if(30<_){var E=m-m%5;_=(f&(1<<E)-1).toString(32),f>>=E,m-=E,zr=1<<32-en(o)+m|u<<m|f,$r=_+i}else zr=1<<_|u<<m|f,$r=i}function ff(i){i.return!==null&&(ks(i,1),dv(i,1,0))}function pf(i){for(;i===Tc;)Tc=Bo[--zo],Bo[zo]=null,Ec=Bo[--zo],Bo[zo]=null;for(;i===Rs;)Rs=bn[--Dn],bn[Dn]=null,$r=bn[--Dn],bn[Dn]=null,zr=bn[--Dn],bn[Dn]=null}var Tn=null,En=null,it=!1,Zn=null;function fv(i,o){var u=Ln(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function pv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Tn=i,En=wi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Tn=i,En=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Rs!==null?{id:zr,overflow:$r}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Ln(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Tn=i,En=null,!0):!1;default:return!1}}function mf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gf(i){if(it){var o=En;if(o){var u=o;if(!pv(i,o)){if(mf(i))throw Error(t(418));o=wi(u.nextSibling);var f=Tn;o&&pv(i,o)?fv(f,u):(i.flags=i.flags&-4097|2,it=!1,Tn=i)}}else{if(mf(i))throw Error(t(418));i.flags=i.flags&-4097|2,it=!1,Tn=i}}}function mv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Tn=i}function Sc(i){if(i!==Tn)return!1;if(!it)return mv(i),it=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!af(i.type,i.memoizedProps)),o&&(o=En)){if(mf(i))throw gv(),Error(t(418));for(;o;)fv(i,o),o=wi(o.nextSibling)}if(mv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){En=wi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}En=null}}else En=Tn?wi(i.stateNode.nextSibling):null;return!0}function gv(){for(var i=En;i;)i=wi(i.nextSibling)}function $o(){En=Tn=null,it=!1}function yf(i){Zn===null?Zn=[i]:Zn.push(i)}var JP=K.ReactCurrentBatchConfig;function _l(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var m=f,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(E){var R=m.refs;E===null?delete R[_]:R[_]=E},o._stringRef=_,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Ic(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function yv(i){var o=i._init;return o(i._payload)}function vv(i){function o($,L){if(i){var H=$.deletions;H===null?($.deletions=[L],$.flags|=16):H.push(L)}}function u($,L){if(!i)return null;for(;L!==null;)o($,L),L=L.sibling;return null}function f($,L){for($=new Map;L!==null;)L.key!==null?$.set(L.key,L):$.set(L.index,L),L=L.sibling;return $}function m($,L){return $=bi($,L),$.index=0,$.sibling=null,$}function _($,L,H){return $.index=H,i?(H=$.alternate,H!==null?(H=H.index,H<L?($.flags|=2,L):H):($.flags|=2,L)):($.flags|=1048576,L)}function E($){return i&&$.alternate===null&&($.flags|=2),$}function R($,L,H,se){return L===null||L.tag!==6?(L=lp(H,$.mode,se),L.return=$,L):(L=m(L,H),L.return=$,L)}function O($,L,H,se){var ge=H.type;return ge===D?ee($,L,H.props.children,se,H.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ke&&yv(ge)===L.type)?(se=m(L,H.props),se.ref=_l($,L,H),se.return=$,se):(se=Gc(H.type,H.key,H.props,null,$.mode,se),se.ref=_l($,L,H),se.return=$,se)}function q($,L,H,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=up(H,$.mode,se),L.return=$,L):(L=m(L,H.children||[]),L.return=$,L)}function ee($,L,H,se,ge){return L===null||L.tag!==7?(L=Fs(H,$.mode,se,ge),L.return=$,L):(L=m(L,H),L.return=$,L)}function ne($,L,H){if(typeof L=="string"&&L!==""||typeof L=="number")return L=lp(""+L,$.mode,H),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return H=Gc(L.type,L.key,L.props,null,$.mode,H),H.ref=_l($,null,L),H.return=$,H;case re:return L=up(L,$.mode,H),L.return=$,L;case Ke:var se=L._init;return ne($,se(L._payload),H)}if(br(L)||fe(L))return L=Fs(L,$.mode,H,null),L.return=$,L;Ic($,L)}return null}function Z($,L,H,se){var ge=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ge!==null?null:R($,L,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Q:return H.key===ge?O($,L,H,se):null;case re:return H.key===ge?q($,L,H,se):null;case Ke:return ge=H._init,Z($,L,ge(H._payload),se)}if(br(H)||fe(H))return ge!==null?null:ee($,L,H,se,null);Ic($,H)}return null}function ue($,L,H,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return $=$.get(H)||null,R(L,$,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Q:return $=$.get(se.key===null?H:se.key)||null,O(L,$,se,ge);case re:return $=$.get(se.key===null?H:se.key)||null,q(L,$,se,ge);case Ke:var _e=se._init;return ue($,L,H,_e(se._payload),ge)}if(br(se)||fe(se))return $=$.get(H)||null,ee(L,$,se,ge,null);Ic(L,se)}return null}function de($,L,H,se){for(var ge=null,_e=null,we=L,Ae=L=0,Vt=null;we!==null&&Ae<H.length;Ae++){we.index>Ae?(Vt=we,we=null):Vt=we.sibling;var Be=Z($,we,H[Ae],se);if(Be===null){we===null&&(we=Vt);break}i&&we&&Be.alternate===null&&o($,we),L=_(Be,L,Ae),_e===null?ge=Be:_e.sibling=Be,_e=Be,we=Vt}if(Ae===H.length)return u($,we),it&&ks($,Ae),ge;if(we===null){for(;Ae<H.length;Ae++)we=ne($,H[Ae],se),we!==null&&(L=_(we,L,Ae),_e===null?ge=we:_e.sibling=we,_e=we);return it&&ks($,Ae),ge}for(we=f($,we);Ae<H.length;Ae++)Vt=ue(we,$,Ae,H[Ae],se),Vt!==null&&(i&&Vt.alternate!==null&&we.delete(Vt.key===null?Ae:Vt.key),L=_(Vt,L,Ae),_e===null?ge=Vt:_e.sibling=Vt,_e=Vt);return i&&we.forEach(function(Di){return o($,Di)}),it&&ks($,Ae),ge}function me($,L,H,se){var ge=fe(H);if(typeof ge!="function")throw Error(t(150));if(H=ge.call(H),H==null)throw Error(t(151));for(var _e=ge=null,we=L,Ae=L=0,Vt=null,Be=H.next();we!==null&&!Be.done;Ae++,Be=H.next()){we.index>Ae?(Vt=we,we=null):Vt=we.sibling;var Di=Z($,we,Be.value,se);if(Di===null){we===null&&(we=Vt);break}i&&we&&Di.alternate===null&&o($,we),L=_(Di,L,Ae),_e===null?ge=Di:_e.sibling=Di,_e=Di,we=Vt}if(Be.done)return u($,we),it&&ks($,Ae),ge;if(we===null){for(;!Be.done;Ae++,Be=H.next())Be=ne($,Be.value,se),Be!==null&&(L=_(Be,L,Ae),_e===null?ge=Be:_e.sibling=Be,_e=Be);return it&&ks($,Ae),ge}for(we=f($,we);!Be.done;Ae++,Be=H.next())Be=ue(we,$,Ae,Be.value,se),Be!==null&&(i&&Be.alternate!==null&&we.delete(Be.key===null?Ae:Be.key),L=_(Be,L,Ae),_e===null?ge=Be:_e.sibling=Be,_e=Be);return i&&we.forEach(function(bC){return o($,bC)}),it&&ks($,Ae),ge}function ft($,L,H,se){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Q:e:{for(var ge=H.key,_e=L;_e!==null;){if(_e.key===ge){if(ge=H.type,ge===D){if(_e.tag===7){u($,_e.sibling),L=m(_e,H.props.children),L.return=$,$=L;break e}}else if(_e.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ke&&yv(ge)===_e.type){u($,_e.sibling),L=m(_e,H.props),L.ref=_l($,_e,H),L.return=$,$=L;break e}u($,_e);break}else o($,_e);_e=_e.sibling}H.type===D?(L=Fs(H.props.children,$.mode,se,H.key),L.return=$,$=L):(se=Gc(H.type,H.key,H.props,null,$.mode,se),se.ref=_l($,L,H),se.return=$,$=se)}return E($);case re:e:{for(_e=H.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){u($,L.sibling),L=m(L,H.children||[]),L.return=$,$=L;break e}else{u($,L);break}else o($,L);L=L.sibling}L=up(H,$.mode,se),L.return=$,$=L}return E($);case Ke:return _e=H._init,ft($,L,_e(H._payload),se)}if(br(H))return de($,L,H,se);if(fe(H))return me($,L,H,se);Ic($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,L!==null&&L.tag===6?(u($,L.sibling),L=m(L,H),L.return=$,$=L):(u($,L),L=lp(H,$.mode,se),L.return=$,$=L),E($)):u($,L)}return ft}var Wo=vv(!0),_v=vv(!1),Ac=Ti(null),Pc=null,Ho=null,vf=null;function _f(){vf=Ho=Pc=null}function wf(i){var o=Ac.current;et(Ac),i._currentValue=o}function Tf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function qo(i,o){Pc=i,vf=Ho=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(hn=!0),i.firstContext=null)}function Nn(i){var o=i._currentValue;if(vf!==i)if(i={context:i,memoizedValue:o,next:null},Ho===null){if(Pc===null)throw Error(t(308));Ho=i,Pc.dependencies={lanes:0,firstContext:i}}else Ho=Ho.next=i;return o}var bs=null;function Ef(i){bs===null?bs=[i]:bs.push(i)}function wv(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Ef(o)):(u.next=m.next,m.next=u),o.interleaved=u,Wr(i,f)}function Wr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ii=!1;function Sf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Hr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ai(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(je&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Wr(i,u)}return m=f.interleaved,m===null?(o.next=o,Ef(f)):(o.next=m.next,m.next=o),f.interleaved=o,Wr(i,u)}function Cc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,pi(i,u)}}function Ev(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?m=_=E:_=_.next=E,u=u.next}while(u!==null);_===null?m=_=o:_=_.next=o}else m=_=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function xc(i,o,u,f){var m=i.updateQueue;Ii=!1;var _=m.firstBaseUpdate,E=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var O=R,q=O.next;O.next=null,E===null?_=q:E.next=q,E=O;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==E&&(R===null?ee.firstBaseUpdate=q:R.next=q,ee.lastBaseUpdate=O))}if(_!==null){var ne=m.baseState;E=0,ee=q=O=null,R=_;do{var Z=R.lane,ue=R.eventTime;if((f&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var de=i,me=R;switch(Z=o,ue=u,me.tag){case 1:if(de=me.payload,typeof de=="function"){ne=de.call(ue,ne,Z);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=me.payload,Z=typeof de=="function"?de.call(ue,ne,Z):de,Z==null)break e;ne=ae({},ne,Z);break e;case 2:Ii=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,Z=m.effects,Z===null?m.effects=[R]:Z.push(R))}else ue={eventTime:ue,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(q=ee=ue,O=ne):ee=ee.next=ue,E|=Z;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(O=ne),m.baseState=O,m.firstBaseUpdate=q,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else _===null&&(m.shared.lanes=0);Vs|=E,i.lanes=E,i.memoizedState=ne}}function Sv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var wl={},gr=Ti(wl),Tl=Ti(wl),El=Ti(wl);function Ds(i){if(i===wl)throw Error(t(174));return i}function If(i,o){switch(Xe(El,o),Xe(Tl,i),Xe(gr,wl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:At(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=At(o,i)}et(gr),Xe(gr,o)}function Ko(){et(gr),et(Tl),et(El)}function Iv(i){Ds(El.current);var o=Ds(gr.current),u=At(o,i.type);o!==u&&(Xe(Tl,i),Xe(gr,u))}function Af(i){Tl.current===i&&(et(gr),et(Tl))}var st=Ti(0);function Rc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Pf=[];function Cf(){for(var i=0;i<Pf.length;i++)Pf[i]._workInProgressVersionPrimary=null;Pf.length=0}var kc=K.ReactCurrentDispatcher,xf=K.ReactCurrentBatchConfig,Ns=0,ot=null,Ct=null,Dt=null,bc=!1,Sl=!1,Il=0,ZP=0;function Ht(){throw Error(t(321))}function Rf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Jn(i[u],o[u]))return!1;return!0}function kf(i,o,u,f,m,_){if(Ns=_,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,kc.current=i===null||i.memoizedState===null?rC:iC,i=u(f,m),Sl){_=0;do{if(Sl=!1,Il=0,25<=_)throw Error(t(301));_+=1,Dt=Ct=null,o.updateQueue=null,kc.current=sC,i=u(f,m)}while(Sl)}if(kc.current=Vc,o=Ct!==null&&Ct.next!==null,Ns=0,Dt=Ct=ot=null,bc=!1,o)throw Error(t(300));return i}function bf(){var i=Il!==0;return Il=0,i}function yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ot.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function Vn(){if(Ct===null){var i=ot.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var o=Dt===null?ot.memoizedState:Dt.next;if(o!==null)Dt=o,Ct=i;else{if(i===null)throw Error(t(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Dt===null?ot.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function Al(i,o){return typeof o=="function"?o(i):o}function Df(i){var o=Vn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=Ct,m=f.baseQueue,_=u.pending;if(_!==null){if(m!==null){var E=m.next;m.next=_.next,_.next=E}f.baseQueue=m=_,u.pending=null}if(m!==null){_=m.next,f=f.baseState;var R=E=null,O=null,q=_;do{var ee=q.lane;if((Ns&ee)===ee)O!==null&&(O=O.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),f=q.hasEagerState?q.eagerState:i(f,q.action);else{var ne={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};O===null?(R=O=ne,E=f):O=O.next=ne,ot.lanes|=ee,Vs|=ee}q=q.next}while(q!==null&&q!==_);O===null?E=f:O.next=R,Jn(f,o.memoizedState)||(hn=!0),o.memoizedState=f,o.baseState=E,o.baseQueue=O,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do _=m.lane,ot.lanes|=_,Vs|=_,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Nf(i){var o=Vn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,_=o.memoizedState;if(m!==null){u.pending=null;var E=m=m.next;do _=i(_,E.action),E=E.next;while(E!==m);Jn(_,o.memoizedState)||(hn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function Av(){}function Pv(i,o){var u=ot,f=Vn(),m=o(),_=!Jn(f.memoizedState,m);if(_&&(f.memoizedState=m,hn=!0),f=f.queue,Vf(Rv.bind(null,u,f,i),[i]),f.getSnapshot!==o||_||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,Pl(9,xv.bind(null,u,f,m,o),void 0,null),Nt===null)throw Error(t(349));(Ns&30)!==0||Cv(u,o,m)}return m}function Cv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function xv(i,o,u,f){o.value=u,o.getSnapshot=f,kv(o)&&bv(i)}function Rv(i,o,u){return u(function(){kv(o)&&bv(i)})}function kv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Jn(i,u)}catch{return!0}}function bv(i){var o=Wr(i,1);o!==null&&rr(o,i,1,-1)}function Dv(i){var o=yr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:i},o.queue=i,i=i.dispatch=nC.bind(null,ot,i),[o.memoizedState,i]}function Pl(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function Nv(){return Vn().memoizedState}function Dc(i,o,u,f){var m=yr();ot.flags|=i,m.memoizedState=Pl(1|o,u,void 0,f===void 0?null:f)}function Nc(i,o,u,f){var m=Vn();f=f===void 0?null:f;var _=void 0;if(Ct!==null){var E=Ct.memoizedState;if(_=E.destroy,f!==null&&Rf(f,E.deps)){m.memoizedState=Pl(o,u,_,f);return}}ot.flags|=i,m.memoizedState=Pl(1|o,u,_,f)}function Vv(i,o){return Dc(8390656,8,i,o)}function Vf(i,o){return Nc(2048,8,i,o)}function Ov(i,o){return Nc(4,2,i,o)}function Lv(i,o){return Nc(4,4,i,o)}function Mv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Fv(i,o,u){return u=u!=null?u.concat([i]):null,Nc(4,4,Mv.bind(null,o,i),u)}function Of(){}function Uv(i,o){var u=Vn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Rf(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function jv(i,o){var u=Vn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Rf(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function Bv(i,o,u){return(Ns&21)===0?(i.baseState&&(i.baseState=!1,hn=!0),i.memoizedState=u):(Jn(u,o)||(u=Es(),ot.lanes|=u,Vs|=u,i.baseState=!0),o)}function eC(i,o){var u=Le;Le=u!==0&&4>u?u:4,i(!0);var f=xf.transition;xf.transition={};try{i(!1),o()}finally{Le=u,xf.transition=f}}function zv(){return Vn().memoizedState}function tC(i,o,u){var f=Ri(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},$v(i))Wv(o,u);else if(u=wv(i,o,u,f),u!==null){var m=rn();rr(u,i,f,m),Hv(u,o,f)}}function nC(i,o,u){var f=Ri(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if($v(i))Wv(o,m);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var E=o.lastRenderedState,R=_(E,u);if(m.hasEagerState=!0,m.eagerState=R,Jn(R,E)){var O=o.interleaved;O===null?(m.next=m,Ef(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}finally{}u=wv(i,o,m,f),u!==null&&(m=rn(),rr(u,i,f,m),Hv(u,o,f))}}function $v(i){var o=i.alternate;return i===ot||o!==null&&o===ot}function Wv(i,o){Sl=bc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Hv(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,pi(i,u)}}var Vc={readContext:Nn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},rC={readContext:Nn,useCallback:function(i,o){return yr().memoizedState=[i,o===void 0?null:o],i},useContext:Nn,useEffect:Vv,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Dc(4194308,4,Mv.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Dc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Dc(4,2,i,o)},useMemo:function(i,o){var u=yr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=yr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=tC.bind(null,ot,i),[f.memoizedState,i]},useRef:function(i){var o=yr();return i={current:i},o.memoizedState=i},useState:Dv,useDebugValue:Of,useDeferredValue:function(i){return yr().memoizedState=i},useTransition:function(){var i=Dv(!1),o=i[0];return i=eC.bind(null,i[1]),yr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=ot,m=yr();if(it){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Nt===null)throw Error(t(349));(Ns&30)!==0||Cv(f,o,u)}m.memoizedState=u;var _={value:u,getSnapshot:o};return m.queue=_,Vv(Rv.bind(null,f,_,i),[i]),f.flags|=2048,Pl(9,xv.bind(null,f,_,u,o),void 0,null),u},useId:function(){var i=yr(),o=Nt.identifierPrefix;if(it){var u=$r,f=zr;u=(f&~(1<<32-en(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Il++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=ZP++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},iC={readContext:Nn,useCallback:Uv,useContext:Nn,useEffect:Vf,useImperativeHandle:Fv,useInsertionEffect:Ov,useLayoutEffect:Lv,useMemo:jv,useReducer:Df,useRef:Nv,useState:function(){return Df(Al)},useDebugValue:Of,useDeferredValue:function(i){var o=Vn();return Bv(o,Ct.memoizedState,i)},useTransition:function(){var i=Df(Al)[0],o=Vn().memoizedState;return[i,o]},useMutableSource:Av,useSyncExternalStore:Pv,useId:zv,unstable_isNewReconciler:!1},sC={readContext:Nn,useCallback:Uv,useContext:Nn,useEffect:Vf,useImperativeHandle:Fv,useInsertionEffect:Ov,useLayoutEffect:Lv,useMemo:jv,useReducer:Nf,useRef:Nv,useState:function(){return Nf(Al)},useDebugValue:Of,useDeferredValue:function(i){var o=Vn();return Ct===null?o.memoizedState=i:Bv(o,Ct.memoizedState,i)},useTransition:function(){var i=Nf(Al)[0],o=Vn().memoizedState;return[i,o]},useMutableSource:Av,useSyncExternalStore:Pv,useId:zv,unstable_isNewReconciler:!1};function er(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Lf(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ae({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Oc={isMounted:function(i){return(i=i._reactInternals)?Hn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=rn(),m=Ri(i),_=Hr(f,m);_.payload=o,u!=null&&(_.callback=u),o=Ai(i,_,m),o!==null&&(rr(o,i,m,f),Cc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=rn(),m=Ri(i),_=Hr(f,m);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Ai(i,_,m),o!==null&&(rr(o,i,m,f),Cc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=rn(),f=Ri(i),m=Hr(u,f);m.tag=2,o!=null&&(m.callback=o),o=Ai(i,m,f),o!==null&&(rr(o,i,f,u),Cc(o,i,f))}};function qv(i,o,u,f,m,_,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,_,E):o.prototype&&o.prototype.isPureReactComponent?!dl(u,f)||!dl(m,_):!0}function Kv(i,o,u){var f=!1,m=Ei,_=o.contextType;return typeof _=="object"&&_!==null?_=Nn(_):(m=cn(o)?xs:Wt.current,f=o.contextTypes,_=(f=f!=null)?jo(i,m):Ei),o=new o(u,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Oc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=_),o}function Gv(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Oc.enqueueReplaceState(o,o.state,null)}function Mf(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Sf(i);var _=o.contextType;typeof _=="object"&&_!==null?m.context=Nn(_):(_=cn(o)?xs:Wt.current,m.context=jo(i,_)),m.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Lf(i,o,_,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Oc.enqueueReplaceState(m,m.state,null),xc(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Go(i,o){try{var u="",f=o;do u+=be(f),f=f.return;while(f);var m=u}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:m,digest:null}}function Ff(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Uf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var oC=typeof WeakMap=="function"?WeakMap:Map;function Qv(i,o,u){u=Hr(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){zc||(zc=!0,ep=f),Uf(i,o)},u}function Yv(i,o,u){u=Hr(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Uf(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Uf(i,o),typeof f!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),u}function Xv(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new oC;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=wC.bind(null,i,o,u),o.then(i,i))}function Jv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Zv(i,o,u,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Hr(-1,1),o.tag=2,Ai(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var aC=K.ReactCurrentOwner,hn=!1;function nn(i,o,u,f){o.child=i===null?_v(o,null,u,f):Wo(o,i.child,u,f)}function e_(i,o,u,f,m){u=u.render;var _=o.ref;return qo(o,m),f=kf(i,o,u,f,_,m),u=bf(),i!==null&&!hn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,qr(i,o,m)):(it&&u&&ff(o),o.flags|=1,nn(i,o,f,m),o.child)}function t_(i,o,u,f,m){if(i===null){var _=u.type;return typeof _=="function"&&!ap(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,n_(i,o,_,f,m)):(i=Gc(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,(i.lanes&m)===0){var E=_.memoizedProps;if(u=u.compare,u=u!==null?u:dl,u(E,f)&&i.ref===o.ref)return qr(i,o,m)}return o.flags|=1,i=bi(_,f),i.ref=o.ref,i.return=o,o.child=i}function n_(i,o,u,f,m){if(i!==null){var _=i.memoizedProps;if(dl(_,f)&&i.ref===o.ref)if(hn=!1,o.pendingProps=f=_,(i.lanes&m)!==0)(i.flags&131072)!==0&&(hn=!0);else return o.lanes=i.lanes,qr(i,o,m)}return jf(i,o,u,f,m)}function r_(i,o,u){var f=o.pendingProps,m=f.children,_=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Yo,Sn),Sn|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Xe(Yo,Sn),Sn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,Xe(Yo,Sn),Sn|=f}else _!==null?(f=_.baseLanes|u,o.memoizedState=null):f=u,Xe(Yo,Sn),Sn|=f;return nn(i,o,m,u),o.child}function i_(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function jf(i,o,u,f,m){var _=cn(u)?xs:Wt.current;return _=jo(o,_),qo(o,m),u=kf(i,o,u,f,_,m),f=bf(),i!==null&&!hn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,qr(i,o,m)):(it&&f&&ff(o),o.flags|=1,nn(i,o,u,m),o.child)}function s_(i,o,u,f,m){if(cn(u)){var _=!0;_c(o)}else _=!1;if(qo(o,m),o.stateNode===null)Mc(i,o),Kv(o,u,f),Mf(o,u,f,m),f=!0;else if(i===null){var E=o.stateNode,R=o.memoizedProps;E.props=R;var O=E.context,q=u.contextType;typeof q=="object"&&q!==null?q=Nn(q):(q=cn(u)?xs:Wt.current,q=jo(o,q));var ee=u.getDerivedStateFromProps,ne=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==f||O!==q)&&Gv(o,E,f,q),Ii=!1;var Z=o.memoizedState;E.state=Z,xc(o,f,E,m),O=o.memoizedState,R!==f||Z!==O||un.current||Ii?(typeof ee=="function"&&(Lf(o,u,ee,f),O=o.memoizedState),(R=Ii||qv(o,u,R,f,Z,O,q))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=O),E.props=f,E.state=O,E.context=q,f=R):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{E=o.stateNode,Tv(i,o),R=o.memoizedProps,q=o.type===o.elementType?R:er(o.type,R),E.props=q,ne=o.pendingProps,Z=E.context,O=u.contextType,typeof O=="object"&&O!==null?O=Nn(O):(O=cn(u)?xs:Wt.current,O=jo(o,O));var ue=u.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==ne||Z!==O)&&Gv(o,E,f,O),Ii=!1,Z=o.memoizedState,E.state=Z,xc(o,f,E,m);var de=o.memoizedState;R!==ne||Z!==de||un.current||Ii?(typeof ue=="function"&&(Lf(o,u,ue,f),de=o.memoizedState),(q=Ii||qv(o,u,q,f,Z,de,O)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,de,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,de,O)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=de),E.props=f,E.state=de,E.context=O,f=q):(typeof E.componentDidUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),f=!1)}return Bf(i,o,u,f,_,m)}function Bf(i,o,u,f,m,_){i_(i,o);var E=(o.flags&128)!==0;if(!f&&!E)return m&&cv(o,u,!1),qr(i,o,_);f=o.stateNode,aC.current=o;var R=E&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&E?(o.child=Wo(o,i.child,null,_),o.child=Wo(o,null,R,_)):nn(i,o,R,_),o.memoizedState=f.state,m&&cv(o,u,!0),o.child}function o_(i){var o=i.stateNode;o.pendingContext?lv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&lv(i,o.context,!1),If(i,o.containerInfo)}function a_(i,o,u,f,m){return $o(),yf(m),o.flags|=256,nn(i,o,u,f),o.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function $f(i){return{baseLanes:i,cachePool:null,transitions:null}}function l_(i,o,u){var f=o.pendingProps,m=st.current,_=!1,E=(o.flags&128)!==0,R;if((R=E)||(R=i!==null&&i.memoizedState===null?!1:(m&2)!==0),R?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Xe(st,m&1),i===null)return gf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=f.children,i=f.fallback,_?(f=o.mode,_=o.child,E={mode:"hidden",children:E},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=E):_=Qc(E,f,0,null),i=Fs(i,f,u,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=$f(u),o.memoizedState=zf,i):Wf(o,E));if(m=i.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return lC(i,o,E,f,R,m,u);if(_){_=f.fallback,E=o.mode,m=i.child,R=m.sibling;var O={mode:"hidden",children:f.children};return(E&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=O,o.deletions=null):(f=bi(m,O),f.subtreeFlags=m.subtreeFlags&14680064),R!==null?_=bi(R,_):(_=Fs(_,E,u,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,E=i.child.memoizedState,E=E===null?$f(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},_.memoizedState=E,_.childLanes=i.childLanes&~u,o.memoizedState=zf,f}return _=i.child,i=_.sibling,f=bi(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Wf(i,o){return o=Qc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Lc(i,o,u,f){return f!==null&&yf(f),Wo(o,i.child,null,u),i=Wf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function lC(i,o,u,f,m,_,E){if(u)return o.flags&256?(o.flags&=-257,f=Ff(Error(t(422))),Lc(i,o,E,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=f.fallback,m=o.mode,f=Qc({mode:"visible",children:f.children},m,0,null),_=Fs(_,m,E,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&Wo(o,i.child,null,E),o.child.memoizedState=$f(E),o.memoizedState=zf,_);if((o.mode&1)===0)return Lc(i,o,E,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var R=f.dgst;return f=R,_=Error(t(419)),f=Ff(_,f,void 0),Lc(i,o,E,f)}if(R=(E&i.childLanes)!==0,hn||R){if(f=Nt,f!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|E))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,Wr(i,m),rr(f,i,m,-1))}return op(),f=Ff(Error(t(421))),Lc(i,o,E,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=TC.bind(null,i),m._reactRetry=o,null):(i=_.treeContext,En=wi(m.nextSibling),Tn=o,it=!0,Zn=null,i!==null&&(bn[Dn++]=zr,bn[Dn++]=$r,bn[Dn++]=Rs,zr=i.id,$r=i.overflow,Rs=o),o=Wf(o,f.children),o.flags|=4096,o)}function u_(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Tf(i.return,o,u)}function Hf(i,o,u,f,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=m)}function c_(i,o,u){var f=o.pendingProps,m=f.revealOrder,_=f.tail;if(nn(i,o,f.children,u),f=st.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&u_(i,u,o);else if(i.tag===19)u_(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Xe(st,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Rc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Hf(o,!1,m,u,_);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Rc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Hf(o,!0,u,null,_);break;case"together":Hf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function qr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Vs|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=bi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=bi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function uC(i,o,u){switch(o.tag){case 3:o_(o),$o();break;case 5:Iv(o);break;case 1:cn(o.type)&&_c(o);break;case 4:If(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Xe(Ac,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Xe(st,st.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?l_(i,o,u):(Xe(st,st.current&1),i=qr(i,o,u),i!==null?i.sibling:null);Xe(st,st.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return c_(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Xe(st,st.current),f)break;return null;case 22:case 23:return o.lanes=0,r_(i,o,u)}return qr(i,o,u)}var h_,qf,d_,f_;h_=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},qf=function(){},d_=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Ds(gr.current);var _=null;switch(u){case"input":m=hs(i,m),f=hs(i,f),_=[];break;case"select":m=ae({},m,{value:void 0}),f=ae({},f,{value:void 0}),_=[];break;case"textarea":m=Ba(i,m),f=Ba(i,f),_=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=gc)}Ka(u,f);var E;u=null;for(q in m)if(!f.hasOwnProperty(q)&&m.hasOwnProperty(q)&&m[q]!=null)if(q==="style"){var R=m[q];for(E in R)R.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(s.hasOwnProperty(q)?_||(_=[]):(_=_||[]).push(q,null));for(q in f){var O=f[q];if(R=m?.[q],f.hasOwnProperty(q)&&O!==R&&(O!=null||R!=null))if(q==="style")if(R){for(E in R)!R.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in O)O.hasOwnProperty(E)&&R[E]!==O[E]&&(u||(u={}),u[E]=O[E])}else u||(_||(_=[]),_.push(q,u)),u=O;else q==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,R=R?R.__html:void 0,O!=null&&R!==O&&(_=_||[]).push(q,O)):q==="children"?typeof O!="string"&&typeof O!="number"||(_=_||[]).push(q,""+O):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(s.hasOwnProperty(q)?(O!=null&&q==="onScroll"&&Ze("scroll",i),_||R===O||(_=[])):(_=_||[]).push(q,O))}u&&(_=_||[]).push("style",u);var q=_;(o.updateQueue=q)&&(o.flags|=4)}},f_=function(i,o,u,f){u!==f&&(o.flags|=4)};function Cl(i,o){if(!it)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function cC(i,o,u){var f=o.pendingProps;switch(pf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return cn(o.type)&&vc(),qt(o),null;case 3:return f=o.stateNode,Ko(),et(un),et(Wt),Cf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Sc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zn!==null&&(rp(Zn),Zn=null))),qf(i,o),qt(o),null;case 5:Af(o);var m=Ds(El.current);if(u=o.type,i!==null&&o.stateNode!=null)d_(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return qt(o),null}if(i=Ds(gr.current),Sc(o)){f=o.stateNode,u=o.type;var _=o.memoizedProps;switch(f[mr]=o,f[yl]=_,i=(o.mode&1)!==0,u){case"dialog":Ze("cancel",f),Ze("close",f);break;case"iframe":case"object":case"embed":Ze("load",f);break;case"video":case"audio":for(m=0;m<pl.length;m++)Ze(pl[m],f);break;case"source":Ze("error",f);break;case"img":case"image":case"link":Ze("error",f),Ze("load",f);break;case"details":Ze("toggle",f);break;case"input":ao(f,_),Ze("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Ze("invalid",f);break;case"textarea":uo(f,_),Ze("invalid",f)}Ka(u,_),m=null;for(var E in _)if(_.hasOwnProperty(E)){var R=_[E];E==="children"?typeof R=="string"?f.textContent!==R&&(_.suppressHydrationWarning!==!0&&mc(f.textContent,R,i),m=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(_.suppressHydrationWarning!==!0&&mc(f.textContent,R,i),m=["children",""+R]):s.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&Ze("scroll",f)}switch(u){case"input":kr(f),Bu(f,_,!0);break;case"textarea":kr(f),za(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=gc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=It(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=E.createElement(u,{is:f.is}):(i=E.createElement(u),u==="select"&&(E=i,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):i=E.createElementNS(i,u),i[mr]=o,i[yl]=f,h_(i,o,!1,!1),o.stateNode=i;e:{switch(E=Ga(u,f),u){case"dialog":Ze("cancel",i),Ze("close",i),m=f;break;case"iframe":case"object":case"embed":Ze("load",i),m=f;break;case"video":case"audio":for(m=0;m<pl.length;m++)Ze(pl[m],i);m=f;break;case"source":Ze("error",i),m=f;break;case"img":case"image":case"link":Ze("error",i),Ze("load",i),m=f;break;case"details":Ze("toggle",i),m=f;break;case"input":ao(i,f),m=hs(i,f),Ze("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ae({},f,{value:void 0}),Ze("invalid",i);break;case"textarea":uo(i,f),m=Ba(i,f),Ze("invalid",i);break;default:m=f}Ka(u,m),R=m;for(_ in R)if(R.hasOwnProperty(_)){var O=R[_];_==="style"?Ha(i,O):_==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&$a(i,O)):_==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&ui(i,O):typeof O=="number"&&ui(i,""+O):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?O!=null&&_==="onScroll"&&Ze("scroll",i):O!=null&&W(i,_,O,E))}switch(u){case"input":kr(i),Bu(i,f,!1);break;case"textarea":kr(i),za(i);break;case"option":f.value!=null&&i.setAttribute("value",""+We(f.value));break;case"select":i.multiple=!!f.multiple,_=f.value,_!=null?Dr(i,!!f.multiple,_,!1):f.defaultValue!=null&&Dr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=gc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return qt(o),null;case 6:if(i&&o.stateNode!=null)f_(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=Ds(El.current),Ds(gr.current),Sc(o)){if(f=o.stateNode,u=o.memoizedProps,f[mr]=o,(_=f.nodeValue!==u)&&(i=Tn,i!==null))switch(i.tag){case 3:mc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&mc(f.nodeValue,u,(i.mode&1)!==0)}_&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[mr]=o,o.stateNode=f}return qt(o),null;case 13:if(et(st),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(it&&En!==null&&(o.mode&1)!==0&&(o.flags&128)===0)gv(),$o(),o.flags|=98560,_=!1;else if(_=Sc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[mr]=o}else $o(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),_=!1}else Zn!==null&&(rp(Zn),Zn=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(st.current&1)!==0?xt===0&&(xt=3):op())),o.updateQueue!==null&&(o.flags|=4),qt(o),null);case 4:return Ko(),qf(i,o),i===null&&ml(o.stateNode.containerInfo),qt(o),null;case 10:return wf(o.type._context),qt(o),null;case 17:return cn(o.type)&&vc(),qt(o),null;case 19:if(et(st),_=o.memoizedState,_===null)return qt(o),null;if(f=(o.flags&128)!==0,E=_.rendering,E===null)if(f)Cl(_,!1);else{if(xt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=Rc(i),E!==null){for(o.flags|=128,Cl(_,!1),f=E.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)_=u,i=f,_.flags&=14680066,E=_.alternate,E===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=E.childLanes,_.lanes=E.lanes,_.child=E.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=E.memoizedProps,_.memoizedState=E.memoizedState,_.updateQueue=E.updateQueue,_.type=E.type,i=E.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Xe(st,st.current&1|2),o.child}i=i.sibling}_.tail!==null&&Ye()>Xo&&(o.flags|=128,f=!0,Cl(_,!1),o.lanes=4194304)}else{if(!f)if(i=Rc(E),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Cl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!E.alternate&&!it)return qt(o),null}else 2*Ye()-_.renderingStartTime>Xo&&u!==1073741824&&(o.flags|=128,f=!0,Cl(_,!1),o.lanes=4194304);_.isBackwards?(E.sibling=o.child,o.child=E):(u=_.last,u!==null?u.sibling=E:o.child=E,_.last=E)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Ye(),o.sibling=null,u=st.current,Xe(st,f?u&1|2:u&1),o):(qt(o),null);case 22:case 23:return sp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Sn&1073741824)!==0&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function hC(i,o){switch(pf(o),o.tag){case 1:return cn(o.type)&&vc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ko(),et(un),et(Wt),Cf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Af(o),null;case 13:if(et(st),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));$o()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return et(st),null;case 4:return Ko(),null;case 10:return wf(o.type._context),null;case 22:case 23:return sp(),null;case 24:return null;default:return null}}var Fc=!1,Kt=!1,dC=typeof WeakSet=="function"?WeakSet:Set,he=null;function Qo(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){ut(i,o,f)}else u.current=null}function Kf(i,o,u){try{u()}catch(f){ut(i,o,f)}}var p_=!1;function fC(i,o){if(sf=yi,i=qy(),Yd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var E=0,R=-1,O=-1,q=0,ee=0,ne=i,Z=null;t:for(;;){for(var ue;ne!==u||m!==0&&ne.nodeType!==3||(R=E+m),ne!==_||f!==0&&ne.nodeType!==3||(O=E+f),ne.nodeType===3&&(E+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)Z=ne,ne=ue;for(;;){if(ne===i)break t;if(Z===u&&++q===m&&(R=E),Z===_&&++ee===f&&(O=E),(ue=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ue}u=R===-1||O===-1?null:{start:R,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(of={focusedElem:i,selectionRange:u},yi=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var me=de.memoizedProps,ft=de.memoizedState,$=o.stateNode,L=$.getSnapshotBeforeUpdate(o.elementType===o.type?me:er(o.type,me),ft);$.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ut(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return de=p_,p_=!1,de}function xl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var _=m.destroy;m.destroy=void 0,_!==void 0&&Kf(o,u,_)}m=m.next}while(m!==f)}}function Uc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Gf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function m_(i){var o=i.alternate;o!==null&&(i.alternate=null,m_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[mr],delete o[yl],delete o[cf],delete o[QP],delete o[YP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function g_(i){return i.tag===5||i.tag===3||i.tag===4}function y_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||g_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=gc));else if(f!==4&&(i=i.child,i!==null))for(Qf(i,o,u),i=i.sibling;i!==null;)Qf(i,o,u),i=i.sibling}function Yf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Yf(i,o,u),i=i.sibling;i!==null;)Yf(i,o,u),i=i.sibling}var Ft=null,tr=!1;function Pi(i,o,u){for(u=u.child;u!==null;)v_(i,o,u),u=u.sibling}function v_(i,o,u){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(ws,u)}catch{}switch(u.tag){case 5:Kt||Qo(u,o);case 6:var f=Ft,m=tr;Ft=null,Pi(i,o,u),Ft=f,tr=m,Ft!==null&&(tr?(i=Ft,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ft.removeChild(u.stateNode));break;case 18:Ft!==null&&(tr?(i=Ft,u=u.stateNode,i.nodeType===8?uf(i.parentNode,u):i.nodeType===1&&uf(i,u),Yn(i)):uf(Ft,u.stateNode));break;case 4:f=Ft,m=tr,Ft=u.stateNode.containerInfo,tr=!0,Pi(i,o,u),Ft=f,tr=m;break;case 0:case 11:case 14:case 15:if(!Kt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var _=m,E=_.destroy;_=_.tag,E!==void 0&&((_&2)!==0||(_&4)!==0)&&Kf(u,o,E),m=m.next}while(m!==f)}Pi(i,o,u);break;case 1:if(!Kt&&(Qo(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(R){ut(u,o,R)}Pi(i,o,u);break;case 21:Pi(i,o,u);break;case 22:u.mode&1?(Kt=(f=Kt)||u.memoizedState!==null,Pi(i,o,u),Kt=f):Pi(i,o,u);break;default:Pi(i,o,u)}}function __(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new dC),o.forEach(function(f){var m=EC.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function nr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var _=i,E=o,R=E;e:for(;R!==null;){switch(R.tag){case 5:Ft=R.stateNode,tr=!1;break e;case 3:Ft=R.stateNode.containerInfo,tr=!0;break e;case 4:Ft=R.stateNode.containerInfo,tr=!0;break e}R=R.return}if(Ft===null)throw Error(t(160));v_(_,E,m),Ft=null,tr=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(q){ut(m,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)w_(o,i),o=o.sibling}function w_(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(nr(o,i),vr(i),f&4){try{xl(3,i,i.return),Uc(3,i)}catch(me){ut(i,i.return,me)}try{xl(5,i,i.return)}catch(me){ut(i,i.return,me)}}break;case 1:nr(o,i),vr(i),f&512&&u!==null&&Qo(u,u.return);break;case 5:if(nr(o,i),vr(i),f&512&&u!==null&&Qo(u,u.return),i.flags&32){var m=i.stateNode;try{ui(m,"")}catch(me){ut(i,i.return,me)}}if(f&4&&(m=i.stateNode,m!=null)){var _=i.memoizedProps,E=u!==null?u.memoizedProps:_,R=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{R==="input"&&_.type==="radio"&&_.name!=null&&Ua(m,_),Ga(R,E);var q=Ga(R,_);for(E=0;E<O.length;E+=2){var ee=O[E],ne=O[E+1];ee==="style"?Ha(m,ne):ee==="dangerouslySetInnerHTML"?$a(m,ne):ee==="children"?ui(m,ne):W(m,ee,ne,q)}switch(R){case"input":ja(m,_);break;case"textarea":co(m,_);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var ue=_.value;ue!=null?Dr(m,!!_.multiple,ue,!1):Z!==!!_.multiple&&(_.defaultValue!=null?Dr(m,!!_.multiple,_.defaultValue,!0):Dr(m,!!_.multiple,_.multiple?[]:"",!1))}m[yl]=_}catch(me){ut(i,i.return,me)}}break;case 6:if(nr(o,i),vr(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,_=i.memoizedProps;try{m.nodeValue=_}catch(me){ut(i,i.return,me)}}break;case 3:if(nr(o,i),vr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Yn(o.containerInfo)}catch(me){ut(i,i.return,me)}break;case 4:nr(o,i),vr(i);break;case 13:nr(o,i),vr(i),m=i.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(Zf=Ye())),f&4&&__(i);break;case 22:if(ee=u!==null&&u.memoizedState!==null,i.mode&1?(Kt=(q=Kt)||ee,nr(o,i),Kt=q):nr(o,i),vr(i),f&8192){if(q=i.memoizedState!==null,(i.stateNode.isHidden=q)&&!ee&&(i.mode&1)!==0)for(he=i,ee=i.child;ee!==null;){for(ne=he=ee;he!==null;){switch(Z=he,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:xl(4,Z,Z.return);break;case 1:Qo(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){f=Z,u=Z.return;try{o=f,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(me){ut(f,u,me)}}break;case 5:Qo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){S_(ne);continue}}ue!==null?(ue.return=Z,he=ue):S_(ne)}ee=ee.sibling}e:for(ee=null,ne=i;;){if(ne.tag===5){if(ee===null){ee=ne;try{m=ne.stateNode,q?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(R=ne.stateNode,O=ne.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,R.style.display=Wa("display",E))}catch(me){ut(i,i.return,me)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(me){ut(i,i.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===i)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===i)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===i)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:nr(o,i),vr(i),f&4&&__(i);break;case 21:break;default:nr(o,i),vr(i)}}function vr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(g_(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(ui(m,""),f.flags&=-33);var _=y_(i);Yf(i,_,m);break;case 3:case 4:var E=f.stateNode.containerInfo,R=y_(i);Qf(i,R,E);break;default:throw Error(t(161))}}catch(O){ut(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function pC(i,o,u){he=i,T_(i)}function T_(i,o,u){for(var f=(i.mode&1)!==0;he!==null;){var m=he,_=m.child;if(m.tag===22&&f){var E=m.memoizedState!==null||Fc;if(!E){var R=m.alternate,O=R!==null&&R.memoizedState!==null||Kt;R=Fc;var q=Kt;if(Fc=E,(Kt=O)&&!q)for(he=m;he!==null;)E=he,O=E.child,E.tag===22&&E.memoizedState!==null?I_(m):O!==null?(O.return=E,he=O):I_(m);for(;_!==null;)he=_,T_(_),_=_.sibling;he=m,Fc=R,Kt=q}E_(i)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,he=_):E_(i)}}function E_(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Kt||Uc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Kt)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:er(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&Sv(o,_,f);break;case 3:var E=o.updateQueue;if(E!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Sv(o,E,u)}break;case 5:var R=o.stateNode;if(u===null&&o.flags&4){u=R;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Yn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kt||o.flags&512&&Gf(o)}catch(Z){ut(o,o.return,Z)}}if(o===i){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function S_(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function I_(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Uc(4,o)}catch(O){ut(o,u,O)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(O){ut(o,m,O)}}var _=o.return;try{Gf(o)}catch(O){ut(o,_,O)}break;case 5:var E=o.return;try{Gf(o)}catch(O){ut(o,E,O)}}}catch(O){ut(o,o.return,O)}if(o===i){he=null;break}var R=o.sibling;if(R!==null){R.return=o.return,he=R;break}he=o.return}}var mC=Math.ceil,jc=K.ReactCurrentDispatcher,Xf=K.ReactCurrentOwner,On=K.ReactCurrentBatchConfig,je=0,Nt=null,_t=null,Ut=0,Sn=0,Yo=Ti(0),xt=0,Rl=null,Vs=0,Bc=0,Jf=0,kl=null,dn=null,Zf=0,Xo=1/0,Kr=null,zc=!1,ep=null,Ci=null,$c=!1,xi=null,Wc=0,bl=0,tp=null,Hc=-1,qc=0;function rn(){return(je&6)!==0?Ye():Hc!==-1?Hc:Hc=Ye()}function Ri(i){return(i.mode&1)===0?1:(je&2)!==0&&Ut!==0?Ut&-Ut:JP.transition!==null?(qc===0&&(qc=Es()),qc):(i=Le,i!==0||(i=window.event,i=i===void 0?16:sl(i.type)),i)}function rr(i,o,u,f){if(50<bl)throw bl=0,tp=null,Error(t(185));fi(i,u,f),((je&2)===0||i!==Nt)&&(i===Nt&&((je&2)===0&&(Bc|=u),xt===4&&ki(i,Ut)),fn(i,f),u===1&&je===0&&(o.mode&1)===0&&(Xo=Ye()+500,wc&&Si()))}function fn(i,o){var u=i.callbackNode;Or(i,o);var f=Ts(i,i===Nt?Ut:0);if(f===0)u!==null&&el(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&el(u),o===1)i.tag===0?XP(P_.bind(null,i)):hv(P_.bind(null,i)),KP(function(){(je&6)===0&&Si()}),u=null;else{switch(mi(f)){case 1:u=_s;break;case 4:u=ci;break;case 16:u=xn;break;case 536870912:u=qu;break;default:u=xn}u=V_(u,A_.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function A_(i,o){if(Hc=-1,qc=0,(je&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Jo()&&i.callbackNode!==u)return null;var f=Ts(i,i===Nt?Ut:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=Kc(i,f);else{o=f;var m=je;je|=2;var _=x_();(Nt!==i||Ut!==o)&&(Kr=null,Xo=Ye()+500,Ls(i,o));do try{vC();break}catch(R){C_(i,R)}while(!0);_f(),jc.current=_,je=m,_t!==null?o=0:(Nt=null,Ut=0,o=xt)}if(o!==0){if(o===2&&(m=vn(i),m!==0&&(f=m,o=np(i,m))),o===1)throw u=Rl,Ls(i,0),ki(i,f),fn(i,Ye()),u;if(o===6)ki(i,f);else{if(m=i.current.alternate,(f&30)===0&&!gC(m)&&(o=Kc(i,f),o===2&&(_=vn(i),_!==0&&(f=_,o=np(i,_))),o===1))throw u=Rl,Ls(i,0),ki(i,f),fn(i,Ye()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Ms(i,dn,Kr);break;case 3:if(ki(i,f),(f&130023424)===f&&(o=Zf+500-Ye(),10<o)){if(Ts(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){rn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=lf(Ms.bind(null,i,dn,Kr),o);break}Ms(i,dn,Kr);break;case 4:if(ki(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var E=31-en(f);_=1<<E,E=o[E],E>m&&(m=E),f&=~_}if(f=m,f=Ye()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*mC(f/1960))-f,10<f){i.timeoutHandle=lf(Ms.bind(null,i,dn,Kr),f);break}Ms(i,dn,Kr);break;case 5:Ms(i,dn,Kr);break;default:throw Error(t(329))}}}return fn(i,Ye()),i.callbackNode===u?A_.bind(null,i):null}function np(i,o){var u=kl;return i.current.memoizedState.isDehydrated&&(Ls(i,o).flags|=256),i=Kc(i,o),i!==2&&(o=dn,dn=u,o!==null&&rp(o)),i}function rp(i){dn===null?dn=i:dn.push.apply(dn,i)}function gC(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],_=m.getSnapshot;m=m.value;try{if(!Jn(_(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ki(i,o){for(o&=~Jf,o&=~Bc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-en(o),f=1<<u;i[u]=-1,o&=~f}}function P_(i){if((je&6)!==0)throw Error(t(327));Jo();var o=Ts(i,0);if((o&1)===0)return fn(i,Ye()),null;var u=Kc(i,o);if(i.tag!==0&&u===2){var f=vn(i);f!==0&&(o=f,u=np(i,f))}if(u===1)throw u=Rl,Ls(i,0),ki(i,o),fn(i,Ye()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ms(i,dn,Kr),fn(i,Ye()),null}function ip(i,o){var u=je;je|=1;try{return i(o)}finally{je=u,je===0&&(Xo=Ye()+500,wc&&Si())}}function Os(i){xi!==null&&xi.tag===0&&(je&6)===0&&Jo();var o=je;je|=1;var u=On.transition,f=Le;try{if(On.transition=null,Le=1,i)return i()}finally{Le=f,On.transition=u,je=o,(je&6)===0&&Si()}}function sp(){Sn=Yo.current,et(Yo)}function Ls(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,qP(u)),_t!==null)for(u=_t.return;u!==null;){var f=u;switch(pf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&vc();break;case 3:Ko(),et(un),et(Wt),Cf();break;case 5:Af(f);break;case 4:Ko();break;case 13:et(st);break;case 19:et(st);break;case 10:wf(f.type._context);break;case 22:case 23:sp()}u=u.return}if(Nt=i,_t=i=bi(i.current,null),Ut=Sn=o,xt=0,Rl=null,Jf=Bc=Vs=0,dn=kl=null,bs!==null){for(o=0;o<bs.length;o++)if(u=bs[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,_=u.pending;if(_!==null){var E=_.next;_.next=m,f.next=E}u.pending=f}bs=null}return i}function C_(i,o){do{var u=_t;try{if(_f(),kc.current=Vc,bc){for(var f=ot.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}bc=!1}if(Ns=0,Dt=Ct=ot=null,Sl=!1,Il=0,Xf.current=null,u===null||u.return===null){xt=1,Rl=o,_t=null;break}e:{var _=i,E=u.return,R=u,O=o;if(o=Ut,R.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=O,ee=R,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=Jv(E);if(ue!==null){ue.flags&=-257,Zv(ue,E,R,_,o),ue.mode&1&&Xv(_,q,o),o=ue,O=q;var de=o.updateQueue;if(de===null){var me=new Set;me.add(O),o.updateQueue=me}else de.add(O);break e}else{if((o&1)===0){Xv(_,q,o),op();break e}O=Error(t(426))}}else if(it&&R.mode&1){var ft=Jv(E);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Zv(ft,E,R,_,o),yf(Go(O,R));break e}}_=O=Go(O,R),xt!==4&&(xt=2),kl===null?kl=[_]:kl.push(_),_=E;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var $=Qv(_,O,o);Ev(_,$);break e;case 1:R=O;var L=_.type,H=_.stateNode;if((_.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ci===null||!Ci.has(H)))){_.flags|=65536,o&=-o,_.lanes|=o;var se=Yv(_,R,o);Ev(_,se);break e}}_=_.return}while(_!==null)}k_(u)}catch(ge){o=ge,_t===u&&u!==null&&(_t=u=u.return);continue}break}while(!0)}function x_(){var i=jc.current;return jc.current=Vc,i===null?Vc:i}function op(){(xt===0||xt===3||xt===2)&&(xt=4),Nt===null||(Vs&268435455)===0&&(Bc&268435455)===0||ki(Nt,Ut)}function Kc(i,o){var u=je;je|=2;var f=x_();(Nt!==i||Ut!==o)&&(Kr=null,Ls(i,o));do try{yC();break}catch(m){C_(i,m)}while(!0);if(_f(),je=u,jc.current=f,_t!==null)throw Error(t(261));return Nt=null,Ut=0,xt}function yC(){for(;_t!==null;)R_(_t)}function vC(){for(;_t!==null&&!Wu();)R_(_t)}function R_(i){var o=N_(i.alternate,i,Sn);i.memoizedProps=i.pendingProps,o===null?k_(i):_t=o,Xf.current=null}function k_(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=cC(u,o,Sn),u!==null){_t=u;return}}else{if(u=hC(u,o),u!==null){u.flags&=32767,_t=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{xt=6,_t=null;return}}if(o=o.sibling,o!==null){_t=o;return}_t=o=i}while(o!==null);xt===0&&(xt=5)}function Ms(i,o,u){var f=Le,m=On.transition;try{On.transition=null,Le=1,_C(i,o,u,f)}finally{On.transition=m,Le=f}return null}function _C(i,o,u,f){do Jo();while(xi!==null);if((je&6)!==0)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(Ge(i,_),i===Nt&&(_t=Nt=null,Ut=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||$c||($c=!0,V_(xn,function(){return Jo(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=On.transition,On.transition=null;var E=Le;Le=1;var R=je;je|=4,Xf.current=null,fC(i,u),w_(u,i),UP(of),yi=!!sf,of=sf=null,i.current=u,pC(u),zd(),je=R,Le=E,On.transition=_}else i.current=u;if($c&&($c=!1,xi=i,Wc=m),_=i.pendingLanes,_===0&&(Ci=null),Ku(u.stateNode),fn(i,Ye()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(zc)throw zc=!1,i=ep,ep=null,i;return(Wc&1)!==0&&i.tag!==0&&Jo(),_=i.pendingLanes,(_&1)!==0?i===tp?bl++:(bl=0,tp=i):bl=0,Si(),null}function Jo(){if(xi!==null){var i=mi(Wc),o=On.transition,u=Le;try{if(On.transition=null,Le=16>i?16:i,xi===null)var f=!1;else{if(i=xi,xi=null,Wc=0,(je&6)!==0)throw Error(t(331));var m=je;for(je|=4,he=i.current;he!==null;){var _=he,E=_.child;if((he.flags&16)!==0){var R=_.deletions;if(R!==null){for(var O=0;O<R.length;O++){var q=R[O];for(he=q;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:xl(8,ee,_)}var ne=ee.child;if(ne!==null)ne.return=ee,he=ne;else for(;he!==null;){ee=he;var Z=ee.sibling,ue=ee.return;if(m_(ee),ee===q){he=null;break}if(Z!==null){Z.return=ue,he=Z;break}he=ue}}}var de=_.alternate;if(de!==null){var me=de.child;if(me!==null){de.child=null;do{var ft=me.sibling;me.sibling=null,me=ft}while(me!==null)}}he=_}}if((_.subtreeFlags&2064)!==0&&E!==null)E.return=_,he=E;else e:for(;he!==null;){if(_=he,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:xl(9,_,_.return)}var $=_.sibling;if($!==null){$.return=_.return,he=$;break e}he=_.return}}var L=i.current;for(he=L;he!==null;){E=he;var H=E.child;if((E.subtreeFlags&2064)!==0&&H!==null)H.return=E,he=H;else e:for(E=L;he!==null;){if(R=he,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Uc(9,R)}}catch(ge){ut(R,R.return,ge)}if(R===E){he=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,he=se;break e}he=R.return}}if(je=m,Si(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(ws,i)}catch{}f=!0}return f}finally{Le=u,On.transition=o}}return!1}function b_(i,o,u){o=Go(u,o),o=Qv(i,o,1),i=Ai(i,o,1),o=rn(),i!==null&&(fi(i,1,o),fn(i,o))}function ut(i,o,u){if(i.tag===3)b_(i,i,u);else for(;o!==null;){if(o.tag===3){b_(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))){i=Go(u,i),i=Yv(o,i,1),o=Ai(o,i,1),i=rn(),o!==null&&(fi(o,1,i),fn(o,i));break}}o=o.return}}function wC(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=rn(),i.pingedLanes|=i.suspendedLanes&u,Nt===i&&(Ut&u)===u&&(xt===4||xt===3&&(Ut&130023424)===Ut&&500>Ye()-Zf?Ls(i,0):Jf|=u),fn(i,o)}function D_(i,o){o===0&&((i.mode&1)===0?o=1:(o=To,To<<=1,(To&130023424)===0&&(To=4194304)));var u=rn();i=Wr(i,o),i!==null&&(fi(i,o,u),fn(i,u))}function TC(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),D_(i,u)}function EC(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),D_(i,u)}var N_;N_=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||un.current)hn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return hn=!1,uC(i,o,u);hn=(i.flags&131072)!==0}else hn=!1,it&&(o.flags&1048576)!==0&&dv(o,Ec,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Mc(i,o),i=o.pendingProps;var m=jo(o,Wt.current);qo(o,u),m=kf(null,o,f,i,m,u);var _=bf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,cn(f)?(_=!0,_c(o)):_=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Sf(o),m.updater=Oc,o.stateNode=m,m._reactInternals=o,Mf(o,f,i,u),o=Bf(null,o,f,!0,_,u)):(o.tag=0,it&&_&&ff(o),nn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Mc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=IC(f),i=er(f,i),m){case 0:o=jf(null,o,f,i,u);break e;case 1:o=s_(null,o,f,i,u);break e;case 11:o=e_(null,o,f,i,u);break e;case 14:o=t_(null,o,f,er(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:er(f,m),jf(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:er(f,m),s_(i,o,f,m,u);case 3:e:{if(o_(o),i===null)throw Error(t(387));f=o.pendingProps,_=o.memoizedState,m=_.element,Tv(i,o),xc(o,f,null,u);var E=o.memoizedState;if(f=E.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){m=Go(Error(t(423)),o),o=a_(i,o,f,u,m);break e}else if(f!==m){m=Go(Error(t(424)),o),o=a_(i,o,f,u,m);break e}else for(En=wi(o.stateNode.containerInfo.firstChild),Tn=o,it=!0,Zn=null,u=_v(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if($o(),f===m){o=qr(i,o,u);break e}nn(i,o,f,u)}o=o.child}return o;case 5:return Iv(o),i===null&&gf(o),f=o.type,m=o.pendingProps,_=i!==null?i.memoizedProps:null,E=m.children,af(f,m)?E=null:_!==null&&af(f,_)&&(o.flags|=32),i_(i,o),nn(i,o,E,u),o.child;case 6:return i===null&&gf(o),null;case 13:return l_(i,o,u);case 4:return If(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Wo(o,null,f,u):nn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:er(f,m),e_(i,o,f,m,u);case 7:return nn(i,o,o.pendingProps,u),o.child;case 8:return nn(i,o,o.pendingProps.children,u),o.child;case 12:return nn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,_=o.memoizedProps,E=m.value,Xe(Ac,f._currentValue),f._currentValue=E,_!==null)if(Jn(_.value,E)){if(_.children===m.children&&!un.current){o=qr(i,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var R=_.dependencies;if(R!==null){E=_.child;for(var O=R.firstContext;O!==null;){if(O.context===f){if(_.tag===1){O=Hr(-1,u&-u),O.tag=2;var q=_.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?O.next=O:(O.next=ee.next,ee.next=O),q.pending=O}}_.lanes|=u,O=_.alternate,O!==null&&(O.lanes|=u),Tf(_.return,u,o),R.lanes|=u;break}O=O.next}}else if(_.tag===10)E=_.type===o.type?null:_.child;else if(_.tag===18){if(E=_.return,E===null)throw Error(t(341));E.lanes|=u,R=E.alternate,R!==null&&(R.lanes|=u),Tf(E,u,o),E=_.sibling}else E=_.child;if(E!==null)E.return=_;else for(E=_;E!==null;){if(E===o){E=null;break}if(_=E.sibling,_!==null){_.return=E.return,E=_;break}E=E.return}_=E}nn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,qo(o,u),m=Nn(m),f=f(m),o.flags|=1,nn(i,o,f,u),o.child;case 14:return f=o.type,m=er(f,o.pendingProps),m=er(f.type,m),t_(i,o,f,m,u);case 15:return n_(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:er(f,m),Mc(i,o),o.tag=1,cn(f)?(i=!0,_c(o)):i=!1,qo(o,u),Kv(o,f,m),Mf(o,f,m,u),Bf(null,o,f,!0,i,u);case 19:return c_(i,o,u);case 22:return r_(i,o,u)}throw Error(t(156,o.tag))};function V_(i,o){return _o(i,o)}function SC(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,o,u,f){return new SC(i,o,u,f)}function ap(i){return i=i.prototype,!(!i||!i.isReactComponent)}function IC(i){if(typeof i=="function")return ap(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===yt)return 14}return 2}function bi(i,o){var u=i.alternate;return u===null?(u=Ln(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Gc(i,o,u,f,m,_){var E=2;if(f=i,typeof i=="function")ap(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case D:return Fs(u.children,m,_,o);case P:E=8,m|=8;break;case x:return i=Ln(12,u,o,m|2),i.elementType=x,i.lanes=_,i;case b:return i=Ln(13,u,o,m),i.elementType=b,i.lanes=_,i;case Ne:return i=Ln(19,u,o,m),i.elementType=Ne,i.lanes=_,i;case ve:return Qc(u,m,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:E=10;break e;case M:E=9;break e;case j:E=11;break e;case yt:E=14;break e;case Ke:E=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Ln(E,u,o,m),o.elementType=i,o.type=f,o.lanes=_,o}function Fs(i,o,u,f){return i=Ln(7,i,f,o),i.lanes=u,i}function Qc(i,o,u,f){return i=Ln(22,i,f,o),i.elementType=ve,i.lanes=u,i.stateNode={isHidden:!1},i}function lp(i,o,u){return i=Ln(6,i,null,o),i.lanes=u,i}function up(i,o,u){return o=Ln(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function AC(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=di(0),this.expirationTimes=di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function cp(i,o,u,f,m,_,E,R,O){return i=new AC(i,o,u,R,O),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Ln(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sf(_),i}function PC(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function O_(i){if(!i)return Ei;i=i._reactInternals;e:{if(Hn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(cn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(cn(u))return uv(i,u,o)}return o}function L_(i,o,u,f,m,_,E,R,O){return i=cp(u,f,!0,i,m,_,E,R,O),i.context=O_(null),u=i.current,f=rn(),m=Ri(u),_=Hr(f,m),_.callback=o??null,Ai(u,_,m),i.current.lanes=m,fi(i,m,f),fn(i,f),i}function Yc(i,o,u,f){var m=o.current,_=rn(),E=Ri(m);return u=O_(u),o.context===null?o.context=u:o.pendingContext=u,o=Hr(_,E),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Ai(m,o,E),i!==null&&(rr(i,m,E,_),Cc(i,m,E)),E}function Xc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function M_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function hp(i,o){M_(i,o),(i=i.alternate)&&M_(i,o)}function CC(){return null}var F_=typeof reportError=="function"?reportError:function(i){console.error(i)};function dp(i){this._internalRoot=i}Jc.prototype.render=dp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Yc(i,o,null,null)},Jc.prototype.unmount=dp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Os(function(){Yc(null,i,null,null)}),o[jr]=null}};function Jc(i){this._internalRoot=i}Jc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ju();i={blockedOn:null,target:i,priority:o};for(var u=0;u<hr.length&&o!==0&&o<hr[u].priority;u++);hr.splice(u,0,i),u===0&&tc(i)}};function fp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Zc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function U_(){}function xC(i,o,u,f,m){if(m){if(typeof f=="function"){var _=f;f=function(){var q=Xc(E);_.call(q)}}var E=L_(o,f,i,0,null,!1,!1,"",U_);return i._reactRootContainer=E,i[jr]=E.current,ml(i.nodeType===8?i.parentNode:i),Os(),E}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var R=f;f=function(){var q=Xc(O);R.call(q)}}var O=cp(i,0,!1,null,null,!1,!1,"",U_);return i._reactRootContainer=O,i[jr]=O.current,ml(i.nodeType===8?i.parentNode:i),Os(function(){Yc(o,O,u,f)}),O}function eh(i,o,u,f,m){var _=u._reactRootContainer;if(_){var E=_;if(typeof m=="function"){var R=m;m=function(){var O=Xc(E);R.call(O)}}Yc(o,E,i,m)}else E=xC(u,o,i,m,f);return Xc(E)}Yu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=hi(o.pendingLanes);u!==0&&(pi(o,u|1),fn(o,Ye()),(je&6)===0&&(Xo=Ye()+500,Si()))}break;case 13:Os(function(){var f=Wr(i,1);if(f!==null){var m=rn();rr(f,i,1,m)}}),hp(i,1)}},Eo=function(i){if(i.tag===13){var o=Wr(i,134217728);if(o!==null){var u=rn();rr(o,i,134217728,u)}hp(i,134217728)}},Xu=function(i){if(i.tag===13){var o=Ri(i),u=Wr(i,o);if(u!==null){var f=rn();rr(u,i,o,f)}hp(i,o)}},Ju=function(){return Le},Zu=function(i,o){var u=Le;try{return Le=i,o()}finally{Le=u}},fo=function(i,o,u){switch(o){case"input":if(ja(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=yc(f);if(!m)throw Error(t(90));oo(f),ja(f,m)}}}break;case"textarea":co(i,u);break;case"select":o=u.value,o!=null&&Dr(i,!!u.multiple,o,!1)}},ms=ip,Ya=Os;var RC={usingClientEntryPoint:!1,Events:[vl,Fo,yc,ur,Qa,ip]},Dl={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kC={bundleType:Dl.bundleType,version:Dl.version,rendererPackageName:Dl.rendererPackageName,rendererConfig:Dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Za(i),i===null?null:i.stateNode},findFiberByHostInstance:Dl.findFiberByHostInstance||CC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{ws=th.inject(kC),yn=th}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RC,pn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fp(o))throw Error(t(200));return PC(i,o,null,u)},pn.createRoot=function(i,o){if(!fp(i))throw Error(t(299));var u=!1,f="",m=F_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=cp(i,1,!1,null,null,u,!1,f,m),i[jr]=o.current,ml(i.nodeType===8?i.parentNode:i),new dp(o)},pn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Za(o),i=i===null?null:i.stateNode,i},pn.flushSync=function(i){return Os(i)},pn.hydrate=function(i,o,u){if(!Zc(o))throw Error(t(200));return eh(null,i,o,!0,u)},pn.hydrateRoot=function(i,o,u){if(!fp(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,_="",E=F_;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),o=L_(o,null,i,1,u??null,m,!1,_,E),i[jr]=o.current,ml(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Jc(o)},pn.render=function(i,o,u){if(!Zc(o))throw Error(t(200));return eh(null,i,o,!1,u)},pn.unmountComponentAtNode=function(i){if(!Zc(i))throw Error(t(40));return i._reactRootContainer?(Os(function(){eh(null,null,i,!1,function(){i._reactRootContainer=null,i[jr]=null})}),!0):!1},pn.unstable_batchedUpdates=ip,pn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Zc(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return eh(i,o,u,!1,f)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var K_;function xE(){if(K_)return gp.exports;K_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gp.exports=FC(),gp.exports}var G_;function UC(){if(G_)return nh;G_=1;var n=xE();return nh.createRoot=n.createRoot,nh.hydrateRoot=n.hydrateRoot,nh}var jC=UC();const BC=Su(jC),zC="modulepreload",$C=function(n){return"/soldi-sotto/"+n},Q_={},ii=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");s=d(t.map(p=>{if(p=$C(p),p in Q_)return;Q_[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":zC,g||(w.as="script"),w.crossOrigin="",w.href=p,c&&w.setAttribute("nonce",c),document.head.appendChild(w),g)return new Promise((S,A)=>{w.addEventListener("load",S),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var V=eg();const Bi=Su(V),WC=DC({__proto__:null,default:Bi},[V]);var HC=xE();const x6=Su(HC);function iu(){return iu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},iu.apply(this,arguments)}var Ui;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ui||(Ui={}));const Y_="popstate";function qC(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return em("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:kh(s)}return GC(e,t,null,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tg(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KC(){return Math.random().toString(36).substr(2,8)}function X_(n,e){return{usr:n.state,key:n.key,idx:e}}function em(n,e,t,r){return t===void 0&&(t=null),iu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ca(e):e,{state:t,key:e&&e.key||r||KC()})}function kh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ca(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function GC(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c=Ui.Pop,d=null,p=g();p==null&&(p=0,l.replaceState(iu({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function y(){c=Ui.Pop;let C=g(),z=C==null?null:C-p;p=C,d&&d({action:c,location:k.location,delta:z})}function w(C,z){c=Ui.Push;let U=em(k.location,C,z);p=g()+1;let W=X_(U,p),K=k.createHref(U);try{l.pushState(W,"",K)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign(K)}a&&d&&d({action:c,location:k.location,delta:1})}function S(C,z){c=Ui.Replace;let U=em(k.location,C,z);p=g();let W=X_(U,p),K=k.createHref(U);l.replaceState(W,"",K),a&&d&&d({action:c,location:k.location,delta:0})}function A(C){let z=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof C=="string"?C:kh(C);return U=U.replace(/ $/,"%20"),gt(z,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,z)}let k={get action(){return c},get location(){return n(s,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Y_,y),d=C,()=>{s.removeEventListener(Y_,y),d=null}},createHref(C){return e(s,C)},createURL:A,encodeLocation(C){let z=A(C);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:S,go(C){return l.go(C)}};return k}var J_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(J_||(J_={}));function QC(n,e,t){return t===void 0&&(t="/"),YC(n,e,t)}function YC(n,e,t,r){let s=typeof e=="string"?Ca(e):e,a=ng(s.pathname||"/",t);if(a==null)return null;let l=RE(n);XC(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=ux(a);c=ox(l[d],p)}return c}function RE(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(gt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=zi([r,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(gt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),RE(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:ix(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let d of kE(a.path))s(a,l,d)}),e}function kE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=kE(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function XC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const JC=/^:[\w-]+$/,ZC=3,ex=2,tx=1,nx=10,rx=-2,Z_=n=>n==="*";function ix(n,e){let t=n.split("/"),r=t.length;return t.some(Z_)&&(r+=rx),e&&(r+=ex),t.filter(s=>!Z_(s)).reduce((s,a)=>s+(JC.test(a)?ZC:a===""?tx:nx),r)}function sx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function ox(n,e,t){let{routesMeta:r}=n,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=ax({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),w=d.route;if(!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:zi([a,y.pathname]),pathnameBase:px(zi([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=zi([a,y.pathnameBase]))}return l}function ax(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=lx(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,g,y)=>{let{paramName:w,isOptional:S}=g;if(w==="*"){let k=c[y]||"";l=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const A=c[y];return S&&!A?p[w]=void 0:p[w]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function lx(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),tg(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ux(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tg(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ng(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hx=n=>cx.test(n);function dx(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ca(n):n,a;if(t)if(hx(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),tg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+t))}t.startsWith("/")?a=e0(t.substring(1),"/"):a=e0(t,e)}else a=e;return{pathname:a,search:mx(r),hash:gx(s)}}function e0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function _p(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rg(n,e){let t=fx(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function ig(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Ca(n):(s=iu({},n),gt(!s.pathname||!s.pathname.includes("?"),_p("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),_p("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),_p("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;s.pathname=w.join("/")}c=y>=0?e[y]:"/"}let d=dx(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}const zi=n=>n.join("/").replace(/\/\/+/g,"/"),px=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const bE=["post","put","patch","delete"];new Set(bE);const vx=["get",...bE];new Set(vx);function su(){return su=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},su.apply(this,arguments)}const sg=V.createContext(null),_x=V.createContext(null),ss=V.createContext(null),ad=V.createContext(null),os=V.createContext({outlet:null,matches:[],isDataRoute:!1}),DE=V.createContext(null);function wx(n,e){let{relative:t}=e===void 0?{}:e;xa()||gt(!1);let{basename:r,navigator:s}=V.useContext(ss),{hash:a,pathname:l,search:c}=VE(n,{relative:t}),d=l;return r!=="/"&&(d=l==="/"?r:zi([r,l])),s.createHref({pathname:d,search:c,hash:a})}function xa(){return V.useContext(ad)!=null}function si(){return xa()||gt(!1),V.useContext(ad).location}function NE(n){V.useContext(ss).static||V.useLayoutEffect(n)}function ld(){let{isDataRoute:n}=V.useContext(os);return n?Nx():Tx()}function Tx(){xa()||gt(!1);let n=V.useContext(sg),{basename:e,future:t,navigator:r}=V.useContext(ss),{matches:s}=V.useContext(os),{pathname:a}=si(),l=JSON.stringify(rg(s,t.v7_relativeSplatPath)),c=V.useRef(!1);return NE(()=>{c.current=!0}),V.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let y=ig(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:zi([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,l,a,n])}function VE(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=V.useContext(ss),{matches:s}=V.useContext(os),{pathname:a}=si(),l=JSON.stringify(rg(s,r.v7_relativeSplatPath));return V.useMemo(()=>ig(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function Ex(n,e){return Sx(n,e)}function Sx(n,e,t,r){xa()||gt(!1);let{navigator:s}=V.useContext(ss),{matches:a}=V.useContext(os),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=si(),g;if(e){var y;let C=typeof e=="string"?Ca(e):e;d==="/"||(y=C.pathname)!=null&&y.startsWith(d)||gt(!1),g=C}else g=p;let w=g.pathname||"/",S=w;if(d!=="/"){let C=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let A=QC(n,{pathname:S}),k=xx(A&&A.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:zi([d,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:zi([d,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,t,r);return e&&k?V.createElement(ad.Provider,{value:{location:su({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ui.Pop}},k):k}function Ix(){let n=Dx(),e=yx(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:s},t):null,null)}const Ax=V.createElement(Ix,null);class Px extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?V.createElement(os.Provider,{value:this.props.routeContext},V.createElement(DE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cx(n){let{routeContext:e,match:t,children:r}=n,s=V.useContext(sg);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(os.Provider,{value:e},r)}function xx(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(s=t)==null?void 0:s.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);g>=0||gt(!1),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:w,errors:S}=t,A=y.route.loader&&w[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||A){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,y,w)=>{let S,A=!1,k=null,C=null;t&&(S=c&&y.route.id?c[y.route.id]:void 0,k=y.route.errorElement||Ax,d&&(p<0&&w===0?(Vx("route-fallback"),A=!0,C=null):p===w&&(A=!0,C=y.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,w+1)),U=()=>{let W;return S?W=k:A?W=C:y.route.Component?W=V.createElement(y.route.Component,null):y.route.element?W=y.route.element:W=g,V.createElement(Cx,{match:y,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:W})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?V.createElement(Px,{location:t.location,revalidation:t.revalidation,component:k,error:S,children:U(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):U()},null)}var OE=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(OE||{}),LE=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(LE||{});function Rx(n){let e=V.useContext(sg);return e||gt(!1),e}function kx(n){let e=V.useContext(_x);return e||gt(!1),e}function bx(n){let e=V.useContext(os);return e||gt(!1),e}function ME(n){let e=bx(),t=e.matches[e.matches.length-1];return t.route.id||gt(!1),t.route.id}function Dx(){var n;let e=V.useContext(DE),t=kx(),r=ME();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Nx(){let{router:n}=Rx(OE.UseNavigateStable),e=ME(LE.UseNavigateStable),t=V.useRef(!1);return NE(()=>{t.current=!0}),V.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,su({fromRouteId:e},a)))},[n,e])}const t0={};function Vx(n,e,t){t0[n]||(t0[n]=!0)}function Ox(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function FE(n){let{to:e,replace:t,state:r,relative:s}=n;xa()||gt(!1);let{future:a,static:l}=V.useContext(ss),{matches:c}=V.useContext(os),{pathname:d}=si(),p=ld(),g=ig(e,rg(c,a.v7_relativeSplatPath),d,s==="path"),y=JSON.stringify(g);return V.useEffect(()=>p(JSON.parse(y),{replace:t,state:r,relative:s}),[p,y,s,t,r]),null}function UE(n){gt(!1)}function Lx(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Ui.Pop,navigator:a,static:l=!1,future:c}=n;xa()&&gt(!1);let d=e.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:d,navigator:a,static:l,future:su({v7_relativeSplatPath:!1},c)}),[d,c,a,l]);typeof r=="string"&&(r=Ca(r));let{pathname:g="/",search:y="",hash:w="",state:S=null,key:A="default"}=r,k=V.useMemo(()=>{let C=ng(g,d);return C==null?null:{location:{pathname:C,search:y,hash:w,state:S,key:A},navigationType:s}},[d,g,y,w,S,A,s]);return k==null?null:V.createElement(ss.Provider,{value:p},V.createElement(ad.Provider,{children:t,value:k}))}function Mx(n){let{children:e,location:t}=n;return Ex(tm(e),t)}new Promise(()=>{});function tm(n,e){e===void 0&&(e=[]);let t=[];return V.Children.forEach(n,(r,s)=>{if(!V.isValidElement(r))return;let a=[...e,s];if(r.type===V.Fragment){t.push.apply(t,tm(r.props.children,a));return}r.type!==UE&&gt(!1),!r.props.index||!r.props.children||gt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=tm(r.props.children,a)),t.push(l)}),t}function nm(){return nm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nm.apply(this,arguments)}function Fx(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function Ux(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jx(n,e){return n.button===0&&(!e||e==="_self")&&!Ux(n)}const Bx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zx="6";try{window.__reactRouterVersion=zx}catch{}const $x="startTransition",n0=WC[$x];function Wx(n){let{basename:e,children:t,future:r,window:s}=n,a=V.useRef();a.current==null&&(a.current=qC({window:s,v5Compat:!0}));let l=a.current,[c,d]=V.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},g=V.useCallback(y=>{p&&n0?n0(()=>d(y)):d(y)},[d,p]);return V.useLayoutEffect(()=>l.listen(g),[l,g]),V.useEffect(()=>Ox(r),[r]),V.createElement(Lx,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:r})}const Hx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wp=V.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:c,target:d,to:p,preventScrollReset:g,viewTransition:y}=e,w=Fx(e,Bx),{basename:S}=V.useContext(ss),A,k=!1;if(typeof p=="string"&&qx.test(p)&&(A=p,Hx))try{let W=new URL(window.location.href),K=p.startsWith("//")?new URL(W.protocol+p):new URL(p),Q=ng(K.pathname,S);K.origin===W.origin&&Q!=null?p=Q+K.search+K.hash:k=!0}catch{}let C=wx(p,{relative:s}),z=Kx(p,{replace:l,state:c,target:d,preventScrollReset:g,relative:s,viewTransition:y});function U(W){r&&r(W),W.defaultPrevented||z(W)}return V.createElement("a",nm({},w,{href:A||C,onClick:k||a?r:U,ref:t,target:d}))});var r0;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(r0||(r0={}));var i0;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(i0||(i0={}));function Kx(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,d=ld(),p=si(),g=VE(n,{relative:l});return V.useCallback(y=>{if(jx(y,t)){y.preventDefault();let w=r!==void 0?r:kh(p)===kh(g);d(n,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,r,s,t,n,a,l,c])}const og=V.createContext({});function ag(n){const e=V.useRef(null);return e.current===null&&(e.current=n()),e.current}const ud=V.createContext(null),lg=V.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Gx extends V.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Qx({children:n,isPresent:e}){const t=V.useId(),r=V.useRef(null),s=V.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=V.useContext(lg);return V.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:p}=s.current;if(e||!r.current||!l||!c)return;r.current.dataset.motionPopId=t;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            top: ${d}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),te.jsx(Gx,{isPresent:e,childRef:r,sizeRef:s,children:V.cloneElement(n,{ref:r})})}const Yx=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l})=>{const c=ag(Xx),d=V.useId(),p=V.useCallback(y=>{c.set(y,!0);for(const w of c.values())if(!w)return;r&&r()},[c,r]),g=V.useMemo(()=>({id:d,initial:e,isPresent:t,custom:s,onExitComplete:p,register:y=>(c.set(y,!1),()=>c.delete(y))}),a?[Math.random(),p]:[t,p]);return V.useMemo(()=>{c.forEach((y,w)=>c.set(w,!1))},[t]),V.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),l==="popLayout"&&(n=te.jsx(Qx,{isPresent:t,children:n})),te.jsx(ud.Provider,{value:g,children:n})};function Xx(){return new Map}function jE(n=!0){const e=V.useContext(ud);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=V.useId();V.useEffect(()=>{n&&s(a)},[n]);const l=V.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,l]:[!0]}const rh=n=>n.key||"";function s0(n){const e=[];return V.Children.forEach(n,t=>{V.isValidElement(t)&&e.push(t)}),e}const ug=typeof window<"u",BE=ug?V.useLayoutEffect:V.useEffect,zE=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1})=>{const[c,d]=jE(l),p=V.useMemo(()=>s0(n),[n]),g=l&&!c?[]:p.map(rh),y=V.useRef(!0),w=V.useRef(p),S=ag(()=>new Map),[A,k]=V.useState(p),[C,z]=V.useState(p);BE(()=>{y.current=!1,w.current=p;for(let K=0;K<C.length;K++){const Q=rh(C[K]);g.includes(Q)?S.delete(Q):S.get(Q)!==!0&&S.set(Q,!1)}},[C,g.length,g.join("-")]);const U=[];if(p!==A){let K=[...p];for(let Q=0;Q<C.length;Q++){const re=C[Q],D=rh(re);g.includes(D)||(K.splice(Q,0,re),U.push(re))}a==="wait"&&U.length&&(K=U),z(s0(K)),k(p);return}const{forceRender:W}=V.useContext(og);return te.jsx(te.Fragment,{children:C.map(K=>{const Q=rh(K),re=l&&!c?!1:p===C||g.includes(Q),D=()=>{if(S.has(Q))S.set(Q,!0);else return;let P=!0;S.forEach(x=>{x||(P=!1)}),P&&(W?.(),z(w.current),l&&d?.(),r&&r())};return te.jsx(Yx,{isPresent:re,initial:!y.current||t?void 0:!1,custom:re?void 0:e,presenceAffectsLayout:s,mode:a,onExitComplete:re?void 0:D,children:K},Q)})})},An=n=>n;let $E=An;function cg(n){let e;return()=>(e===void 0&&(e=n()),e)}const ya=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Yr=n=>n*1e3,Xr=n=>n/1e3,Jx={useManualTiming:!1};function Zx(n){let e=new Set,t=new Set,r=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(d.schedule(p),n()),p(l)}const d={schedule:(p,g=!1,y=!1)=>{const S=y&&r?e:t;return g&&a.add(p),S.has(p)||S.add(p),p},cancel:p=>{t.delete(p),a.delete(p)},process:p=>{if(l=p,r){s=!0;return}r=!0,[e,t]=[t,e],e.forEach(c),e.clear(),r=!1,s&&(s=!1,d.process(p))}};return d}const ih=["read","resolveKeyframes","update","preRender","render","postRender"],eR=40;function WE(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=ih.reduce((z,U)=>(z[U]=Zx(a),z),{}),{read:c,resolveKeyframes:d,update:p,preRender:g,render:y,postRender:w}=l,S=()=>{const z=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(z-s.timestamp,eR),1),s.timestamp=z,s.isProcessing=!0,c.process(s),d.process(s),p.process(s),g.process(s),y.process(s),w.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(S))},A=()=>{t=!0,r=!0,s.isProcessing||n(S)};return{schedule:ih.reduce((z,U)=>{const W=l[U];return z[U]=(K,Q=!1,re=!1)=>(t||A(),W.schedule(K,Q,re)),z},{}),cancel:z=>{for(let U=0;U<ih.length;U++)l[ih[U]].cancel(z)},state:s,steps:l}}const{schedule:nt,cancel:Qi,state:jt,steps:Tp}=WE(typeof requestAnimationFrame<"u"?requestAnimationFrame:An,!0),HE=V.createContext({strict:!1}),o0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},va={};for(const n in o0)va[n]={isEnabled:e=>o0[n].some(t=>!!e[t])};function tR(n){for(const e in n)va[e]={...va[e],...n[e]}}const nR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||nR.has(n)}let qE=n=>!bh(n);function rR(n){n&&(qE=e=>e.startsWith("on")?!bh(e):n(e))}try{rR(require("@emotion/is-prop-valid").default)}catch{}function iR(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(qE(s)||t===!0&&bh(s)||!e&&!bh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function sR(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const cd=V.createContext({});function ou(n){return typeof n=="string"||Array.isArray(n)}function hd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const hg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dg=["initial",...hg];function dd(n){return hd(n.animate)||dg.some(e=>ou(n[e]))}function KE(n){return!!(dd(n)||n.variants)}function oR(n,e){if(dd(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ou(t)?t:void 0,animate:ou(r)?r:void 0}}return n.inherit!==!1?e:{}}function aR(n){const{initial:e,animate:t}=oR(n,V.useContext(cd));return V.useMemo(()=>({initial:e,animate:t}),[a0(e),a0(t)])}function a0(n){return Array.isArray(n)?n.join(" "):n}const lR=Symbol.for("motionComponentSymbol");function oa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function uR(n,e,t){return V.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):oa(t)&&(t.current=r))},[e])}const fg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cR="framerAppearId",GE="data-"+fg(cR),{schedule:pg}=WE(queueMicrotask,!1),QE=V.createContext({});function hR(n,e,t,r,s){var a,l;const{visualElement:c}=V.useContext(cd),d=V.useContext(HE),p=V.useContext(ud),g=V.useContext(lg).reducedMotion,y=V.useRef(null);r=r||d.renderer,!y.current&&r&&(y.current=r(n,{visualState:e,parent:c,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const w=y.current,S=V.useContext(QE);w&&!w.projection&&s&&(w.type==="html"||w.type==="svg")&&dR(y.current,t,s,S);const A=V.useRef(!1);V.useInsertionEffect(()=>{w&&A.current&&w.update(t,p)});const k=t[GE],C=V.useRef(!!k&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,k))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,k)));return BE(()=>{w&&(A.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),pg.render(w.render),C.current&&w.animationState&&w.animationState.animateChanges())}),V.useEffect(()=>{w&&(!C.current&&w.animationState&&w.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)===null||z===void 0||z.call(window,k)}),C.current=!1))}),w}function dR(n,e,t,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:YE(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&oa(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:p})}function YE(n){if(n)return n.options.allowProjection!==!1?n.projection:YE(n.parent)}function fR({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){var a,l;n&&tR(n);function c(p,g){let y;const w={...V.useContext(lg),...p,layoutId:pR(p)},{isStatic:S}=w,A=aR(p),k=r(p,S);if(!S&&ug){mR();const C=gR(w);y=C.MeasureLayout,A.visualElement=hR(s,k,w,e,C.ProjectionNode)}return te.jsxs(cd.Provider,{value:A,children:[y&&A.visualElement?te.jsx(y,{visualElement:A.visualElement,...w}):null,t(s,p,uR(k,A.visualElement,g),k,S,A.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const d=V.forwardRef(c);return d[lR]=s,d}function pR({layoutId:n}){const e=V.useContext(og).id;return e&&n!==void 0?e+"-"+n:n}function mR(n,e){V.useContext(HE).strict}function gR(n){const{drag:e,layout:t}=va;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const yR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mg(n){return typeof n!="string"||n.includes("-")?!1:!!(yR.indexOf(n)>-1||/[A-Z]/u.test(n))}function l0(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function gg(n,e,t,r){if(typeof e=="function"){const[s,a]=l0(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=l0(r);e=e(t!==void 0?t:n.custom,s,a)}return e}const rm=n=>Array.isArray(n),vR=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),_R=n=>rm(n)?n[n.length-1]||0:n,Jt=n=>!!(n&&n.getVelocity);function mh(n){const e=Jt(n)?n.get():n;return vR(e)?e.toValue():e}function wR({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,a){const l={latestValues:TR(r,s,a,n),renderState:e()};return t&&(l.onMount=c=>t({props:r,current:c,...l}),l.onUpdate=c=>t(c)),l}const XE=n=>(e,t)=>{const r=V.useContext(cd),s=V.useContext(ud),a=()=>wR(n,e,r,s);return t?a():ag(a)};function TR(n,e,t,r){const s={},a=r(n,{});for(const w in a)s[w]=mh(a[w]);let{initial:l,animate:c}=n;const d=dd(n),p=KE(n);e&&p&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const y=g?c:l;if(y&&typeof y!="boolean"&&!hd(y)){const w=Array.isArray(y)?y:[y];for(let S=0;S<w.length;S++){const A=gg(n,w[S]);if(A){const{transitionEnd:k,transition:C,...z}=A;for(const U in z){let W=z[U];if(Array.isArray(W)){const K=g?W.length-1:0;W=W[K]}W!==null&&(s[U]=W)}for(const U in k)s[U]=k[U]}}}return s}const Ra=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],eo=new Set(Ra),JE=n=>e=>typeof e=="string"&&e.startsWith(n),ZE=JE("--"),ER=JE("var(--"),yg=n=>ER(n)?SR.test(n.split("/*")[0].trim()):!1,SR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,eS=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Zr=(n,e,t)=>t>e?e:t<n?n:t,ka={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},au={...ka,transform:n=>Zr(0,1,n)},sh={...ka,default:1},Iu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Vi=Iu("deg"),Tr=Iu("%"),Ee=Iu("px"),IR=Iu("vh"),AR=Iu("vw"),u0={...Tr,parse:n=>Tr.parse(n)/100,transform:n=>Tr.transform(n*100)},PR={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},CR={rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:sh,scaleX:sh,scaleY:sh,scaleZ:sh,skew:Vi,skewX:Vi,skewY:Vi,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:au,originX:u0,originY:u0,originZ:Ee},c0={...ka,transform:Math.round},vg={...PR,...CR,zIndex:c0,size:Ee,fillOpacity:au,strokeOpacity:au,numOctaves:c0},xR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RR=Ra.length;function kR(n,e,t){let r="",s=!0;for(let a=0;a<RR;a++){const l=Ra[a],c=n[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||t){const p=eS(c,vg[l]);if(!d){s=!1;const g=xR[l]||l;r+=`${g}(${p}) `}t&&(e[l]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function _g(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let l=!1,c=!1;for(const d in e){const p=e[d];if(eo.has(d)){l=!0;continue}else if(ZE(d)){s[d]=p;continue}else{const g=eS(p,vg[d]);d.startsWith("origin")?(c=!0,a[d]=g):r[d]=g}}if(e.transform||(l||t?r.transform=kR(e,n.transform,t):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${p} ${g}`}}const bR={offset:"stroke-dashoffset",array:"stroke-dasharray"},DR={offset:"strokeDashoffset",array:"strokeDasharray"};function NR(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?bR:DR;n[a.offset]=Ee.transform(-r);const l=Ee.transform(e),c=Ee.transform(t);n[a.array]=`${l} ${c}`}function h0(n,e,t){return typeof n=="string"?n:Ee.transform(e+t*n)}function VR(n,e,t){const r=h0(e,n.x,n.width),s=h0(t,n.y,n.height);return`${r} ${s}`}function wg(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},g,y){if(_g(n,p,y),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:S,dimensions:A}=n;w.transform&&(A&&(S.transform=w.transform),delete w.transform),A&&(s!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=VR(A,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),l!==void 0&&NR(w,l,c,d,!1)}const Tg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),tS=()=>({...Tg(),attrs:{}}),Eg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function nS(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const rS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iS(n,e,t,r){nS(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(rS.has(s)?s:fg(s),e.attrs[s])}const Dh={};function OR(n){Object.assign(Dh,n)}function sS(n,{layout:e,layoutId:t}){return eo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Dh[n]||n==="opacity")}function Sg(n,e,t){var r;const{style:s}=n,a={};for(const l in s)(Jt(s[l])||e.style&&Jt(e.style[l])||sS(l,n)||((r=t?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function oS(n,e,t){const r=Sg(n,e,t);for(const s in n)if(Jt(n[s])||Jt(e[s])){const a=Ra.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}function LR(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const d0=["x","y","width","height","cx","cy","r"],MR={useVisualState:XE({scrapeMotionValuesFromProps:oS,createRenderState:tS,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let a=!!n.drag;if(!a){for(const c in s)if(eo.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<d0.length;c++){const d=d0[c];n[d]!==e[d]&&(l=!0)}l&&nt.read(()=>{LR(t,r),nt.render(()=>{wg(r,s,Eg(t.tagName),n.transformTemplate),iS(t,r)})})}})},FR={useVisualState:XE({scrapeMotionValuesFromProps:Sg,createRenderState:Tg})};function aS(n,e,t){for(const r in e)!Jt(e[r])&&!sS(r,t)&&(n[r]=e[r])}function UR({transformTemplate:n},e){return V.useMemo(()=>{const t=Tg();return _g(t,e,n),Object.assign({},t.vars,t.style)},[e])}function jR(n,e){const t=n.style||{},r={};return aS(r,t,n),Object.assign(r,UR(n,e)),r}function BR(n,e){const t={},r=jR(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function zR(n,e,t,r){const s=V.useMemo(()=>{const a=tS();return wg(a,e,Eg(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};aS(a,n.style,n),s.style={...a,...s.style}}return s}function $R(n=!1){return(t,r,s,{latestValues:a},l)=>{const d=(mg(t)?zR:BR)(r,a,l,t),p=iR(r,typeof t=="string",n),g=t!==V.Fragment?{...p,...d,ref:s}:{},{children:y}=r,w=V.useMemo(()=>Jt(y)?y.get():y,[y]);return V.createElement(t,{...g,children:w})}}function WR(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...mg(r)?MR:FR,preloadedFeatures:n,useRender:$R(s),createVisualElement:e,Component:r};return fR(l)}}function lS(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function fd(n,e,t){const r=n.getProps();return gg(r,e,t!==void 0?t:r.custom,n)}const HR=cg(()=>window.ScrollTimeline!==void 0);class qR{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(s=>{if(HR()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class KR extends qR{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Ig(n,e){return n?n[e]||n.default||n:void 0}const im=2e4;function uS(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<im;)e+=t,r=n.next(e);return e>=im?1/0:e}function Ag(n){return typeof n=="function"}function f0(n,e){n.timeline=e,n.onfinish=null}const Pg=n=>Array.isArray(n)&&typeof n[0]=="number",GR={linearEasing:void 0};function QR(n,e){const t=cg(n);return()=>{var r;return(r=GR[e])!==null&&r!==void 0?r:t()}}const Nh=QR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cS=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=n(ya(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function hS(n){return!!(typeof n=="function"&&Nh()||!n||typeof n=="string"&&(n in sm||Nh())||Pg(n)||Array.isArray(n)&&n.every(hS))}const Ml=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,sm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ml([0,.65,.55,1]),circOut:Ml([.55,0,1,.45]),backIn:Ml([.31,.01,.66,-.59]),backOut:Ml([.33,1.53,.69,.99])};function dS(n,e){if(n)return typeof n=="function"&&Nh()?cS(n,e):Pg(n)?Ml(n):Array.isArray(n)?n.map(t=>dS(t,e)||sm.easeOut):sm[n]}const ir={x:!1,y:!1};function fS(){return ir.x||ir.y}function YR(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function pS(n,e){const t=YR(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function p0(n){return e=>{e.pointerType==="touch"||fS()||n(e)}}function XR(n,e,t={}){const[r,s,a]=pS(n,t),l=p0(c=>{const{target:d}=c,p=e(c);if(typeof p!="function"||!d)return;const g=p0(y=>{p(y),d.removeEventListener("pointerleave",g)});d.addEventListener("pointerleave",g,s)});return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const mS=(n,e)=>e?n===e?!0:mS(n,e.parentElement):!1,Cg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,JR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZR(n){return JR.has(n.tagName)||n.tabIndex!==-1}const Fl=new WeakSet;function m0(n){return e=>{e.key==="Enter"&&n(e)}}function Ep(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ek=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=m0(()=>{if(Fl.has(t))return;Ep(t,"down");const s=m0(()=>{Ep(t,"up")}),a=()=>Ep(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function g0(n){return Cg(n)&&!fS()}function tk(n,e,t={}){const[r,s,a]=pS(n,t),l=c=>{const d=c.currentTarget;if(!g0(c)||Fl.has(d))return;Fl.add(d);const p=e(c),g=(S,A)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),!(!g0(S)||!Fl.has(d))&&(Fl.delete(d),typeof p=="function"&&p(S,{success:A}))},y=S=>{g(S,t.useGlobalTarget||mS(d,S.target))},w=S=>{g(S,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",w,s)};return r.forEach(c=>{!ZR(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(t.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c.addEventListener("focus",p=>ek(p,s),s)}),a}function nk(n){return n==="x"||n==="y"?ir[n]?null:(ir[n]=!0,()=>{ir[n]=!1}):ir.x||ir.y?null:(ir.x=ir.y=!0,()=>{ir.x=ir.y=!1})}const gS=new Set(["width","height","top","left","right","bottom",...Ra]);let gh;function rk(){gh=void 0}const Er={now:()=>(gh===void 0&&Er.set(jt.isProcessing||Jx.useManualTiming?jt.timestamp:performance.now()),gh),set:n=>{gh=n,queueMicrotask(rk)}};function xg(n,e){n.indexOf(e)===-1&&n.push(e)}function Rg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class kg{constructor(){this.subscriptions=[]}add(e){return xg(this.subscriptions,e),()=>Rg(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function yS(n,e){return e?n*(1e3/e):0}const y0=30,ik=n=>!isNaN(parseFloat(n));class sk{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Er.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ik(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new kg);const r=this.events[e].add(t);return e==="change"?()=>{r(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>y0)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,y0);return yS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lu(n,e){return new sk(n,e)}function ok(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,lu(t))}function ak(n,e){const t=fd(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const l in a){const c=_R(a[l]);ok(n,l,c)}}function lk(n){return!!(Jt(n)&&n.add)}function om(n,e){const t=n.getValue("willChange");if(lk(t))return t.add(e)}function vS(n){return n.props[GE]}const _S=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,uk=1e-7,ck=12;function hk(n,e,t,r,s){let a,l,c=0;do l=e+(t-e)/2,a=_S(l,r,s)-n,a>0?t=l:e=l;while(Math.abs(a)>uk&&++c<ck);return l}function Au(n,e,t,r){if(n===e&&t===r)return An;const s=a=>hk(a,0,1,n,t);return a=>a===0||a===1?a:_S(s(a),e,r)}const wS=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,TS=n=>e=>1-n(1-e),ES=Au(.33,1.53,.69,.99),bg=TS(ES),SS=wS(bg),IS=n=>(n*=2)<1?.5*bg(n):.5*(2-Math.pow(2,-10*(n-1))),Dg=n=>1-Math.sin(Math.acos(n)),AS=TS(Dg),PS=wS(Dg),CS=n=>/^0[^.\s]+$/u.test(n);function dk(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||CS(n):!0}const ql=n=>Math.round(n*1e5)/1e5,Ng=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fk(n){return n==null}const pk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vg=(n,e)=>t=>!!(typeof t=="string"&&pk.test(t)&&t.startsWith(n)||e&&!fk(t)&&Object.prototype.hasOwnProperty.call(t,e)),xS=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(Ng);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},mk=n=>Zr(0,255,n),Sp={...ka,transform:n=>Math.round(mk(n))},$s={test:Vg("rgb","red"),parse:xS("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Sp.transform(n)+", "+Sp.transform(e)+", "+Sp.transform(t)+", "+ql(au.transform(r))+")"};function gk(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const am={test:Vg("#"),parse:gk,transform:$s.transform},aa={test:Vg("hsl","hue"),parse:xS("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Tr.transform(ql(e))+", "+Tr.transform(ql(t))+", "+ql(au.transform(r))+")"},Qt={test:n=>$s.test(n)||am.test(n)||aa.test(n),parse:n=>$s.test(n)?$s.parse(n):aa.test(n)?aa.parse(n):am.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?$s.transform(n):aa.transform(n)},yk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vk(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Ng))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(yk))===null||t===void 0?void 0:t.length)||0)>0}const RS="number",kS="color",_k="var",wk="var(",v0="${}",Tk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(Tk,d=>(Qt.test(d)?(r.color.push(a),s.push(kS),t.push(Qt.parse(d))):d.startsWith(wk)?(r.var.push(a),s.push(_k),t.push(d)):(r.number.push(a),s.push(RS),t.push(parseFloat(d))),++a,v0)).split(v0);return{values:t,split:c,indexes:r,types:s}}function bS(n){return uu(n).values}function DS(n){const{split:e,types:t}=uu(n),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=t[l];c===RS?a+=ql(s[l]):c===kS?a+=Qt.transform(s[l]):a+=s[l]}return a}}const Ek=n=>typeof n=="number"?0:n;function Sk(n){const e=bS(n);return DS(n)(e.map(Ek))}const Yi={test:vk,parse:bS,createTransformer:DS,getAnimatableNone:Sk},Ik=new Set(["brightness","contrast","saturate","opacity"]);function Ak(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Ng)||[];if(!r)return n;const s=t.replace(r,"");let a=Ik.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const Pk=/\b([a-z-]*)\(.*?\)/gu,lm={...Yi,getAnimatableNone:n=>{const e=n.match(Pk);return e?e.map(Ak).join(" "):n}},Ck={...vg,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:lm,WebkitFilter:lm},Og=n=>Ck[n];function NS(n,e){let t=Og(n);return t!==lm&&(t=Yi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const xk=new Set(["auto","none","0"]);function Rk(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!xk.has(a)&&uu(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=NS(t,s)}const _0=n=>n===ka||n===Ee,w0=(n,e)=>parseFloat(n.split(", ")[e]),T0=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return w0(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?w0(a[1],n):0}},kk=new Set(["x","y","z"]),bk=Ra.filter(n=>!kk.has(n));function Dk(n){const e=[];return bk.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const _a={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:T0(4,13),y:T0(5,14)};_a.translateX=_a.x;_a.translateY=_a.y;const Hs=new Set;let um=!1,cm=!1;function VS(){if(cm){const n=Array.from(Hs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=Dk(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}cm=!1,um=!1,Hs.forEach(n=>n.complete()),Hs.clear()}function OS(){Hs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(cm=!0)})}function Nk(){OS(),VS()}class Lg{constructor(e,t,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Hs.add(this),um||(um=!0,nt.read(OS),nt.resolveKeyframes(VS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const d=r.readValue(t,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Hs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Hs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const LS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Vk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ok(n){const e=Vk.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function MS(n,e,t=1){const[r,s]=Ok(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return LS(l)?parseFloat(l):l}return yg(s)?MS(s,e,t+1):s}const FS=n=>e=>e.test(n),Lk={test:n=>n==="auto",parse:n=>n},US=[ka,Ee,Tr,Vi,AR,IR,Lk],E0=n=>US.find(FS(n));class jS extends Lg{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),yg(p))){const g=MS(p,t.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!gS.has(r)||e.length!==2)return;const[s,a]=e,l=E0(s),c=E0(a);if(l!==c)if(_0(l)&&_0(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)dk(e[s])&&r.push(s);r.length&&Rk(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_a[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=_a[r](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const S0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Yi.test(n)||n==="0")&&!n.startsWith("url("));function Mk(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Fk(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=S0(s,e),c=S0(a,e);return!l||!c?!1:Mk(n)||(t==="spring"||Ag(t))&&r}const Uk=n=>n!==null;function pd(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(Uk),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const jk=40;class BS{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Er.now(),this.options={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>jk?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Nk(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Er.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:c,onUpdate:d,isGenerator:p}=this.options;if(!p&&!Fk(e,r,s,a))if(l)this.options.duration=0;else{d&&d(pd(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const at=(n,e,t)=>n+(e-n)*t;function Ip(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Bk({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,l=0;if(!e)s=a=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;s=Ip(d,c,n+1/3),a=Ip(d,c,n),l=Ip(d,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Vh(n,e){return t=>t>0?e:n}const Ap=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},zk=[am,$s,aa],$k=n=>zk.find(e=>e.test(n));function I0(n){const e=$k(n);if(!e)return!1;let t=e.parse(n);return e===aa&&(t=Bk(t)),t}const A0=(n,e)=>{const t=I0(n),r=I0(e);if(!t||!r)return Vh(n,e);const s={...t};return a=>(s.red=Ap(t.red,r.red,a),s.green=Ap(t.green,r.green,a),s.blue=Ap(t.blue,r.blue,a),s.alpha=at(t.alpha,r.alpha,a),$s.transform(s))},Wk=(n,e)=>t=>e(n(t)),Pu=(...n)=>n.reduce(Wk),hm=new Set(["none","hidden"]);function Hk(n,e){return hm.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function qk(n,e){return t=>at(n,e,t)}function Mg(n){return typeof n=="number"?qk:typeof n=="string"?yg(n)?Vh:Qt.test(n)?A0:Qk:Array.isArray(n)?zS:typeof n=="object"?Qt.test(n)?A0:Kk:Vh}function zS(n,e){const t=[...n],r=t.length,s=n.map((a,l)=>Mg(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=s[l](a);return t}}function Kk(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=Mg(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function Gk(n,e){var t;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=n.indexes[l][s[l]],d=(t=n.values[c])!==null&&t!==void 0?t:0;r[a]=d,s[l]++}return r}const Qk=(n,e)=>{const t=Yi.createTransformer(e),r=uu(n),s=uu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?hm.has(n)&&!s.values.length||hm.has(e)&&!r.values.length?Hk(n,e):Pu(zS(Gk(r,s),s.values),t):Vh(n,e)};function $S(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?at(n,e,t):Mg(n)(n,e)}const Yk=5;function WS(n,e,t){const r=Math.max(e-Yk,0);return yS(t-n(r),e-r)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pp=.001;function Xk({duration:n=ct.duration,bounce:e=ct.bounce,velocity:t=ct.velocity,mass:r=ct.mass}){let s,a,l=1-e;l=Zr(ct.minDamping,ct.maxDamping,l),n=Zr(ct.minDuration,ct.maxDuration,Xr(n)),l<1?(s=p=>{const g=p*l,y=g*n,w=g-t,S=dm(p,l),A=Math.exp(-y);return Pp-w/S*A},a=p=>{const y=p*l*n,w=y*t+t,S=Math.pow(l,2)*Math.pow(p,2)*n,A=Math.exp(-y),k=dm(Math.pow(p,2),l);return(-s(p)+Pp>0?-1:1)*((w-S)*A)/k}):(s=p=>{const g=Math.exp(-p*n),y=(p-t)*n+1;return-Pp+g*y},a=p=>{const g=Math.exp(-p*n),y=(t-p)*(n*n);return g*y});const c=5/n,d=Zk(s,a,c);if(n=Yr(n),isNaN(d))return{stiffness:ct.stiffness,damping:ct.damping,duration:n};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:n}}}const Jk=12;function Zk(n,e,t){let r=t;for(let s=1;s<Jk;s++)r=r-n(r)/e(r);return r}function dm(n,e){return n*Math.sqrt(1-e*e)}const eb=["duration","bounce"],tb=["stiffness","damping","mass"];function P0(n,e){return e.some(t=>n[t]!==void 0)}function nb(n){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...n};if(!P0(n,tb)&&P0(n,eb))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*Zr(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:ct.mass,stiffness:s,damping:a}}else{const t=Xk(n);e={...e,...t,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function HS(n=ct.visualDuration,e=ct.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:p,mass:g,duration:y,velocity:w,isResolvedFromDuration:S}=nb({...t,velocity:-Xr(t.velocity||0)}),A=w||0,k=p/(2*Math.sqrt(d*g)),C=l-a,z=Xr(Math.sqrt(d/g)),U=Math.abs(C)<5;r||(r=U?ct.restSpeed.granular:ct.restSpeed.default),s||(s=U?ct.restDelta.granular:ct.restDelta.default);let W;if(k<1){const Q=dm(z,k);W=re=>{const D=Math.exp(-k*z*re);return l-D*((A+k*z*C)/Q*Math.sin(Q*re)+C*Math.cos(Q*re))}}else if(k===1)W=Q=>l-Math.exp(-z*Q)*(C+(A+z*C)*Q);else{const Q=z*Math.sqrt(k*k-1);W=re=>{const D=Math.exp(-k*z*re),P=Math.min(Q*re,300);return l-D*((A+k*z*C)*Math.sinh(P)+Q*C*Math.cosh(P))/Q}}const K={calculatedDuration:S&&y||null,next:Q=>{const re=W(Q);if(S)c.done=Q>=y;else{let D=0;k<1&&(D=Q===0?Yr(A):WS(W,Q,re));const P=Math.abs(D)<=r,x=Math.abs(l-re)<=s;c.done=P&&x}return c.value=c.done?l:re,c},toString:()=>{const Q=Math.min(uS(K),im),re=cS(D=>K.next(Q*D).value,Q,30);return Q+"ms "+re}};return K}function C0({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:g}){const y=n[0],w={done:!1,value:y},S=P=>c!==void 0&&P<c||d!==void 0&&P>d,A=P=>c===void 0?d:d===void 0||Math.abs(c-P)<Math.abs(d-P)?c:d;let k=t*e;const C=y+k,z=l===void 0?C:l(C);z!==C&&(k=z-y);const U=P=>-k*Math.exp(-P/r),W=P=>z+U(P),K=P=>{const x=U(P),N=W(P);w.done=Math.abs(x)<=p,w.value=w.done?z:N};let Q,re;const D=P=>{S(w.value)&&(Q=P,re=HS({keyframes:[w.value,A(w.value)],velocity:WS(W,P,w.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:P=>{let x=!1;return!re&&Q===void 0&&(x=!0,K(P),D(P)),Q!==void 0&&P>=Q?re.next(P-Q):(!x&&K(P),w)}}}const rb=Au(.42,0,1,1),ib=Au(0,0,.58,1),qS=Au(.42,0,.58,1),sb=n=>Array.isArray(n)&&typeof n[0]!="number",ob={linear:An,easeIn:rb,easeInOut:qS,easeOut:ib,circIn:Dg,circInOut:PS,circOut:AS,backIn:bg,backInOut:SS,backOut:ES,anticipate:IS},x0=n=>{if(Pg(n)){$E(n.length===4);const[e,t,r,s]=n;return Au(e,t,r,s)}else if(typeof n=="string")return ob[n];return n};function ab(n,e,t){const r=[],s=t||$S,a=n.length-1;for(let l=0;l<a;l++){let c=s(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]||An:e;c=Pu(d,c)}r.push(c)}return r}function lb(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if($E(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=ab(e,r,s),d=c.length,p=g=>{if(l&&g<n[0])return e[0];let y=0;if(d>1)for(;y<n.length-2&&!(g<n[y+1]);y++);const w=ya(n[y],n[y+1],g);return c[y](w)};return t?g=>p(Zr(n[0],n[a-1],g)):p}function ub(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=ya(0,e,r);n.push(at(t,1,s))}}function cb(n){const e=[0];return ub(e,n.length-1),e}function hb(n,e){return n.map(t=>t*e)}function db(n,e){return n.map(()=>e||qS).splice(0,n.length-1)}function Oh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=sb(r)?r.map(x0):x0(r),a={done:!1,value:e[0]},l=hb(t&&t.length===e.length?t:cb(e),n),c=lb(l,e,{ease:Array.isArray(s)?s:db(e,s)});return{calculatedDuration:n,next:d=>(a.value=c(d),a.done=d>=n,a)}}const fb=n=>{const e=({timestamp:t})=>n(t);return{start:()=>nt.update(e,!0),stop:()=>Qi(e),now:()=>jt.isProcessing?jt.timestamp:Er.now()}},pb={decay:C0,inertia:C0,tween:Oh,keyframes:Oh,spring:HS},mb=n=>n/100;class Fg extends BS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:t,motionValue:r,element:s,keyframes:a}=this.options,l=s?.KeyframeResolver||Lg,c=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(a,c,t,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=Ag(t)?t:pb[t]||Oh;let d,p;c!==Oh&&typeof e[0]!="number"&&(d=Pu(mb,$S(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=uS(g));const{calculatedDuration:y}=g,w=y+s,S=w*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:y,resolvedDuration:w,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:p,totalDuration:g,resolvedDuration:y}=r;if(this.startTime===null)return a.next(0);const{delay:w,repeat:S,repeatType:A,repeatDelay:k,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const z=this.currentTime-w*(this.speed>=0?1:-1),U=this.speed>=0?z<0:z>g;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let W=this.currentTime,K=a;if(S){const P=Math.min(this.currentTime,g)/y;let x=Math.floor(P),N=P%1;!N&&P>=1&&(N=1),N===1&&x--,x=Math.min(x,S+1),!!(x%2)&&(A==="reverse"?(N=1-N,k&&(N-=k/y)):A==="mirror"&&(K=l)),W=Zr(0,1,N)*y}const Q=U?{done:!1,value:d[0]}:K.next(W);c&&(Q.value=c(Q.value));let{done:re}=Q;!U&&p!==null&&(re=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return D&&s!==void 0&&(Q.value=pd(d,this.options,s)),C&&C(Q.value),D&&this.finish(),Q}get duration(){const{resolved:e}=this;return e?Xr(e.calculatedDuration):0}get time(){return Xr(this.currentTime)}set time(e){e=Yr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Xr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=fb,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const gb=new Set(["opacity","clipPath","filter","transform"]);function yb(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const p={[e]:t};d&&(p.offset=d);const g=dS(c,s);return Array.isArray(g)&&(p.easing=g),n.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const vb=cg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Lh=10,_b=2e4;function wb(n){return Ag(n.type)||n.type==="spring"||!hS(n.ease)}function Tb(n,e){const t=new Fg({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const s=[];let a=0;for(;!r.done&&a<_b;)r=t.sample(a),s.push(r.value),a+=Lh;return{times:void 0,keyframes:s,duration:a-Lh,ease:"linear"}}const KS={anticipate:IS,backInOut:SS,circInOut:PS};function Eb(n){return n in KS}class R0 extends BS{constructor(e){super(e);const{name:t,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new jS(a,(l,c)=>this.onKeyframesResolved(l,c),t,r,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:s,ease:a,type:l,motionValue:c,name:d,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Nh()&&Eb(a)&&(a=KS[a]),wb(this.options)){const{onComplete:y,onUpdate:w,motionValue:S,element:A,...k}=this.options,C=Tb(e,k);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,s=C.times,a=C.ease,l="keyframes"}const g=yb(c.owner.current,d,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(f0(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;c.set(pd(e,this.options,t)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Xr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Xr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Yr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return An;const{animation:r}=t;f0(r,e)}return An}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:s,type:a,ease:l,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:y,element:w,...S}=this.options,A=new Fg({...S,keyframes:r,duration:s,type:a,ease:l,times:c,isGenerator:!0}),k=Yr(this.time);p.setWithVelocity(A.sample(k-Lh).value,A.sample(k).value,Lh)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return vb()&&r&&gb.has(r)&&!d&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const Sb={type:"spring",stiffness:500,damping:25,restSpeed:10},Ib=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Ab={type:"keyframes",duration:.8},Pb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cb=(n,{keyframes:e})=>e.length>2?Ab:eo.has(n)?n.startsWith("scale")?Ib(e[1]):Sb:Pb;function xb({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const Ug=(n,e,t,r={},s,a)=>l=>{const c=Ig(r,n)||{},d=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Yr(d);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:a?void 0:s};xb(c)||(g={...g,...Cb(n,g)}),g.duration&&(g.duration=Yr(g.duration)),g.repeatDelay&&(g.repeatDelay=Yr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!a&&e.get()!==void 0){const w=pd(g.keyframes,c);if(w!==void 0)return nt.update(()=>{g.onUpdate(w),g.onComplete()}),new KR([])}return!a&&R0.supports(g)?new R0(g):new Fg(g)};function Rb({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function GS(n,e,{delay:t=0,transitionOverride:r,type:s}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(l=r);const p=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const y in d){const w=n.getValue(y,(a=n.latestValues[y])!==null&&a!==void 0?a:null),S=d[y];if(S===void 0||g&&Rb(g,y))continue;const A={delay:t,...Ig(l||{},y)};let k=!1;if(window.MotionHandoffAnimation){const z=vS(n);if(z){const U=window.MotionHandoffAnimation(z,y,nt);U!==null&&(A.startTime=U,k=!0)}}om(n,y),w.start(Ug(y,w,S,n.shouldReduceMotion&&gS.has(y)?{type:!1}:A,n,k));const C=w.animation;C&&p.push(C)}return c&&Promise.all(p).then(()=>{nt.update(()=>{c&&ak(n,c)})}),p}function fm(n,e,t={}){var r;const s=fd(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const l=s?()=>Promise.all(GS(n,s,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:w}=a;return kb(n,e,g+p,y,w,t)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(t.delay)])}function kb(n,e,t=0,r=0,s=1,a){const l=[],c=(n.variantChildren.size-1)*r,d=s===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(n.variantChildren).sort(bb).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(fm(p,e,{...a,delay:t+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function bb(n,e){return n.sortNodePosition(e)}function Db(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>fm(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=fm(n,e,t);else{const s=typeof e=="function"?fd(n,e,t.custom):e;r=Promise.all(GS(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const Nb=dg.length;function QS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?QS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Nb;t++){const r=dg[t],s=n.props[r];(ou(s)||s===!1)&&(e[r]=s)}return e}const Vb=[...hg].reverse(),Ob=hg.length;function Lb(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Db(n,t,r)))}function Mb(n){let e=Lb(n),t=k0(),r=!0;const s=d=>(p,g)=>{var y;const w=fd(n,g,d==="exit"?(y=n.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(w){const{transition:S,transitionEnd:A,...k}=w;p={...p,...k,...A}}return p};function a(d){e=d(n)}function l(d){const{props:p}=n,g=QS(n.parent)||{},y=[],w=new Set;let S={},A=1/0;for(let C=0;C<Ob;C++){const z=Vb[C],U=t[z],W=p[z]!==void 0?p[z]:g[z],K=ou(W),Q=z===d?U.isActive:null;Q===!1&&(A=C);let re=W===g[z]&&W!==p[z]&&K;if(re&&r&&n.manuallyAnimateOnMount&&(re=!1),U.protectedKeys={...S},!U.isActive&&Q===null||!W&&!U.prevProp||hd(W)||typeof W=="boolean")continue;const D=Fb(U.prevProp,W);let P=D||z===d&&U.isActive&&!re&&K||C>A&&K,x=!1;const N=Array.isArray(W)?W:[W];let M=N.reduce(s(z),{});Q===!1&&(M={});const{prevResolvedValues:j={}}=U,b={...j,...M},Ne=ve=>{P=!0,w.has(ve)&&(x=!0,w.delete(ve)),U.needsAnimating[ve]=!0;const ie=n.getValue(ve);ie&&(ie.liveStyle=!1)};for(const ve in b){const ie=M[ve],fe=j[ve];if(S.hasOwnProperty(ve))continue;let ae=!1;rm(ie)&&rm(fe)?ae=!lS(ie,fe):ae=ie!==fe,ae?ie!=null?Ne(ve):w.add(ve):ie!==void 0&&w.has(ve)?Ne(ve):U.protectedKeys[ve]=!0}U.prevProp=W,U.prevResolvedValues=M,U.isActive&&(S={...S,...M}),r&&n.blockInitialAnimation&&(P=!1),P&&(!(re&&D)||x)&&y.push(...N.map(ve=>({animation:ve,options:{type:z}})))}if(w.size){const C={};w.forEach(z=>{const U=n.getBaseTarget(z),W=n.getValue(z);W&&(W.liveStyle=!0),C[z]=U??null}),y.push({animation:C})}let k=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(y):Promise.resolve()}function c(d,p){var g;if(t[d].isActive===p)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(w=>{var S;return(S=w.animationState)===null||S===void 0?void 0:S.setActive(d,p)}),t[d].isActive=p;const y=l(d);for(const w in t)t[w].protectedKeys={};return y}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>t,reset:()=>{t=k0(),r=!0}}}function Fb(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!lS(e,n):!1}function Us(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k0(){return{animate:Us(!0),whileInView:Us(),whileHover:Us(),whileTap:Us(),whileDrag:Us(),whileFocus:Us(),exit:Us()}}class as{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Ub extends as{constructor(e){super(e),e.animationState||(e.animationState=Mb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let jb=0;class Bb extends as{constructor(){super(...arguments),this.id=jb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const zb={animation:{Feature:Ub},exit:{Feature:Bb}};function cu(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Cu(n){return{point:{x:n.pageX,y:n.pageY}}}const $b=n=>e=>Cg(e)&&n(e,Cu(e));function Kl(n,e,t,r){return cu(n,e,$b(t),r)}const b0=(n,e)=>Math.abs(n-e);function Wb(n,e){const t=b0(n.x,e.x),r=b0(n.y,e.y);return Math.sqrt(t**2+r**2)}class YS{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=xp(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=Wb(y.offset,{x:0,y:0})>=3;if(!w&&!S)return;const{point:A}=y,{timestamp:k}=jt;this.history.push({...A,timestamp:k});const{onStart:C,onMove:z}=this.handlers;w||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Cp(w,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:S,onSessionEnd:A,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=xp(y.type==="pointercancel"?this.lastMoveEventInfo:Cp(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,C),A&&A(y,C)},!Cg(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const l=Cu(e),c=Cp(l,this.transformPagePoint),{point:d}=c,{timestamp:p}=jt;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,xp(c,this.history)),this.removeListeners=Pu(Kl(this.contextWindow,"pointermove",this.handlePointerMove),Kl(this.contextWindow,"pointerup",this.handlePointerUp),Kl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qi(this.updatePoint)}}function Cp(n,e){return e?{point:e(n.point)}:n}function D0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function xp({point:n},e){return{point:n,delta:D0(n,XS(e)),offset:D0(n,Hb(e)),velocity:qb(e,.1)}}function Hb(n){return n[0]}function XS(n){return n[n.length-1]}function qb(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=XS(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Yr(e)));)t--;if(!r)return{x:0,y:0};const a=Xr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const JS=1e-4,Kb=1-JS,Gb=1+JS,ZS=.01,Qb=0-ZS,Yb=0+ZS;function Pn(n){return n.max-n.min}function Xb(n,e,t){return Math.abs(n-e)<=t}function N0(n,e,t,r=.5){n.origin=r,n.originPoint=at(e.min,e.max,n.origin),n.scale=Pn(t)/Pn(e),n.translate=at(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Kb&&n.scale<=Gb||isNaN(n.scale))&&(n.scale=1),(n.translate>=Qb&&n.translate<=Yb||isNaN(n.translate))&&(n.translate=0)}function Gl(n,e,t,r){N0(n.x,e.x,t.x,r?r.originX:void 0),N0(n.y,e.y,t.y,r?r.originY:void 0)}function V0(n,e,t){n.min=t.min+e.min,n.max=n.min+Pn(e)}function Jb(n,e,t){V0(n.x,e.x,t.x),V0(n.y,e.y,t.y)}function O0(n,e,t){n.min=e.min-t.min,n.max=n.min+Pn(e)}function Ql(n,e,t){O0(n.x,e.x,t.x),O0(n.y,e.y,t.y)}function Zb(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?at(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?at(t,n,r.max):Math.min(n,t)),n}function L0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function eD(n,{top:e,left:t,bottom:r,right:s}){return{x:L0(n.x,t,s),y:L0(n.y,e,r)}}function M0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function tD(n,e){return{x:M0(n.x,e.x),y:M0(n.y,e.y)}}function nD(n,e){let t=.5;const r=Pn(n),s=Pn(e);return s>r?t=ya(e.min,e.max-r,n.min):r>s&&(t=ya(n.min,n.max-s,e.min)),Zr(0,1,t)}function rD(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const pm=.35;function iD(n=pm){return n===!1?n=0:n===!0&&(n=pm),{x:F0(n,"left","right"),y:F0(n,"top","bottom")}}function F0(n,e,t){return{min:U0(n,e),max:U0(n,t)}}function U0(n,e){return typeof n=="number"?n:n[e]||0}const j0=()=>({translate:0,scale:1,origin:0,originPoint:0}),la=()=>({x:j0(),y:j0()}),B0=()=>({min:0,max:0}),pt=()=>({x:B0(),y:B0()});function Fn(n){return[n("x"),n("y")]}function e1({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function sD({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function oD(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Rp(n){return n===void 0||n===1}function mm({scale:n,scaleX:e,scaleY:t}){return!Rp(n)||!Rp(e)||!Rp(t)}function js(n){return mm(n)||t1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function t1(n){return z0(n.x)||z0(n.y)}function z0(n){return n&&n!=="0%"}function Mh(n,e,t){const r=n-t,s=e*r;return t+s}function $0(n,e,t,r,s){return s!==void 0&&(n=Mh(n,s,r)),Mh(n,t,r)+e}function gm(n,e=0,t=1,r,s){n.min=$0(n.min,e,t,r,s),n.max=$0(n.max,e,t,r,s)}function n1(n,{x:e,y:t}){gm(n.x,e.translate,e.scale,e.originPoint),gm(n.y,t.translate,t.scale,t.originPoint)}const W0=.999999999999,H0=1.0000000000001;function aD(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=t[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ca(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,n1(n,l)),r&&js(a.latestValues)&&ca(n,a.latestValues))}e.x<H0&&e.x>W0&&(e.x=1),e.y<H0&&e.y>W0&&(e.y=1)}function ua(n,e){n.min=n.min+e,n.max=n.max+e}function q0(n,e,t,r,s=.5){const a=at(n.min,n.max,s);gm(n,e,t,a,r)}function ca(n,e){q0(n.x,e.x,e.scaleX,e.scale,e.originX),q0(n.y,e.y,e.scaleY,e.scale,e.originY)}function r1(n,e){return e1(oD(n.getBoundingClientRect(),e))}function lD(n,e,t){const r=r1(n,t),{scroll:s}=e;return s&&(ua(r.x,s.offset.x),ua(r.y,s.offset.y)),r}const i1=({current:n})=>n?n.ownerDocument.defaultView:null,uD=new WeakMap;class cD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Cu(g).point)},a=(g,y)=>{const{drag:w,dragPropagation:S,onDragStart:A}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nk(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fn(C=>{let z=this.getAxisMotionValue(C).get()||0;if(Tr.test(z)){const{projection:U}=this.visualElement;if(U&&U.layout){const W=U.layout.layoutBox[C];W&&(z=Pn(W)*(parseFloat(z)/100))}}this.originPoint[C]=z}),A&&nt.postRender(()=>A(g,y)),om(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},l=(g,y)=>{const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:A,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:C}=y;if(S&&this.currentDirection===null){this.currentDirection=hD(C),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),k&&k(g,y)},c=(g,y)=>this.stop(g,y),d=()=>Fn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new YS(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:i1(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&nt.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!oh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=Zb(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&oa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=eD(s.layoutBox,t):this.constraints=!1,this.elastic=iD(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=rD(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!oa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=lD(r,s.root,this.visualElement.getTransformPagePoint());let l=tD(s.layout.layoutBox,a);if(t){const c=t(sD(l));this.hasMutatedConstraints=!!c,c&&(l=e1(c))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=Fn(g=>{if(!oh(g,t,this.currentDirection))return;let y=d&&d[g]||{};l&&(y={min:0,max:0});const w=s?200:1e6,S=s?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,A)});return Promise.all(p).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return om(this.visualElement,e),r.start(Ug(e,r,0,t,this.visualElement,!1))}stopAnimation(){Fn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fn(t=>{const{drag:r}=this.getProps();if(!oh(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[t];a.set(e[t]-at(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!oa(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Fn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=nD({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fn(l=>{if(!oh(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(at(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;uD.set(this.visualElement,this);const e=this.visualElement.current,t=Kl(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();oa(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),nt.read(r);const l=cu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Fn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=pm,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function oh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function hD(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class dD extends as{constructor(e){super(e),this.removeGroupControls=An,this.removeListeners=An,this.controls=new cD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||An}unmount(){this.removeGroupControls(),this.removeListeners()}}const K0=n=>(e,t)=>{n&&nt.postRender(()=>n(e,t))};class fD extends as{constructor(){super(...arguments),this.removePointerDownListener=An}onPointerDown(e){this.session=new YS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:K0(e),onStart:K0(t),onMove:r,onEnd:(a,l)=>{delete this.session,s&&nt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Kl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Vl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ee.test(n))n=parseFloat(n);else return n;const t=G0(n,e.target.x),r=G0(n,e.target.y);return`${t}% ${r}%`}},pD={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Yi.parse(n);if(s.length>5)return r;const a=Yi.createTransformer(n),l=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const p=at(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class mD extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;OR(gD),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),yh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||nt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function s1(n){const[e,t]=jE(),r=V.useContext(og);return te.jsx(mD,{...n,layoutGroup:r,switchLayoutGroup:V.useContext(QE),isPresent:e,safeToRemove:t})}const gD={borderRadius:{...Vl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vl,borderTopRightRadius:Vl,borderBottomLeftRadius:Vl,borderBottomRightRadius:Vl,boxShadow:pD};function yD(n,e,t){const r=Jt(n)?n:lu(n);return r.start(Ug("",r,e,t)),r.animation}function vD(n){return n instanceof SVGElement&&n.tagName!=="svg"}const _D=(n,e)=>n.depth-e.depth;class wD{constructor(){this.children=[],this.isDirty=!1}add(e){xg(this.children,e),this.isDirty=!0}remove(e){Rg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_D),this.isDirty=!1,this.children.forEach(e)}}function TD(n,e){const t=Er.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(Qi(r),n(a-e))};return nt.read(r,!0),()=>Qi(r)}const o1=["TopLeft","TopRight","BottomLeft","BottomRight"],ED=o1.length,Q0=n=>typeof n=="string"?parseFloat(n):n,Y0=n=>typeof n=="number"||Ee.test(n);function SD(n,e,t,r,s,a){s?(n.opacity=at(0,t.opacity!==void 0?t.opacity:1,ID(r)),n.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,AD(r))):a&&(n.opacity=at(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<ED;l++){const c=`border${o1[l]}Radius`;let d=X0(e,c),p=X0(t,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Y0(d)===Y0(p)?(n[c]=Math.max(at(Q0(d),Q0(p),r),0),(Tr.test(p)||Tr.test(d))&&(n[c]+="%")):n[c]=p}(e.rotate||t.rotate)&&(n.rotate=at(e.rotate||0,t.rotate||0,r))}function X0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const ID=a1(0,.5,AS),AD=a1(.5,.95,An);function a1(n,e,t){return r=>r<n?0:r>e?1:t(ya(n,e,r))}function J0(n,e){n.min=e.min,n.max=e.max}function Mn(n,e){J0(n.x,e.x),J0(n.y,e.y)}function Z0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function ew(n,e,t,r,s){return n-=e,n=Mh(n,1/t,r),s!==void 0&&(n=Mh(n,1/s,r)),n}function PD(n,e=0,t=1,r=.5,s,a=n,l=n){if(Tr.test(e)&&(e=parseFloat(e),e=at(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=at(a.min,a.max,r);n===a&&(c-=e),n.min=ew(n.min,e,t,c,s),n.max=ew(n.max,e,t,c,s)}function tw(n,e,[t,r,s],a,l){PD(n,e[t],e[r],e[s],e.scale,a,l)}const CD=["x","scaleX","originX"],xD=["y","scaleY","originY"];function nw(n,e,t,r){tw(n.x,e,CD,t?t.x:void 0,r?r.x:void 0),tw(n.y,e,xD,t?t.y:void 0,r?r.y:void 0)}function rw(n){return n.translate===0&&n.scale===1}function l1(n){return rw(n.x)&&rw(n.y)}function iw(n,e){return n.min===e.min&&n.max===e.max}function RD(n,e){return iw(n.x,e.x)&&iw(n.y,e.y)}function sw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function u1(n,e){return sw(n.x,e.x)&&sw(n.y,e.y)}function ow(n){return Pn(n.x)/Pn(n.y)}function aw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class kD{constructor(){this.members=[]}add(e){xg(this.members,e),e.scheduleRender()}remove(e){if(Rg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bD(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,l=t?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:w,skewX:S,skewY:A}=t;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),w&&(r+=`rotateY(${w}deg) `),S&&(r+=`skewX(${S}deg) `),A&&(r+=`skewY(${A}deg) `)}const c=n.x.scale*e.x,d=n.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Bs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ul=typeof window<"u"&&window.MotionDebug!==void 0,kp=["","X","Y","Z"],DD={visibility:"hidden"},lw=1e3;let ND=0;function bp(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function c1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=vS(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",nt,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&c1(r)}function h1({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=ND++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ul&&(Bs.totalNodes=Bs.resolvedTargetDeltas=Bs.recalculatedProjection=0),this.nodes.forEach(LD),this.nodes.forEach(BD),this.nodes.forEach(zD),this.nodes.forEach(MD),Ul&&window.MotionDebug.record(Bs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new wD)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new kg),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vD(l),this.instance=l;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),n){let y;const w=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=TD(w,250),yh.hasAnimatedSinceResize&&(yh.hasAnimatedSinceResize=!1,this.nodes.forEach(cw))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:S,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||g.getDefaultTransition()||KD,{onLayoutAnimationStart:C,onLayoutAnimationComplete:z}=g.getProps(),U=!this.targetLayout||!u1(this.targetLayout,A)||S,W=!w&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||W||w&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,W);const K={...Ig(k,"layout"),onPlay:C,onComplete:z};(g.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K)}else w||cw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($D),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&c1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uw);return}this.isUpdating||this.nodes.forEach(UD),this.isUpdating=!1,this.nodes.forEach(jD),this.nodes.forEach(VD),this.nodes.forEach(OD),this.clearAllSnapshots();const c=Er.now();jt.delta=Zr(0,1e3/60,c-jt.timestamp),jt.timestamp=c,jt.isProcessing=!0,Tp.update.process(jt),Tp.preRender.process(jt),Tp.render.process(jt),jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FD),this.sharedNodes.forEach(WD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!l1(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||js(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),GD(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return pt();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(QD))){const{scroll:g}=this.root;g&&(ua(d.x,g.offset.x),ua(d.y,g.offset.y))}return d}removeElementScroll(l){var c;const d=pt();if(Mn(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:w}=g;g!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&Mn(d,l),ua(d.x,y.offset.x),ua(d.y,y.offset.y))}return d}applyTransform(l,c=!1){const d=pt();Mn(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ca(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),js(g.latestValues)&&ca(d,g.latestValues)}return js(this.latestValues)&&ca(d,this.latestValues),d}removeTransform(l){const c=pt();Mn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!js(p.latestValues))continue;mm(p.latestValues)&&p.updateSnapshot();const g=pt(),y=p.measurePageBox();Mn(g,y),nw(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return js(this.latestValues)&&nw(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=jt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Ql(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mn(this.target,this.layout.layoutBox),n1(this.target,this.targetDelta)):Mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Ql(this.relativeTargetOrigin,this.target,S.target),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ul&&Bs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||mm(this.parent.latestValues)||t1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===jt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Mn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,S=this.treeScale.y;aD(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=pt());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z0(this.prevProjectionDelta.x,this.projectionDelta.x),Z0(this.prevProjectionDelta.y,this.projectionDelta.y)),Gl(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==S||!aw(this.projectionDelta.x,this.prevProjectionDelta.x)||!aw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A)),Ul&&Bs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=la(),this.projectionDelta=la(),this.projectionDeltaWithTransform=la()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},y=la();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=pt(),S=d?d.source:void 0,A=this.layout?this.layout.source:void 0,k=S!==A,C=this.getStack(),z=!C||C.members.length<=1,U=!!(k&&!z&&this.options.crossfade===!0&&!this.path.some(qD));this.animationProgress=0;let W;this.mixTargetDelta=K=>{const Q=K/1e3;hw(y.x,l.x,Q),hw(y.y,l.y,Q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ql(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HD(this.relativeTarget,this.relativeTargetOrigin,w,Q),W&&RD(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=pt()),Mn(W,this.relativeTarget)),k&&(this.animationValues=g,SD(g,p,this.latestValues,Q,U,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{yh.hasAnimatedSinceResize=!0,this.currentAnimation=yD(0,lw,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:g}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&d1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||pt();const y=Pn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const w=Pn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Mn(c,d),ca(c,g),Gl(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new kD),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&bp("z",l,p,this.animationValues);for(let g=0;g<kp.length;g++)bp(`rotate${kp[g]}`,l,p,this.animationValues),bp(`skew${kp[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return DD;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=mh(l?.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=mh(l?.pointerEvents)||""),this.hasProjected&&!js(this.latestValues)&&(k.transform=g?g({},""):"none",this.hasProjected=!1),k}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=bD(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:S,y:A}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${A.origin*100}% 0`,y.animationValues?p.opacity=y===this?(d=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const k in Dh){if(w[k]===void 0)continue;const{correct:C,applyTo:z}=Dh[k],U=p.transform==="none"?w[k]:C(w[k],y);if(z){const W=z.length;for(let K=0;K<W;K++)p[z[K]]=U}else p[k]=U}return this.options.layoutId&&(p.pointerEvents=y===this?mh(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(uw),this.root.sharedNodes.clear()}}}function VD(n){n.updateLayout()}function OD(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Fn(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],S=Pn(w);w.min=r[y].min,w.max=w.min+S}):d1(a,t.layoutBox,r)&&Fn(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],S=Pn(r[y]);w.max=w.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+S)});const c=la();Gl(c,r,t.layoutBox);const d=la();l?Gl(d,n.applyTransform(s,!0),t.measuredBox):Gl(d,r,t.layoutBox);const p=!l1(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:S}=y;if(w&&S){const A=pt();Ql(A,t.layoutBox,w.layoutBox);const k=pt();Ql(k,r,S.layoutBox),u1(A,k)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=A,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function LD(n){Ul&&Bs.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function MD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function FD(n){n.clearSnapshot()}function uw(n){n.clearMeasurements()}function UD(n){n.isLayoutDirty=!1}function jD(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function cw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function BD(n){n.resolveTargetDelta()}function zD(n){n.calcProjection()}function $D(n){n.resetSkewAndRotation()}function WD(n){n.removeLeadSnapshot()}function hw(n,e,t){n.translate=at(e.translate,0,t),n.scale=at(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function dw(n,e,t,r){n.min=at(e.min,t.min,r),n.max=at(e.max,t.max,r)}function HD(n,e,t,r){dw(n.x,e.x,t.x,r),dw(n.y,e.y,t.y,r)}function qD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const KD={duration:.45,ease:[.4,0,.1,1]},fw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),pw=fw("applewebkit/")&&!fw("chrome/")?Math.round:An;function mw(n){n.min=pw(n.min),n.max=pw(n.max)}function GD(n){mw(n.x),mw(n.y)}function d1(n,e,t){return n==="position"||n==="preserve-aspect"&&!Xb(ow(e),ow(t),.2)}function QD(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const YD=h1({attachResizeListener:(n,e)=>cu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dp={current:void 0},f1=h1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Dp.current){const n=new YD({});n.mount(window),n.setOptions({layoutScroll:!0}),Dp.current=n}return Dp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),XD={pan:{Feature:fD},drag:{Feature:dD,ProjectionNode:f1,MeasureLayout:s1}};function gw(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&nt.postRender(()=>a(e,Cu(e)))}class JD extends as{mount(){const{current:e}=this.node;e&&(this.unmount=XR(e,t=>(gw(this.node,t,"Start"),r=>gw(this.node,r,"End"))))}unmount(){}}class ZD extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pu(cu(this.node.current,"focus",()=>this.onFocus()),cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yw(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&nt.postRender(()=>a(e,Cu(e)))}class e2 extends as{mount(){const{current:e}=this.node;e&&(this.unmount=tk(e,t=>(yw(this.node,t,"Start"),(r,{success:s})=>yw(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ym=new WeakMap,Np=new WeakMap,t2=n=>{const e=ym.get(n.target);e&&e(n)},n2=n=>{n.forEach(t2)};function r2({root:n,...e}){const t=n||document;Np.has(t)||Np.set(t,{});const r=Np.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(n2,{root:n,...e})),r[s]}function i2(n,e,t){const r=r2(e);return ym.set(n,t),r.observe(n),()=>{ym.delete(n),r.unobserve(n)}}const s2={some:0,all:1};class o2 extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:s2[s]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=p?g:y;w&&w(d)};return i2(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(a2(e,t))&&this.startObserver()}unmount(){}}function a2({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const l2={inView:{Feature:o2},tap:{Feature:e2},focus:{Feature:ZD},hover:{Feature:JD}},u2={layout:{ProjectionNode:f1,MeasureLayout:s1}},vm={current:null},p1={current:!1};function c2(){if(p1.current=!0,!!ug)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>vm.current=n.matches;n.addListener(e),e()}else vm.current=!1}const h2=[...US,Qt,Yi],d2=n=>h2.find(FS(n)),vw=new WeakMap;function f2(n,e,t){for(const r in e){const s=e[r],a=t[r];if(Jt(s))n.addValue(r,s);else if(Jt(a))n.addValue(r,lu(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(r);n.addValue(r,lu(l!==void 0?l:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const _w=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class p2{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Er.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,nt.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=dd(t),this.isVariantNode=KE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const S in w){const A=w[S];d[S]!==void 0&&Jt(A)&&A.set(d[S],!1)}}mount(e){this.current=e,vw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),p1.current||c2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vw.delete(this.current),this.projection&&this.projection.unmount(),Qi(this.notifyUpdate),Qi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=eo.has(e),s=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&nt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in va){const t=va[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<_w.length;r++){const s=_w[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=f2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=lu(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(LS(s)||CS(s))?s=parseFloat(s):!d2(s)&&Yi.test(t)&&(s=NS(e,t)),this.setBaseTarget(e,Jt(s)?s.get():s)),Jt(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=gg(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Jt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new kg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class m1 extends p2{constructor(){super(...arguments),this.KeyframeResolver=jS}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function m2(n){return window.getComputedStyle(n)}class g2 extends m1{constructor(){super(...arguments),this.type="html",this.renderInstance=nS}readValueFromInstance(e,t){if(eo.has(t)){const r=Og(t);return r&&r.default||0}else{const r=m2(e),s=(ZE(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return r1(e,t)}build(e,t,r){_g(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Sg(e,t,r)}}class y2 extends m1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(eo.has(t)){const r=Og(t);return r&&r.default||0}return t=rS.has(t)?t:fg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return oS(e,t,r)}build(e,t,r){wg(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){iS(e,t,r,s)}mount(e){this.isSVGTag=Eg(e.tagName),super.mount(e)}}const v2=(n,e)=>mg(n)?new y2(e):new g2(e,{allowProjection:n!==V.Fragment}),_2=WR({...zb,...l2,...XD,...u2},v2),jg=sR(_2);var Vp={exports:{}},Op,ww;function w2(){if(ww)return Op;ww=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Op=n,Op}var Lp,Tw;function T2(){if(Tw)return Lp;Tw=1;var n=w2();function e(){}function t(){}return t.resetWarningCache=e,Lp=function(){function r(l,c,d,p,g,y){if(y!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Lp}var Ew;function E2(){return Ew||(Ew=1,Vp.exports=T2()()),Vp.exports}var S2=E2();const Te=Su(S2),I2=()=>{};var Sw={};const g1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},A2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],c=n[t++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,g=a>>2,y=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,S=p&63;d||(S=64,l||(w=64)),r.push(t[g],t[y],t[w],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(g1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):A2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||c==null||p==null||y==null)throw new P2;const w=a<<2|c>>4;if(r.push(w),p!==64){const S=c<<4&240|p>>2;if(r.push(S),y!==64){const A=p<<6&192|y;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class P2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C2=function(n){const e=g1(n);return y1.encodeByteArray(e,!0)},Fh=function(n){return C2(n).replace(/\./g,"")},v1=function(n){try{return y1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function x2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const R2=()=>x2().__FIREBASE_DEFAULTS__,k2=()=>{if(typeof process>"u"||typeof Sw>"u")return;const n=Sw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},b2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&v1(n[1]);return e&&JSON.parse(e)},md=()=>{try{return I2()||R2()||k2()||b2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_1=n=>{var e,t;return(t=(e=md())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},D2=n=>{const e=_1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},w1=()=>{var n;return(n=md())===null||n===void 0?void 0:n.config},T1=n=>{var e;return(e=md())===null||e===void 0?void 0:e[`_${n}`]};class N2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function ba(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E1(n){return(await fetch(n,{credentials:"include"})).ok}function V2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Fh(JSON.stringify(t)),Fh(JSON.stringify(l)),""].join(".")}const Yl={};function O2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?n.emulator.push(e):n.prod.push(e);return n}function L2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Iw=!1;function S1(n,e){if(typeof window>"u"||typeof document>"u"||!ba(window.location.host)||Yl[n]===e||Yl[n]||Iw)return;Yl[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=O2().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Iw=!0,l()},w}function g(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=L2(r),S=t("text"),A=document.getElementById(S)||document.createElement("span"),k=t("learnmore"),C=document.getElementById(k)||document.createElement("a"),z=t("preprendIcon"),U=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;c(W),g(C,k);const K=p();d(U,z),W.append(U,A,C,K),document.body.appendChild(W)}a?(A.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function F2(){var n;const e=(n=md())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function B2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z2(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $2(){return!F2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W2(){try{return typeof indexedDB=="object"}catch{return!1}}function H2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}const q2="FirebaseError";class oi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=q2,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?K2(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new oi(s,c,r)}}function K2(n,e){return n.replace(G2,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const G2=/\{\$([^}]+)}/g;function Q2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(Aw(a)&&Aw(l)){if(!Gs(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Aw(n){return n!==null&&typeof n=="object"}function Ru(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Bl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Y2(n,e){const t=new X2(n,e);return t.subscribe.bind(t)}class X2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");J2(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Mp),s.error===void 0&&(s.error=Mp),s.complete===void 0&&(s.complete=Mp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Mp(){}function St(n){return n&&n._delegate?n._delegate:n}class Qs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zs="[DEFAULT]";class Z2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new N2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tN(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eN(n){return n===zs?void 0:n}function tN(n){return n.instantiationMode==="EAGER"}class nN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Z2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const rN={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},iN=Ve.INFO,sN={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},oN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=sN[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Bg=class{constructor(e){this.name=e,this._logLevel=iN,this._logHandler=oN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}};const aN=(n,e)=>e.some(t=>n instanceof t);let Pw,Cw;function lN(){return Pw||(Pw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uN(){return Cw||(Cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I1=new WeakMap,_m=new WeakMap,A1=new WeakMap,Fp=new WeakMap,zg=new WeakMap;function cN(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t($i(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&I1.set(t,n)}).catch(()=>{}),zg.set(e,n),e}function hN(n){if(_m.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});_m.set(n,e)}let wm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _m.get(n);if(e==="objectStoreNames")return n.objectStoreNames||A1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dN(n){wm=n(wm)}function fN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Up(this),e,...t);return A1.set(r,e.sort?e.sort():[e]),$i(r)}:uN().includes(n)?function(...e){return n.apply(Up(this),e),$i(I1.get(this))}:function(...e){return $i(n.apply(Up(this),e))}}function pN(n){return typeof n=="function"?fN(n):(n instanceof IDBTransaction&&hN(n),aN(n,lN())?new Proxy(n,wm):n)}function $i(n){if(n instanceof IDBRequest)return cN(n);if(Fp.has(n))return Fp.get(n);const e=pN(n);return e!==n&&(Fp.set(n,e),zg.set(e,n)),e}const Up=n=>zg.get(n);function mN(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),c=$i(l);return r&&l.addEventListener("upgradeneeded",d=>{r($i(l.result),d.oldVersion,d.newVersion,$i(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const gN=["get","getKey","getAll","getAllKeys","count"],yN=["put","add","delete","clear"],jp=new Map;function xw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=yN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gN.includes(t)))return;const a=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),s&&d.done]))[0]};return jp.set(e,a),a}dN(n=>({...n,get:(e,t,r)=>xw(e,t)||n.get(e,t,r),has:(e,t)=>!!xw(e,t)||n.has(e,t)}));class vN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_N(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function _N(n){const e=n.getComponent();return e?.type==="VERSION"}const Tm="@firebase/app",Rw="0.13.2";const ei=new Bg("@firebase/app"),wN="@firebase/app-compat",TN="@firebase/analytics-compat",EN="@firebase/analytics",SN="@firebase/app-check-compat",IN="@firebase/app-check",AN="@firebase/auth",PN="@firebase/auth-compat",CN="@firebase/database",xN="@firebase/data-connect",RN="@firebase/database-compat",kN="@firebase/functions",bN="@firebase/functions-compat",DN="@firebase/installations",NN="@firebase/installations-compat",VN="@firebase/messaging",ON="@firebase/messaging-compat",LN="@firebase/performance",MN="@firebase/performance-compat",FN="@firebase/remote-config",UN="@firebase/remote-config-compat",jN="@firebase/storage",BN="@firebase/storage-compat",zN="@firebase/firestore",$N="@firebase/ai",WN="@firebase/firestore-compat",HN="firebase",qN="11.10.0";const Em="[DEFAULT]",KN={[Tm]:"fire-core",[wN]:"fire-core-compat",[EN]:"fire-analytics",[TN]:"fire-analytics-compat",[IN]:"fire-app-check",[SN]:"fire-app-check-compat",[AN]:"fire-auth",[PN]:"fire-auth-compat",[CN]:"fire-rtdb",[xN]:"fire-data-connect",[RN]:"fire-rtdb-compat",[kN]:"fire-fn",[bN]:"fire-fn-compat",[DN]:"fire-iid",[NN]:"fire-iid-compat",[VN]:"fire-fcm",[ON]:"fire-fcm-compat",[LN]:"fire-perf",[MN]:"fire-perf-compat",[FN]:"fire-rc",[UN]:"fire-rc-compat",[jN]:"fire-gcs",[BN]:"fire-gcs-compat",[zN]:"fire-fst",[WN]:"fire-fst-compat",[$N]:"fire-vertex","fire-js":"fire-js",[HN]:"fire-js-all"};const Uh=new Map,GN=new Map,Sm=new Map;function kw(n,e){try{n.container.addComponent(e)}catch(t){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wa(n){const e=n.name;if(Sm.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,n);for(const t of Uh.values())kw(t,n);for(const t of GN.values())kw(t,n);return!0}function $g(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Un(n){return n==null?!1:n.settings!==void 0}const QN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new xu("app","Firebase",QN);class YN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}const Da=qN;function P1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Em,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Wi.create("bad-app-name",{appName:String(s)});if(t||(t=w1()),!t)throw Wi.create("no-options");const a=Uh.get(s);if(a){if(Gs(t,a.options)&&Gs(r,a.config))return a;throw Wi.create("duplicate-app",{appName:s})}const l=new nN(s);for(const d of Sm.values())l.addComponent(d);const c=new YN(t,r,l);return Uh.set(s,c),c}function C1(n=Em){const e=Uh.get(n);if(!e&&n===Em&&w1())return P1();if(!e)throw Wi.create("no-app",{appName:n});return e}function Hi(n,e,t){var r;let s=(r=KN[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(c.join(" "));return}wa(new Qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const XN="firebase-heartbeat-database",JN=1,hu="firebase-heartbeat-store";let Bp=null;function x1(){return Bp||(Bp=mN(XN,JN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wi.create("idb-open",{originalErrorMessage:n.message})})),Bp}async function ZN(n){try{const t=(await x1()).transaction(hu),r=await t.objectStore(hu).get(R1(n));return await t.done,r}catch(e){if(e instanceof oi)ei.warn(e.message);else{const t=Wi.create("idb-get",{originalErrorMessage:e?.message});ei.warn(t.message)}}}async function bw(n,e){try{const r=(await x1()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,R1(n)),await r.done}catch(t){if(t instanceof oi)ei.warn(t.message);else{const r=Wi.create("idb-set",{originalErrorMessage:t?.message});ei.warn(r.message)}}}function R1(n){return`${n.name}!${n.options.appId}`}const eV=1024,tV=30;class nV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iV(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Dw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>tV){const l=sV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ei.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dw(),{heartbeatsToSend:r,unsentEntries:s}=rV(this._heartbeatsCache.heartbeats),a=Fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ei.warn(t),""}}}function Dw(){return new Date().toISOString().substring(0,10)}function rV(n,e=eV){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Nw(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Nw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class iV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W2()?H2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ZN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return bw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return bw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Nw(n){return Fh(JSON.stringify({version:2,heartbeats:n})).length}function sV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function oV(n){wa(new Qs("platform-logger",e=>new vN(e),"PRIVATE")),wa(new Qs("heartbeat",e=>new nV(e),"PRIVATE")),Hi(Tm,Rw,n),Hi(Tm,Rw,"esm2017"),Hi("fire-js","")}oV("");var aV="firebase",lV="11.10.0";Hi(aV,lV,"app");var Vw=function(){return Vw=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Vw.apply(this,arguments)};function Wg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function b6(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function k1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uV=k1,b1=new xu("auth","Firebase",k1());const jh=new Bg("@firebase/auth");function cV(n,...e){jh.logLevel<=Ve.WARN&&jh.warn(`Auth (${Da}): ${n}`,...e)}function vh(n,...e){jh.logLevel<=Ve.ERROR&&jh.error(`Auth (${Da}): ${n}`,...e)}function or(n,...e){throw Hg(n,...e)}function Sr(n,...e){return Hg(n,...e)}function D1(n,e,t){const r=Object.assign(Object.assign({},uV()),{[e]:t});return new xu("auth","Firebase",r).create(e,{appName:n.name})}function Jr(n){return D1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return b1.create(n,...e)}function Se(n,e,...t){if(!n)throw Hg(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vh(e),new Error(e)}function ti(n,e){n||Gr(e)}function Im(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function hV(){return Ow()==="http:"||Ow()==="https:"}function Ow(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function dV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hV()||j2()||"connection"in navigator)?navigator.onLine:!0}function fV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,ti(t>e,"Short delay should be less than long delay!"),this.isMobile=M2()||B2()}get(){return dV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qg(n,e){ti(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class N1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gV=new ku(3e4,6e4);function ls(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ai(n,e,t,r,s={}){return V1(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Ru(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},a);return U2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ba(n.emulatorConfig.host)&&(p.credentials="include"),N1.fetch()(await O1(n,n.config.apiHost,t,c),p)})}async function V1(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},pV),e);try{const s=new vV(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw ah(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw ah(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw ah(n,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw D1(n,g,p);or(n,g)}}catch(s){if(s instanceof oi)throw s;or(n,"network-request-failed",{message:String(s)})}}async function bu(n,e,t,r,s={}){const a=await ai(n,e,t,r,s);return"mfaPendingCredential"in a&&or(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function O1(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?qg(n.config,s):`${n.config.apiScheme}://${s}`;return mV.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function yV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),gV.get())})}}function ah(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Sr(n,e,r);return s.customData._tokenResponse=t,s}function Lw(n){return n!==void 0&&n.enterprise!==void 0}class _V{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wV(n,e){return ai(n,"GET","/v2/recaptchaConfig",ls(n,e))}async function TV(n,e){return ai(n,"POST","/v1/accounts:delete",e)}async function Bh(n,e){return ai(n,"POST","/v1/accounts:lookup",e)}function Xl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EV(n,e=!1){const t=St(n),r=await t.getIdToken(e),s=Kg(r);Se(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:Xl(zp(s.auth_time)),issuedAtTime:Xl(zp(s.iat)),expirationTime:Xl(zp(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function zp(n){return Number(n)*1e3}function Kg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const s=v1(t);return s?JSON.parse(s):(vh("Failed to decode base64 JWT payload"),null)}catch(s){return vh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Mw(n){const e=Kg(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ta(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof oi&&SV(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function SV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class IV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Am{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Ta(n,Bh(t,{idToken:r}));Se(s?.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?L1(a.providerUserInfo):[],c=PV(n.providerData,l),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!c?.length,g=d?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Am(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function AV(n){const e=St(n);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PV(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function L1(n){return n.map(e=>{var{providerId:t}=e,r=Wg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function CV(n,e){const t=await V1(n,{},async()=>{const r=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await O1(n,s,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return n.emulatorConfig&&ba(n.emulatorConfig.host)&&(d.credentials="include"),N1.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xV(n,e){return ai(n,"POST","/v2/accounts:revokeToken",ls(n,e))}class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Mw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await CV(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new da;return r&&(Se(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Se(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function Ni(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class sr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Am(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ta(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return EV(this,e)}reload(){return AV(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await Ta(this,TV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,l,c,d,p,g;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(s=t.email)!==null&&s!==void 0?s:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=t.photoURL)!==null&&l!==void 0?l:void 0,k=(c=t.tenantId)!==null&&c!==void 0?c:void 0,C=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,z=(p=t.createdAt)!==null&&p!==void 0?p:void 0,U=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:W,emailVerified:K,isAnonymous:Q,providerData:re,stsTokenManager:D}=t;Se(W&&D,e,"internal-error");const P=da.fromJSON(this.name,D);Se(typeof W=="string",e,"internal-error"),Ni(y,e.name),Ni(w,e.name),Se(typeof K=="boolean",e,"internal-error"),Se(typeof Q=="boolean",e,"internal-error"),Ni(S,e.name),Ni(A,e.name),Ni(k,e.name),Ni(C,e.name),Ni(z,e.name),Ni(U,e.name);const x=new sr({uid:W,auth:e,email:w,emailVerified:K,displayName:y,isAnonymous:Q,photoURL:A,phoneNumber:S,tenantId:k,stsTokenManager:P,createdAt:z,lastLoginAt:U});return re&&Array.isArray(re)&&(x.providerData=re.map(N=>Object.assign({},N))),C&&(x._redirectEventId=C),x}static async _fromIdTokenResponse(e,t,r=!1){const s=new da;s.updateFromServerResponse(t);const a=new sr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Se(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?L1(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new da;c.updateFromIdToken(r);const d=new sr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Am(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,p),d}}const Fw=new Map;function Qr(n){ti(n instanceof Function,"Expected a class definition");let e=Fw.get(n);return e?(ti(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Fw.set(n,e),e)}class M1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}M1.type="NONE";const Uw=M1;function _h(n,e,t){return`firebase:${n}:${e}:${t}`}class fa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=_h(this.userKey,s.apiKey,a),this.fullPersistenceKey=_h("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bh(this.auth,{idToken:e}).catch(()=>{});return t?sr._fromGetAccountInfoResponse(this.auth,t,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new fa(Qr(Uw),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Qr(Uw);const l=_h(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){let y;if(typeof g=="string"){const w=await Bh(e,{idToken:g}).catch(()=>{});if(!w)break;y=await sr._fromGetAccountInfoResponse(e,w,g)}else y=sr._fromJSON(e,g);p!==a&&(c=y),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new fa(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new fa(a,e,r))}}function jw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($1(e))return"Blackberry";if(W1(e))return"Webos";if(U1(e))return"Safari";if((e.includes("chrome/")||j1(e))&&!e.includes("edge/"))return"Chrome";if(z1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function F1(n=Zt()){return/firefox\//i.test(n)}function U1(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j1(n=Zt()){return/crios\//i.test(n)}function B1(n=Zt()){return/iemobile/i.test(n)}function z1(n=Zt()){return/android/i.test(n)}function $1(n=Zt()){return/blackberry/i.test(n)}function W1(n=Zt()){return/webos/i.test(n)}function Gg(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function RV(n=Zt()){var e;return Gg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kV(){return z2()&&document.documentMode===10}function H1(n=Zt()){return Gg(n)||z1(n)||W1(n)||$1(n)||/windows phone/i.test(n)||B1(n)}function q1(n,e=[]){let t;switch(n){case"Browser":t=jw(Zt());break;case"Worker":t=`${jw(Zt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Da}/${r}`}class bV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function DV(n,e={}){return ai(n,"GET","/v2/passwordPolicy",ls(n,e))}const NV=6;class VV{constructor(e){var t,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:NV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class OV{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bw(this),this.idTokenSubscription=new Bw(this),this.beforeStateQueue=new bV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await fa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bh(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Un(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Jr(this));const t=e?St(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DV(this),t=new VV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await xV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await fa.create(this,[Qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&cV(`Error while retrieving App Check token: ${t.error}`),t?.token}}function to(n){return St(n)}class Bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Y2(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LV(n){gd=n}function K1(n){return gd.loadJS(n)}function MV(){return gd.recaptchaEnterpriseScript}function FV(){return gd.gapiScript}function UV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jV{constructor(){this.enterprise=new BV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class BV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zV="recaptcha-enterprise",G1="NO_RECAPTCHA";class $V{constructor(e){this.type=zV,this.auth=to(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{wV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new _V(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function s(a,l,c){const d=window.grecaptcha;Lw(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(G1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jV().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&Lw(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=MV();d.length!==0&&(d+=c),K1(d).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function zw(n,e,t,r=!1,s=!1){const a=new $V(n);let l;if(s)l=G1;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Pm(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await zw(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await zw(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}function WV(n,e){const t=$g(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Gs(a,e??{}))return s;or(s,"already-initialized")}return t.initialize({options:e})}function HV(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Qr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function qV(n,e,t){const r=to(n);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=Q1(e),{host:l,port:c}=KV(e),d=c===null?"":`:${c}`,p={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Gs(p,r.config.emulator)&&Gs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,ba(l)?(E1(`${a}//${l}${d}`),S1("Auth",!0)):GV()}function Q1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KV(n){const e=Q1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:$w(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:$w(l)}}}function $w(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function GV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Qg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function QV(n,e){return ai(n,"POST","/v1/accounts:signUp",e)}async function YV(n,e){return bu(n,"POST","/v1/accounts:signInWithPassword",ls(n,e))}async function XV(n,e){return bu(n,"POST","/v1/accounts:signInWithEmailLink",ls(n,e))}async function JV(n,e){return bu(n,"POST","/v1/accounts:signInWithEmailLink",ls(n,e))}class du extends Qg{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new du(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new du(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,t,"signInWithPassword",YV);case"emailLink":return XV(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,r,"signUpPassword",QV);case"emailLink":return JV(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function pa(n,e){return bu(n,"POST","/v1/accounts:signInWithIdp",ls(n,e))}const ZV="http://localhost";class Ys extends Qg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Wg(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Ys(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return pa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,pa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pa(e,t)}buildRequest(){const e={requestUri:ZV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ru(t)}return e}}function eO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tO(n){const e=jl(Bl(n)).link,t=e?jl(Bl(e)).deep_link_id:null,r=jl(Bl(n)).deep_link_id;return(r?jl(Bl(r)).link:null)||r||t||e||n}class Yg{constructor(e){var t,r,s,a,l,c;const d=jl(Bl(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=eO((s=d.mode)!==null&&s!==void 0?s:null);Se(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=tO(e);try{return new Yg(t)}catch{return null}}}class Na{constructor(){this.providerId=Na.PROVIDER_ID}static credential(e,t){return du._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Yg.parseLink(t);return Se(r,"argument-error"),du._fromEmailAndCode(e,r.code,r.tenantId)}}Na.PROVIDER_ID="password";Na.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Na.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Y1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Du extends Y1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Oi extends Du{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";class Li extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ys._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";class Mi extends Du{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";class Fi extends Du{constructor(){super("twitter.com")}static credential(e,t){return Ys._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";async function nO(n,e){return bu(n,"POST","/v1/accounts:signUp",ls(n,e))}class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await sr._fromIdTokenResponse(e,r,s),l=Ww(r);return new Xs({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Ww(r);return new Xs({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Ww(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class $h extends oi{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new $h(e,t,r,s)}}function X1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(n,a,e,r):a})}async function rO(n,e,t=!1){const r=await Ta(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xs._forOperation(n,"link",r)}async function iO(n,e,t=!1){const{auth:r}=n;if(Un(r.app))return Promise.reject(Jr(r));const s="reauthenticate";try{const a=await Ta(n,X1(r,s,e,n),t);Se(a.idToken,r,"internal-error");const l=Kg(a.idToken);Se(l,r,"internal-error");const{sub:c}=l;return Se(n.uid===c,r,"user-mismatch"),Xs._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&or(r,"user-mismatch"),a}}async function J1(n,e,t=!1){if(Un(n.app))return Promise.reject(Jr(n));const r="signIn",s=await X1(n,r,e),a=await Xs._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function sO(n,e){return J1(to(n),e)}async function Z1(n){const e=to(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D6(n,e,t){if(Un(n.app))return Promise.reject(Jr(n));const r=to(n),l=await Pm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nO).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Z1(n),d}),c=await Xs._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function N6(n,e,t){return Un(n.app)?Promise.reject(Jr(n)):sO(St(n),Na.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z1(n),r})}async function oO(n,e){return ai(n,"POST","/v1/accounts:update",e)}async function V6(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=St(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ta(r,oO(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function aO(n,e,t,r){return St(n).onIdTokenChanged(e,t,r)}function lO(n,e,t){return St(n).beforeAuthStateChanged(e,t)}function uO(n,e,t,r){return St(n).onAuthStateChanged(e,t,r)}function cO(n){return St(n).signOut()}const Wh="__sak";class eI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const hO=1e3,dO=10;class tI extends eI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);kV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,dO):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},hO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tI.type="LOCAL";const fO=tI;class nI extends eI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nI.type="SESSION";const rI=nI;function pO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new yd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(t.origin,a)),d=await pO(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];function Xg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class mO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const p=Xg("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ir(){return window}function gO(n){Ir().location.href=n}function iI(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function yO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vO(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _O(){return iI()?self:null}const sI="firebaseLocalStorageDb",wO=1,Hh="firebaseLocalStorage",oI="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vd(n,e){return n.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function TO(){const n=indexedDB.deleteDatabase(sI);return new Nu(n).toPromise()}function Cm(){const n=indexedDB.open(sI,wO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Hh,{keyPath:oI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await TO(),e(await Cm()))})})}async function Hw(n,e,t){const r=vd(n,!0).put({[oI]:e,value:t});return new Nu(r).toPromise()}async function EO(n,e){const t=vd(n,!1).get(e),r=await new Nu(t).toPromise();return r===void 0?null:r.value}function qw(n,e){const t=vd(n,!0).delete(e);return new Nu(t).toPromise()}const SO=800,IO=3;class aI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>IO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(_O()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yO(),!this.activeServiceWorker)return;this.sender=new mO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await Hw(e,Wh,"1"),await qw(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Hw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>EO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=vd(s,!1).getAll();return new Nu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aI.type="LOCAL";const AO=aI;new ku(3e4,6e4);function PO(n,e){return e?Qr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Jg extends Qg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CO(n){return J1(n.auth,new Jg(n),n.bypassAuthState)}function xO(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),iO(t,new Jg(n),n.bypassAuthState)}async function RO(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),rO(t,new Jg(n),n.bypassAuthState)}class lI{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CO;case"linkViaPopup":case"linkViaRedirect":return RO;case"reauthViaPopup":case"reauthViaRedirect":return xO;default:or(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kO=new ku(2e3,1e4);class ha extends lI{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=Xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kO.get())};e()}}ha.currentPopupAction=null;const bO="pendingRedirect",wh=new Map;class DO extends lI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const r=await NO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NO(n,e){const t=LO(e),r=OO(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function VO(n,e){wh.set(n._key(),e)}function OO(n){return Qr(n._redirectPersistence)}function LO(n){return _h(bO,n.config.apiKey,n.name)}async function MO(n,e,t=!1){if(Un(n.app))return Promise.reject(Jr(n));const r=to(n),s=PO(r,e),l=await new DO(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const FO=600*1e3;class UO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!uI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Sr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kw(e))}saveEventToCache(e){this.cachedEventUids.add(Kw(e)),this.lastProcessedEventTime=Date.now()}}function Kw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uI({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function jO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uI(n);default:return!1}}async function BO(n,e={}){return ai(n,"GET","/v1/projects",e)}const zO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$O=/^https?/;async function WO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await BO(n);for(const t of e)try{if(HO(t))return}catch{}or(n,"unauthorized-domain")}function HO(n){const e=Im(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!$O.test(t))return!1;if(zO.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const qO=new ku(3e4,6e4);function Gw(){const n=Ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function KO(n){return new Promise((e,t)=>{var r,s,a;function l(){Gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gw(),t(Sr(n,"network-request-failed"))},timeout:qO.get()})}if(!((s=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Ir().gapi)===null||a===void 0)&&a.load)l();else{const c=UV("iframefcb");return Ir()[c]=()=>{gapi.load?l():t(Sr(n,"network-request-failed"))},K1(`${FV()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw Th=null,e})}let Th=null;function GO(n){return Th=Th||KO(n),Th}const QO=new ku(5e3,15e3),YO="__/auth/iframe",XO="emulator/auth/iframe",JO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eL(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qg(e,XO):`https://${n.config.authDomain}/${YO}`,r={apiKey:e.apiKey,appName:n.name,v:Da},s=ZO.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ru(r).slice(1)}`}async function tL(n){const e=await GO(n),t=Ir().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:eL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JO,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Sr(n,"network-request-failed"),c=Ir().setTimeout(()=>{a(l)},QO.get());function d(){Ir().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{a(l)})}))}const nL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rL=500,iL=600,sL="_blank",oL="http://localhost";class Qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aL(n,e,t,r=rL,s=iL){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},nL),{width:r.toString(),height:s.toString(),top:a,left:l}),p=Zt().toLowerCase();t&&(c=j1(p)?sL:t),F1(p)&&(e=e||oL,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[S,A])=>`${w}${S}=${A},`,"");if(RV(p)&&c!=="_self")return lL(e||"",c),new Qw(null);const y=window.open(e||"",c,g);Se(y,n,"popup-blocked");try{y.focus()}catch{}return new Qw(y)}function lL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const uL="__/auth/handler",cL="emulator/auth/handler",hL=encodeURIComponent("fac");async function Yw(n,e,t,r,s,a){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Da,eventId:s};if(e instanceof Y1){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Q2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof Du){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await n._getAppCheckToken(),p=d?`#${hL}=${encodeURIComponent(d)}`:"";return`${dL(n)}?${Ru(c).slice(1)}${p}`}function dL({config:n}){return n.emulator?qg(n,cL):`https://${n.authDomain}/${uL}`}const $p="webStorageSupport";class fL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rI,this._completeRedirectFn=MO,this._overrideRedirectResult=VO}async _openPopup(e,t,r,s){var a;ti((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Yw(e,t,r,Im(),s);return aL(e,l,Xg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Yw(e,t,r,Im(),s);return gO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ti(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await tL(e),r=new UO(e);return t.register("authEvent",s=>(Se(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($p,{type:$p},s=>{var a;const l=(a=s?.[0])===null||a===void 0?void 0:a[$p];l!==void 0&&t(!!l),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return H1()||U1()||Gg()}}const pL=fL;var Xw="@firebase/auth",Jw="1.10.8";class mL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yL(n){wa(new Qs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Se(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q1(n)},p=new OV(r,s,a,d);return HV(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wa(new Qs("auth-internal",e=>{const t=to(e.getProvider("auth").getImmediate());return(r=>new mL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(Xw,Jw,gL(n)),Hi(Xw,Jw,"esm2017")}const vL=300,_L=T1("authIdTokenMaxAge")||vL;let Zw=null;const wL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>_L)return;const s=t?.token;Zw!==s&&(Zw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function TL(n=C1()){const e=$g(n,"auth");if(e.isInitialized())return e.getImmediate();const t=WV(n,{popupRedirectResolver:pL,persistence:[AO,fO,rI]}),r=T1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=wL(a.toString());lO(t,l,()=>l(t.currentUser)),aO(t,c=>l(c))}}const s=_1("auth");return s&&qV(t,`http://${s}`),t}function EL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}LV({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Sr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",EL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yL("Browser");var eT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qi,cI;(function(){var n;function e(D,P){function x(){}x.prototype=P.prototype,D.D=P.prototype,D.prototype=new x,D.prototype.constructor=D,D.C=function(N,M,j){for(var b=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)b[Ne-2]=arguments[Ne];return P.prototype[M].apply(N,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,P,x){x||(x=0);var N=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)N[M]=P.charCodeAt(x++)|P.charCodeAt(x++)<<8|P.charCodeAt(x++)<<16|P.charCodeAt(x++)<<24;else for(M=0;16>M;++M)N[M]=P[x++]|P[x++]<<8|P[x++]<<16|P[x++]<<24;P=D.g[0],x=D.g[1],M=D.g[2];var j=D.g[3],b=P+(j^x&(M^j))+N[0]+3614090360&4294967295;P=x+(b<<7&4294967295|b>>>25),b=j+(M^P&(x^M))+N[1]+3905402710&4294967295,j=P+(b<<12&4294967295|b>>>20),b=M+(x^j&(P^x))+N[2]+606105819&4294967295,M=j+(b<<17&4294967295|b>>>15),b=x+(P^M&(j^P))+N[3]+3250441966&4294967295,x=M+(b<<22&4294967295|b>>>10),b=P+(j^x&(M^j))+N[4]+4118548399&4294967295,P=x+(b<<7&4294967295|b>>>25),b=j+(M^P&(x^M))+N[5]+1200080426&4294967295,j=P+(b<<12&4294967295|b>>>20),b=M+(x^j&(P^x))+N[6]+2821735955&4294967295,M=j+(b<<17&4294967295|b>>>15),b=x+(P^M&(j^P))+N[7]+4249261313&4294967295,x=M+(b<<22&4294967295|b>>>10),b=P+(j^x&(M^j))+N[8]+1770035416&4294967295,P=x+(b<<7&4294967295|b>>>25),b=j+(M^P&(x^M))+N[9]+2336552879&4294967295,j=P+(b<<12&4294967295|b>>>20),b=M+(x^j&(P^x))+N[10]+4294925233&4294967295,M=j+(b<<17&4294967295|b>>>15),b=x+(P^M&(j^P))+N[11]+2304563134&4294967295,x=M+(b<<22&4294967295|b>>>10),b=P+(j^x&(M^j))+N[12]+1804603682&4294967295,P=x+(b<<7&4294967295|b>>>25),b=j+(M^P&(x^M))+N[13]+4254626195&4294967295,j=P+(b<<12&4294967295|b>>>20),b=M+(x^j&(P^x))+N[14]+2792965006&4294967295,M=j+(b<<17&4294967295|b>>>15),b=x+(P^M&(j^P))+N[15]+1236535329&4294967295,x=M+(b<<22&4294967295|b>>>10),b=P+(M^j&(x^M))+N[1]+4129170786&4294967295,P=x+(b<<5&4294967295|b>>>27),b=j+(x^M&(P^x))+N[6]+3225465664&4294967295,j=P+(b<<9&4294967295|b>>>23),b=M+(P^x&(j^P))+N[11]+643717713&4294967295,M=j+(b<<14&4294967295|b>>>18),b=x+(j^P&(M^j))+N[0]+3921069994&4294967295,x=M+(b<<20&4294967295|b>>>12),b=P+(M^j&(x^M))+N[5]+3593408605&4294967295,P=x+(b<<5&4294967295|b>>>27),b=j+(x^M&(P^x))+N[10]+38016083&4294967295,j=P+(b<<9&4294967295|b>>>23),b=M+(P^x&(j^P))+N[15]+3634488961&4294967295,M=j+(b<<14&4294967295|b>>>18),b=x+(j^P&(M^j))+N[4]+3889429448&4294967295,x=M+(b<<20&4294967295|b>>>12),b=P+(M^j&(x^M))+N[9]+568446438&4294967295,P=x+(b<<5&4294967295|b>>>27),b=j+(x^M&(P^x))+N[14]+3275163606&4294967295,j=P+(b<<9&4294967295|b>>>23),b=M+(P^x&(j^P))+N[3]+4107603335&4294967295,M=j+(b<<14&4294967295|b>>>18),b=x+(j^P&(M^j))+N[8]+1163531501&4294967295,x=M+(b<<20&4294967295|b>>>12),b=P+(M^j&(x^M))+N[13]+2850285829&4294967295,P=x+(b<<5&4294967295|b>>>27),b=j+(x^M&(P^x))+N[2]+4243563512&4294967295,j=P+(b<<9&4294967295|b>>>23),b=M+(P^x&(j^P))+N[7]+1735328473&4294967295,M=j+(b<<14&4294967295|b>>>18),b=x+(j^P&(M^j))+N[12]+2368359562&4294967295,x=M+(b<<20&4294967295|b>>>12),b=P+(x^M^j)+N[5]+4294588738&4294967295,P=x+(b<<4&4294967295|b>>>28),b=j+(P^x^M)+N[8]+2272392833&4294967295,j=P+(b<<11&4294967295|b>>>21),b=M+(j^P^x)+N[11]+1839030562&4294967295,M=j+(b<<16&4294967295|b>>>16),b=x+(M^j^P)+N[14]+4259657740&4294967295,x=M+(b<<23&4294967295|b>>>9),b=P+(x^M^j)+N[1]+2763975236&4294967295,P=x+(b<<4&4294967295|b>>>28),b=j+(P^x^M)+N[4]+1272893353&4294967295,j=P+(b<<11&4294967295|b>>>21),b=M+(j^P^x)+N[7]+4139469664&4294967295,M=j+(b<<16&4294967295|b>>>16),b=x+(M^j^P)+N[10]+3200236656&4294967295,x=M+(b<<23&4294967295|b>>>9),b=P+(x^M^j)+N[13]+681279174&4294967295,P=x+(b<<4&4294967295|b>>>28),b=j+(P^x^M)+N[0]+3936430074&4294967295,j=P+(b<<11&4294967295|b>>>21),b=M+(j^P^x)+N[3]+3572445317&4294967295,M=j+(b<<16&4294967295|b>>>16),b=x+(M^j^P)+N[6]+76029189&4294967295,x=M+(b<<23&4294967295|b>>>9),b=P+(x^M^j)+N[9]+3654602809&4294967295,P=x+(b<<4&4294967295|b>>>28),b=j+(P^x^M)+N[12]+3873151461&4294967295,j=P+(b<<11&4294967295|b>>>21),b=M+(j^P^x)+N[15]+530742520&4294967295,M=j+(b<<16&4294967295|b>>>16),b=x+(M^j^P)+N[2]+3299628645&4294967295,x=M+(b<<23&4294967295|b>>>9),b=P+(M^(x|~j))+N[0]+4096336452&4294967295,P=x+(b<<6&4294967295|b>>>26),b=j+(x^(P|~M))+N[7]+1126891415&4294967295,j=P+(b<<10&4294967295|b>>>22),b=M+(P^(j|~x))+N[14]+2878612391&4294967295,M=j+(b<<15&4294967295|b>>>17),b=x+(j^(M|~P))+N[5]+4237533241&4294967295,x=M+(b<<21&4294967295|b>>>11),b=P+(M^(x|~j))+N[12]+1700485571&4294967295,P=x+(b<<6&4294967295|b>>>26),b=j+(x^(P|~M))+N[3]+2399980690&4294967295,j=P+(b<<10&4294967295|b>>>22),b=M+(P^(j|~x))+N[10]+4293915773&4294967295,M=j+(b<<15&4294967295|b>>>17),b=x+(j^(M|~P))+N[1]+2240044497&4294967295,x=M+(b<<21&4294967295|b>>>11),b=P+(M^(x|~j))+N[8]+1873313359&4294967295,P=x+(b<<6&4294967295|b>>>26),b=j+(x^(P|~M))+N[15]+4264355552&4294967295,j=P+(b<<10&4294967295|b>>>22),b=M+(P^(j|~x))+N[6]+2734768916&4294967295,M=j+(b<<15&4294967295|b>>>17),b=x+(j^(M|~P))+N[13]+1309151649&4294967295,x=M+(b<<21&4294967295|b>>>11),b=P+(M^(x|~j))+N[4]+4149444226&4294967295,P=x+(b<<6&4294967295|b>>>26),b=j+(x^(P|~M))+N[11]+3174756917&4294967295,j=P+(b<<10&4294967295|b>>>22),b=M+(P^(j|~x))+N[2]+718787259&4294967295,M=j+(b<<15&4294967295|b>>>17),b=x+(j^(M|~P))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+P&4294967295,D.g[1]=D.g[1]+(M+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+j&4294967295}r.prototype.u=function(D,P){P===void 0&&(P=D.length);for(var x=P-this.blockSize,N=this.B,M=this.h,j=0;j<P;){if(M==0)for(;j<=x;)s(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<P;)if(N[M++]=D.charCodeAt(j++),M==this.blockSize){s(this,N),M=0;break}}else for(;j<P;)if(N[M++]=D[j++],M==this.blockSize){s(this,N),M=0;break}}this.h=M,this.o+=P},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var P=1;P<D.length-8;++P)D[P]=0;var x=8*this.o;for(P=D.length-8;P<D.length;++P)D[P]=x&255,x/=256;for(this.u(D),D=Array(16),P=x=0;4>P;++P)for(var N=0;32>N;N+=8)D[x++]=this.g[P]>>>N&255;return D};function a(D,P){var x=c;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=P(D)}function l(D,P){this.h=P;for(var x=[],N=!0,M=D.length-1;0<=M;M--){var j=D[M]|0;N&&j==P||(x[M]=j,N=!1)}this.g=x}var c={};function d(D){return-128<=D&&128>D?a(D,function(P){return new l([P|0],0>P?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return C(p(-D));for(var P=[],x=1,N=0;D>=x;N++)P[N]=D/x|0,x*=4294967296;return new l(P,0)}function g(D,P){if(D.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D.charAt(0)=="-")return C(g(D.substring(1),P));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(P,8)),N=y,M=0;M<D.length;M+=8){var j=Math.min(8,D.length-M),b=parseInt(D.substring(M,M+j),P);8>j?(j=p(Math.pow(P,j)),N=N.j(j).add(p(b))):(N=N.j(x),N=N.add(p(b)))}return N}var y=d(0),w=d(1),S=d(16777216);n=l.prototype,n.m=function(){if(k(this))return-C(this).m();for(var D=0,P=1,x=0;x<this.g.length;x++){var N=this.i(x);D+=(0<=N?N:4294967296+N)*P,P*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(k(this))return"-"+C(this).toString(D);for(var P=p(Math.pow(D,6)),x=this,N="";;){var M=K(x,P).g;x=z(x,M.j(P));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(D);if(x=M,A(x))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var P=0;P<D.g.length;P++)if(D.g[P]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=z(this,D),k(D)?-1:A(D)?0:1};function C(D){for(var P=D.g.length,x=[],N=0;N<P;N++)x[N]=~D.g[N];return new l(x,~D.h).add(w)}n.abs=function(){return k(this)?C(this):this},n.add=function(D){for(var P=Math.max(this.g.length,D.g.length),x=[],N=0,M=0;M<=P;M++){var j=N+(this.i(M)&65535)+(D.i(M)&65535),b=(j>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);N=b>>>16,j&=65535,b&=65535,x[M]=b<<16|j}return new l(x,x[x.length-1]&-2147483648?-1:0)};function z(D,P){return D.add(C(P))}n.j=function(D){if(A(this)||A(D))return y;if(k(this))return k(D)?C(this).j(C(D)):C(C(this).j(D));if(k(D))return C(this.j(C(D)));if(0>this.l(S)&&0>D.l(S))return p(this.m()*D.m());for(var P=this.g.length+D.g.length,x=[],N=0;N<2*P;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<D.g.length;M++){var j=this.i(N)>>>16,b=this.i(N)&65535,Ne=D.i(M)>>>16,yt=D.i(M)&65535;x[2*N+2*M]+=b*yt,U(x,2*N+2*M),x[2*N+2*M+1]+=j*yt,U(x,2*N+2*M+1),x[2*N+2*M+1]+=b*Ne,U(x,2*N+2*M+1),x[2*N+2*M+2]+=j*Ne,U(x,2*N+2*M+2)}for(N=0;N<P;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=P;N<2*P;N++)x[N]=0;return new l(x,0)};function U(D,P){for(;(D[P]&65535)!=D[P];)D[P+1]+=D[P]>>>16,D[P]&=65535,P++}function W(D,P){this.g=D,this.h=P}function K(D,P){if(A(P))throw Error("division by zero");if(A(D))return new W(y,y);if(k(D))return P=K(C(D),P),new W(C(P.g),C(P.h));if(k(P))return P=K(D,C(P)),new W(C(P.g),P.h);if(30<D.g.length){if(k(D)||k(P))throw Error("slowDivide_ only works with positive integers.");for(var x=w,N=P;0>=N.l(D);)x=Q(x),N=Q(N);var M=re(x,1),j=re(N,1);for(N=re(N,2),x=re(x,2);!A(N);){var b=j.add(N);0>=b.l(D)&&(M=M.add(x),j=b),N=re(N,1),x=re(x,1)}return P=z(D,M.j(P)),new W(M,P)}for(M=y;0<=D.l(P);){for(x=Math.max(1,Math.floor(D.m()/P.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=p(x),b=j.j(P);k(b)||0<b.l(D);)x-=N,j=p(x),b=j.j(P);A(j)&&(j=w),M=M.add(j),D=z(D,b)}return new W(M,D)}n.A=function(D){return K(this,D).h},n.and=function(D){for(var P=Math.max(this.g.length,D.g.length),x=[],N=0;N<P;N++)x[N]=this.i(N)&D.i(N);return new l(x,this.h&D.h)},n.or=function(D){for(var P=Math.max(this.g.length,D.g.length),x=[],N=0;N<P;N++)x[N]=this.i(N)|D.i(N);return new l(x,this.h|D.h)},n.xor=function(D){for(var P=Math.max(this.g.length,D.g.length),x=[],N=0;N<P;N++)x[N]=this.i(N)^D.i(N);return new l(x,this.h^D.h)};function Q(D){for(var P=D.g.length+1,x=[],N=0;N<P;N++)x[N]=D.i(N)<<1|D.i(N-1)>>>31;return new l(x,D.h)}function re(D,P){var x=P>>5;P%=32;for(var N=D.g.length-x,M=[],j=0;j<N;j++)M[j]=0<P?D.i(j+x)>>>P|D.i(j+x+1)<<32-P:D.i(j+x);return new l(M,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,qi=l}).apply(typeof eT<"u"?eT:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hI,zl,dI,Eh,xm,fI,pI,mI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function s(h,v){if(v)e:{var T=r;h=h.split(".");for(var I=0;I<h.length-1;I++){var B=h[I];if(!(B in T))break e;T=T[B]}h=h[h.length-1],I=T[h],v=v(I),v!=I&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function a(h,v){h instanceof String&&(h+="");var T=0,I=!1,B={next:function(){if(!I&&T<h.length){var G=T++;return{value:v(G,h[G]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(h){return h||function(){return a(this,function(v,T){return T})}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,T){return h.call.apply(h.bind,arguments)}function y(h,v,T){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),h.apply(v,B)}}return function(){return h.apply(v,arguments)}}function w(h,v,T){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,w.apply(null,arguments)}function S(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function A(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(I,B,G){for(var oe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)oe[qe-2]=arguments[qe];return v.prototype[B].apply(I,oe)}}function k(h){const v=h.length;if(0<v){const T=Array(v);for(let I=0;I<v;I++)T[I]=h[I];return T}return[]}function C(h,v){for(let T=1;T<arguments.length;T++){const I=arguments[T];if(d(I)){const B=h.length||0,G=I.length||0;h.length=B+G;for(let oe=0;oe<G;oe++)h[B+oe]=I[oe]}else h.push(I)}}class z{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(h){return/^[\s\xa0]*$/.test(h)}function W(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function K(h){return K[" "](h),h}K[" "]=function(){};var Q=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function re(h,v,T){for(const I in h)v.call(T,h[I],I,h)}function D(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function P(h){const v={};for(const T in h)v[T]=h[T];return v}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,v){let T,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(T in I)h[T]=I[T];for(let G=0;G<x.length;G++)T=x[G],Object.prototype.hasOwnProperty.call(I,T)&&(h[T]=I[T])}}function M(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function j(h){c.setTimeout(()=>{throw h},0)}function b(){var h=fe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ne{constructor(){this.h=this.g=null}add(v,T){const I=yt.get();I.set(v,T),this.h?this.h.next=I:this.g=I,this.h=I}}var yt=new z(()=>new Ke,h=>h.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ie=!1,fe=new Ne,ae=()=>{const h=c.Promise.resolve(void 0);ve=()=>{h.then(F)}};var F=()=>{for(var h;h=b();){try{h.h.call(h.g)}catch(T){j(T)}var v=yt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Re=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return h})();function be(h,v){if(pe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Q){e:{try{K(v.nodeName);var B=!0;break e}catch{}B=!1}B||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&be.aa.h.call(this)}}A(be,pe);var Me={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),We=0;function Qe(h,v,T,I,B){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!I,this.ha=B,this.key=++We,this.da=this.fa=!1}function kt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function kr(h){this.src=h,this.g={},this.h=0}kr.prototype.add=function(h,v,T,I,B){var G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);var oe=li(h,v,I,B);return-1<oe?(v=h[oe],T||(v.fa=!1)):(v=new Qe(v,this.src,G,!!I,B),v.fa=T,h.push(v)),v};function oo(h,v){var T=v.type;if(T in h.g){var I=h.g[T],B=Array.prototype.indexOf.call(I,v,void 0),G;(G=0<=B)&&Array.prototype.splice.call(I,B,1),G&&(kt(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function li(h,v,T,I){for(var B=0;B<h.length;++B){var G=h[B];if(!G.da&&G.listener==v&&G.capture==!!T&&G.ha==I)return B}return-1}var hs="closure_lm_"+(1e6*Math.random()|0),ao={};function Ua(h,v,T,I,B){if(Array.isArray(v)){for(var G=0;G<v.length;G++)Ua(h,v[G],T,I,B);return null}return T=za(T),h&&h[$e]?h.K(v,T,p(I)?!!I.capture:!1,B):ja(h,v,T,!1,I,B)}function ja(h,v,T,I,B,G){if(!v)throw Error("Invalid event type");var oe=p(B)?!!B.capture:!!B,qe=uo(h);if(qe||(h[hs]=qe=new kr(h)),T=qe.add(v,T,I,oe,G),T.proxy)return T;if(I=Bu(),T.proxy=I,I.src=h,I.listener=T,h.addEventListener)Re||(B=oe),B===void 0&&(B=!1),h.addEventListener(v.toString(),I,B);else if(h.attachEvent)h.attachEvent(Dr(v.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Bu(){function h(T){return v.call(h.src,h.listener,T)}const v=Ba;return h}function lo(h,v,T,I,B){if(Array.isArray(v))for(var G=0;G<v.length;G++)lo(h,v[G],T,I,B);else I=p(I)?!!I.capture:!!I,T=za(T),h&&h[$e]?(h=h.i,v=String(v).toString(),v in h.g&&(G=h.g[v],T=li(G,T,I,B),-1<T&&(kt(G[T]),Array.prototype.splice.call(G,T,1),G.length==0&&(delete h.g[v],h.h--)))):h&&(h=uo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=li(v,T,I,B)),(T=-1<h?v[h]:null)&&br(T))}function br(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[$e])oo(v.i,h);else{var T=h.type,I=h.proxy;v.removeEventListener?v.removeEventListener(T,I,h.capture):v.detachEvent?v.detachEvent(Dr(T),I):v.addListener&&v.removeListener&&v.removeListener(I),(T=uo(v))?(oo(T,h),T.h==0&&(T.src=null,v[hs]=null)):kt(h)}}}function Dr(h){return h in ao?ao[h]:ao[h]="on"+h}function Ba(h,v){if(h.da)h=!0;else{v=new be(v,this);var T=h.listener,I=h.ha||h.src;h.fa&&br(h),h=T.call(I,v)}return h}function uo(h){return h=h[hs],h instanceof kr?h:null}var co="__closure_events_fn_"+(1e9*Math.random()>>>0);function za(h){return typeof h=="function"?h:(h[co]||(h[co]=function(v){return h.handleEvent(v)}),h[co])}function It(){Y.call(this),this.i=new kr(this),this.M=this,this.F=null}A(It,Y),It.prototype[$e]=!0,It.prototype.removeEventListener=function(h,v,T,I){lo(this,h,v,T,I)};function At(h,v){var T,I=h.F;if(I)for(T=[];I;I=I.F)T.push(I);if(h=h.M,I=v.type||v,typeof v=="string")v=new pe(v,h);else if(v instanceof pe)v.target=v.target||h;else{var B=v;v=new pe(I,h),N(v,B)}if(B=!0,T)for(var G=T.length-1;0<=G;G--){var oe=v.g=T[G];B=Nr(oe,I,!0,v)&&B}if(oe=v.g=h,B=Nr(oe,I,!0,v)&&B,B=Nr(oe,I,!1,v)&&B,T)for(G=0;G<T.length;G++)oe=v.g=T[G],B=Nr(oe,I,!1,v)&&B}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],I=0;I<T.length;I++)kt(T[I]);delete h.g[v],h.h--}}this.F=null},It.prototype.K=function(h,v,T,I){return this.i.add(String(h),v,!1,T,I)},It.prototype.L=function(h,v,T,I){return this.i.add(String(h),v,!0,T,I)};function Nr(h,v,T,I){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var B=!0,G=0;G<v.length;++G){var oe=v[G];if(oe&&!oe.da&&oe.capture==T){var qe=oe.listener,Pt=oe.ha||oe.src;oe.fa&&oo(h.i,oe),B=qe.call(Pt,I)!==!1&&B}}return B&&!I.defaultPrevented}function $a(h,v,T){if(typeof h=="function")T&&(h=w(h,T));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(h,v||0)}function ui(h){h.g=$a(()=>{h.g=null,h.i&&(h.i=!1,ui(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ds extends Y{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(h){Y.call(this),this.h=h,this.g={}}A(fs,Y);var Wa=[];function Ha(h){re(h.g,function(v,T){this.g.hasOwnProperty(T)&&br(v)},h),h.g={}}fs.prototype.N=function(){fs.aa.N.call(this),Ha(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qa=c.JSON.stringify,Ka=c.JSON.parse,Ga=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ps(){}ps.prototype.h=null;function ho(h){return h.h||(h.h=h.i())}function fo(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){pe.call(this,"d")}A(lr,pe);function po(){pe.call(this,"c")}A(po,pe);var ur={},Qa=null;function ms(){return Qa=Qa||new It}ur.La="serverreachability";function Ya(h){pe.call(this,ur.La,h)}A(Ya,pe);function Vr(h){const v=ms();At(v,new Ya(v))}ur.STAT_EVENT="statevent";function Xa(h,v){pe.call(this,ur.STAT_EVENT,h),this.stat=v}A(Xa,pe);function dt(h){const v=ms();At(v,new Xa(v,h))}ur.Ma="timingevent";function mo(h,v){pe.call(this,ur.Ma,h),this.size=v}A(mo,pe);function $n(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function gs(){this.g=!0}gs.prototype.xa=function(){this.g=!1};function ys(h,v,T,I,B,G){h.info(function(){if(h.g)if(G)for(var oe="",qe=G.split("&"),Pt=0;Pt<qe.length;Pt++){var Fe=qe[Pt].split("=");if(1<Fe.length){var bt=Fe[0];Fe=Fe[1];var vt=bt.split("_");oe=2<=vt.length&&vt[1]=="type"?oe+(bt+"="+Fe+"&"):oe+(bt+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+v+`
`+T+`
`+oe})}function go(h,v,T,I,B,G,oe){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+v+`
`+T+`
`+G+" "+oe})}function Wn(h,v,T,I){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bd(h,T)+(I?" "+I:"")})}function Ja(h,v){h.info(function(){return"TIMEOUT: "+v})}gs.prototype.info=function(){};function Bd(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var I=T[h];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return qa(T)}catch{return v}}var yo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function vs(){}A(vs,ps),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},Hn=new vs;function qn(h,v,T,I){this.j=h,this.i=v,this.l=T,this.R=I||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $u}function $u(){this.i=null,this.g="",this.h=!1}var Za={},vo={};function _o(h,v,T){h.L=1,h.v=pi(vn(v)),h.m=T,h.P=!0,el(h,null)}function el(h,v){h.F=Date.now(),Ye(h),h.A=vn(h.v);var T=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),gi(T.i,"t",I),h.C=0,T=h.j.J,h.h=new $u,h.g=ac(h.j,T?v:null,!h.m),0<h.O&&(h.M=new ds(w(h.Y,h,h.g),h.O)),v=h.U,T=h.g,I=h.ca;var B="readystatechange";Array.isArray(B)||(B&&(Wa[0]=B.toString()),B=Wa);for(var G=0;G<B.length;G++){var oe=Ua(T,B[G],I||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.H?P(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Vr(),ys(h.i,h.u,h.A,h.l,h.R,h.m)}qn.prototype.ca=function(h){h=h.target;const v=this.M;v&&ln(h)==3?v.j():this.Y(h)},qn.prototype.Y=function(h){try{if(h==this.g)e:{const vt=ln(this.g);var v=this.g.Ba();const kn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||ol(this.g)))){this.J||vt!=4||v==7||(v==8||0>=kn?Vr(3):Vr(2)),_s(this);var T=this.g.Z();this.X=T;t:if(Wu(this)){var I=ol(this.g);h="";var B=I.length,G=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),ci(this);var oe="";break t}this.h.i=new c.TextDecoder}for(v=0;v<B;v++)this.h.h=!0,h+=this.h.i.decode(I[v],{stream:!(G&&v==B-1)});I.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=T==200,go(this.i,this.u,this.A,this.l,this.R,vt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Pt=this.g;if((qe=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(qe)){var Fe=qe;break t}}Fe=null}if(T=Fe)Wn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tl(this,T);else{this.o=!1,this.s=3,dt(12),xn(this),ci(this);break e}}if(this.P){T=!0;let wn;for(;!this.J&&this.C<oe.length;)if(wn=zd(this,oe),wn==vo){vt==4&&(this.s=4,dt(14),T=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Za){this.s=4,dt(15),Wn(this.i,this.l,oe,"[Invalid Chunk]"),T=!1;break}else Wn(this.i,this.l,wn,null),tl(this,wn);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||oe.length!=0||this.h.h||(this.s=1,dt(16),T=!1),this.o=this.o&&T,!T)Wn(this.i,this.l,oe,"[Invalid Chunked Response]"),xn(this),ci(this);else if(0<oe.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ll(bt),bt.M=!0,dt(11))}}else Wn(this.i,this.l,oe,null),tl(this,oe);vt==4&&xn(this),this.o&&!this.J&&(vt==4?ko(this.j,this):(this.o=!1,Ye(this)))}else Ao(this.g),T==400&&0<oe.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),xn(this),ci(this)}}}catch{}finally{}};function Wu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function zd(h,v){var T=h.C,I=v.indexOf(`
`,T);return I==-1?vo:(T=Number(v.substring(T,I)),isNaN(T)?Za:(I+=1,I+T>v.length?vo:(v=v.slice(I,I+T),h.C=I+T,v)))}qn.prototype.cancel=function(){this.J=!0,xn(this)};function Ye(h){h.S=Date.now()+h.I,Hu(h,h.I)}function Hu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=$n(w(h.ba,h),v)}function _s(h){h.B&&(c.clearTimeout(h.B),h.B=null)}qn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ja(this.i,this.A),this.L!=2&&(Vr(),dt(17)),xn(this),this.s=2,ci(this)):Hu(this,this.S-h)};function ci(h){h.j.G==0||h.J||ko(h.j,h)}function xn(h){_s(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ha(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function tl(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||en(T.h,h))){if(!h.K&&en(T.h,h)&&T.G==3){try{var I=T.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Ro(T),Xn(T);else break e;xo(T),dt(18)}}else T.za=B[1],0<T.za-T.T&&37500>B[2]&&T.F&&T.v==0&&!T.C&&(T.C=$n(w(T.Za,T),6e3));if(1>=Ku(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ur(T,11)}else if((h.K||T.g==h)&&Ro(T),!U(v))for(B=T.Da.g.parse(v),v=0;v<B.length;v++){let Fe=B[v];if(T.T=Fe[0],Fe=Fe[1],T.G==2)if(Fe[0]=="c"){T.K=Fe[1],T.ia=Fe[2];const bt=Fe[3];bt!=null&&(T.la=bt,T.j.info("VER="+T.la));const vt=Fe[4];vt!=null&&(T.Aa=vt,T.j.info("SVER="+T.Aa));const kn=Fe[5];kn!=null&&typeof kn=="number"&&0<kn&&(I=1.5*kn,T.L=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const wn=h.g;if(wn){const Ps=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var G=I.h;G.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(nl(G,G.h),G.h=null))}if(I.D){const Do=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(I.ya=Do,Ge(I.I,I.D,Do))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),I=T;var oe=h;if(I.qa=oc(I,I.J?I.ia:null,I.W),oe.K){Gu(I.h,oe);var qe=oe,Pt=I.L;Pt&&(qe.I=Pt),qe.B&&(_s(qe),Ye(qe)),I.g=oe}else As(I);0<T.i.length&&fr(T)}else Fe[0]!="stop"&&Fe[0]!="close"||Ur(T,7);else T.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ur(T,7):Mt(T):Fe[0]!="noop"&&T.l&&T.l.ta(Fe),T.v=0)}}Vr(4)}catch{}}var qu=class{constructor(h,v){this.g=h,this.map=v}};function ws(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ku(h){return h.h?1:h.g?h.g.size:0}function en(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function nl(h,v){h.g?h.g.add(v):h.h=v}function Gu(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ws.prototype.cancel=function(){if(this.i=Qu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Qu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return k(h.i)}function wo(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],T=h.length,I=0;I<T;I++)v.push(h[I]);return v}v=[],T=0;for(I in h)v[T++]=h[I];return v}function To(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const I in h)v[T++]=I;return v}}}function hi(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=To(h),I=wo(h),B=I.length,G=0;G<B;G++)v.call(void 0,I[G],T&&T[G],h)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $d(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var I=h[T].indexOf("="),B=null;if(0<=I){var G=h[T].substring(0,I);B=h[T].substring(I+1)}else G=h[T];v(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Or(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Or){this.h=h.h,Es(this,h.j),this.o=h.o,this.g=h.g,di(this,h.s),this.l=h.l;var v=h.i,T=new cr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),fi(this,T),this.m=h.m}else h&&(v=String(h).match(Ts))?(this.h=!1,Es(this,v[1]||"",!0),this.o=Le(v[2]||""),this.g=Le(v[3]||"",!0),di(this,v[4]),this.l=Le(v[5]||"",!0),fi(this,v[6]||"",!0),this.m=Le(v[7]||"")):(this.h=!1,this.i=new cr(null,this.h))}Or.prototype.toString=function(){var h=[],v=this.j;v&&h.push(mi(v,Eo,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(mi(v,Eo,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(mi(T,T.charAt(0)=="/"?Ju:Xu,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",mi(T,rl)),h.join("")};function vn(h){return new Or(h)}function Es(h,v,T){h.j=T?Le(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function di(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function fi(h,v,T){v instanceof cr?(h.i=v,hr(h.i,h.h)):(T||(v=mi(v,Zu)),h.i=new cr(v,h.h))}function Ge(h,v,T){h.i.set(v,T)}function pi(h){return Ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Le(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function mi(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Yu),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Yu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Eo=/[#\/\?@]/g,Xu=/[#\?:]/g,Ju=/[#\?]/g,Zu=/[#\?@]/g,rl=/#/g;function cr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Lt(h){h.g||(h.g=new Map,h.h=0,h.i&&$d(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=cr.prototype,n.add=function(h,v){Lt(this),this.i=null,h=Rn(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Kn(h,v){Lt(h),v=Rn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Gn(h,v){return Lt(h),v=Rn(h,v),h.g.has(v)}n.forEach=function(h,v){Lt(this),this.g.forEach(function(T,I){T.forEach(function(B){h.call(v,B,I,this)},this)},this)},n.na=function(){Lt(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let I=0;I<v.length;I++){const B=h[I];for(let G=0;G<B.length;G++)T.push(v[I])}return T},n.V=function(h){Lt(this);let v=[];if(typeof h=="string")Gn(this,h)&&(v=v.concat(this.g.get(Rn(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},n.set=function(h,v){return Lt(this),this.i=null,h=Rn(this,h),Gn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function gi(h,v,T){Kn(h,v),0<T.length&&(h.i=null,h.g.set(Rn(h,v),k(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var I=v[T];const G=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var B=G;oe[I]!==""&&(B+="="+encodeURIComponent(String(oe[I]))),h.push(B)}}return this.i=h.join("&")};function Rn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function hr(h,v){v&&!h.j&&(Lt(h),h.i=null,h.g.forEach(function(T,I){var B=I.toLowerCase();I!=B&&(Kn(this,I),gi(this,B,T))},h)),h.j=v}function Wd(h,v){const T=new gs;if(c.Image){const I=new Image;I.onload=S(an,T,"TestLoadImage: loaded",!0,v,I),I.onerror=S(an,T,"TestLoadImage: error",!1,v,I),I.onabort=S(an,T,"TestLoadImage: abort",!1,v,I),I.ontimeout=S(an,T,"TestLoadImage: timeout",!1,v,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else v(!1)}function ec(h,v){const T=new gs,I=new AbortController,B=setTimeout(()=>{I.abort(),an(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:I.signal}).then(G=>{clearTimeout(B),G.ok?an(T,"TestPingServer: ok",!0,v):an(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),an(T,"TestPingServer: error",!1,v)})}function an(h,v,T,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(T)}catch{}}function Hd(){this.g=new Ga}function tc(h,v,T){const I=T||"";try{hi(h,function(B,G){let oe=B;p(B)&&(oe=qa(B)),v.push(I+G+"="+encodeURIComponent(oe))})}catch(B){throw v.push(I+"type="+encodeURIComponent("_badmap")),B}}function Lr(h){this.l=h.Ub||null,this.j=h.eb||!1}A(Lr,ps),Lr.prototype.g=function(){return new Ss(this.l,this.j)},Lr.prototype.i=(function(h){return function(){return h}})({});function Ss(h,v){It.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ss,It),n=Ss.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Yn(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function nc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Qn(this):Yn(this),this.readyState==3&&nc(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Qn(this))},n.Qa=function(h){this.g&&(this.response=h,Qn(this))},n.ga=function(){this.g&&Qn(this)};function Qn(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Yn(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function Yn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Mr(h){let v="";return re(h,function(T,I){v+=I,v+=":",v+=T,v+=`\r
`}),v}function yi(h,v,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=Mr(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Ge(h,v,T))}function rt(h){It.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(rt,It);var qd=/^https?$/i,il=["POST","PUT"];n=rt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?ho(this.o):ho(Hn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(G){Is(this,G);return}if(h=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)T.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const G of I.keys())T.set(G,I.get(G));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(G=>G.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(il,v,void 0))||I||B||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of T)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Io(this),this.u=!0,this.g.send(h),this.u=!1}catch(G){Is(this,G)}};function Is(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,So(h),_n(h)}function So(h){h.A||(h.A=!0,At(h,"complete"),At(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,At(this,"complete"),At(this,"abort"),_n(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_n(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sl(this):this.bb())},n.bb=function(){sl(this)};function sl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||ln(h)!=4||h.Z()!=2)){if(h.u&&ln(h)==4)$a(h.Ea,0,h);else if(At(h,"readystatechange"),ln(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var I;if(I=oe===0){var B=String(h.D).match(Ts)[1]||null;!B&&c.self&&c.self.location&&(B=c.self.location.protocol.slice(0,-1)),I=!qd.test(B?B.toLowerCase():"")}T=I}if(T)At(h,"complete"),At(h,"success");else{h.m=6;try{var G=2<ln(h)?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.Z()+"]",So(h)}}finally{_n(h)}}}}function _n(h,v){if(h.g){Io(h);const T=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||At(h,"ready");try{T.onreadystatechange=I}catch{}}}function Io(h){h.I&&(c.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function ln(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ka(v)}};function ol(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ao(h){const v={};h=(h.g&&2<=ln(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(U(h[I]))continue;var T=M(h[I]);const B=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const G=v[B]||[];v[B]=G,G.push(T)}D(v,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function al(h){this.Aa=0,this.i=[],this.j=new gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dr("baseRetryDelayMs",5e3,h),this.cb=dr("retryDelaySeedMs",1e4,h),this.Wa=dr("forwardChannelMaxRetries",2,h),this.wa=dr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(h&&h.concurrentRequestLimit),this.Da=new Hd,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=al.prototype,n.la=8,n.G=1,n.connect=function(h,v,T,I){dt(0),this.W=h,this.H=v||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.I=oc(this,null,this.W),fr(this)};function Mt(h){if(Po(h),h.G==3){var v=h.U++,T=vn(h.I);if(Ge(T,"SID",h.K),Ge(T,"RID",v),Ge(T,"TYPE","terminate"),Fr(h,T),v=new qn(h,h.j,v),v.L=2,v.v=pi(vn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.v,T=!0),T||(v.g=ac(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ye(v)}sc(h)}function Xn(h){h.g&&(ll(h),h.g.cancel(),h.g=null)}function Po(h){Xn(h),h.u&&(c.clearTimeout(h.u),h.u=null),Ro(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function fr(h){if(!yn(h.h)&&!h.s){h.s=!0;var v=h.Ga;ve||ae(),ie||(ve(),ie=!0),fe.add(v,h),h.B=0}}function Kd(h,v){return Ku(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=$n(w(h.Ga,h,v),ic(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const B=new qn(this,this.j,h);let G=this.o;if(this.S&&(G?(G=P(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=vi(this,B,v),T=vn(this.I),Ge(T,"RID",h),Ge(T,"CVER",22),this.D&&Ge(T,"X-HTTP-Session-Id",this.D),Fr(this,T),G&&(this.O?v="headers="+encodeURIComponent(String(Mr(G)))+"&"+v:this.m&&yi(T,this.m,G)),nl(this.h,B),this.Ua&&Ge(T,"TYPE","init"),this.P?(Ge(T,"$req",v),Ge(T,"SID","null"),B.T=!0,_o(B,T,null)):_o(B,T,v),this.G=2}}else this.G==3&&(h?Co(this,h):this.i.length==0||yn(this.h)||Co(this))};function Co(h,v){var T;v?T=v.l:T=h.U++;const I=vn(h.I);Ge(I,"SID",h.K),Ge(I,"RID",T),Ge(I,"AID",h.T),Fr(h,I),h.m&&h.o&&yi(I,h.m,h.o),T=new qn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=vi(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),nl(h.h,T),_o(T,I,v)}function Fr(h,v){h.H&&re(h.H,function(T,I){Ge(v,I,T)}),h.l&&hi({},function(T,I){Ge(v,I,T)})}function vi(h,v,T){T=Math.min(h.i.length,T);var I=h.l?w(h.l.Na,h.l,h):null;e:{var B=h.i;let G=-1;for(;;){const oe=["count="+T];G==-1?0<T?(G=B[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let qe=!0;for(let Pt=0;Pt<T;Pt++){let Fe=B[Pt].g;const bt=B[Pt].map;if(Fe-=G,0>Fe)G=Math.max(0,B[Pt].g-100),qe=!1;else try{tc(bt,oe,"req"+Fe+"_")}catch{I&&I(bt)}}if(qe){I=oe.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,I}function As(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ve||ae(),ie||(ve(),ie=!0),fe.add(v,h),h.v=0}}function xo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=$n(w(h.Fa,h),ic(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=$n(w(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Xn(this),rc(this))};function ll(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function rc(h){h.g=new qn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=vn(h.qa);Ge(v,"RID","rpc"),Ge(v,"SID",h.K),Ge(v,"AID",h.T),Ge(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ge(v,"TO",h.ja),Ge(v,"TYPE","xmlhttp"),Fr(h,v),h.m&&h.o&&yi(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=pi(vn(v)),T.m=null,T.P=!0,el(T,h)}n.Za=function(){this.C!=null&&(this.C=null,Xn(this),xo(this),dt(19))};function Ro(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ko(h,v){var T=null;if(h.g==v){Ro(h),ll(h),h.g=null;var I=2}else if(en(h.h,v))T=v.D,Gu(h.h,v),I=1;else return;if(h.G!=0){if(v.o)if(I==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var B=h.B;I=ms(),At(I,new mo(I,T)),fr(h)}else As(h);else if(B=v.s,B==3||B==0&&0<v.X||!(I==1&&Kd(h,v)||I==2&&xo(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),B){case 1:Ur(h,5);break;case 4:Ur(h,10);break;case 3:Ur(h,6);break;default:Ur(h,2)}}}function ic(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Ur(h,v){if(h.j.info("Error code "+v),v==2){var T=w(h.fb,h),I=h.Xa;const B=!I;I=new Or(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Es(I,"https"),pi(I),B?Wd(I.toString(),T):ec(I.toString(),T)}else dt(2);h.G=0,h.l&&h.l.sa(v),sc(h),Po(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function sc(h){if(h.G=0,h.ka=[],h.l){const v=Qu(h.h);(v.length!=0||h.i.length!=0)&&(C(h.ka,v),C(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function oc(h,v,T){var I=T instanceof Or?vn(T):new Or(T);if(I.g!="")v&&(I.g=v+"."+I.g),di(I,I.s);else{var B=c.location;I=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;var G=new Or(null);I&&Es(G,I),v&&(G.g=v),B&&di(G,B),T&&(G.l=T),I=G}return T=h.D,v=h.ya,T&&v&&Ge(I,T,v),Ge(I,"VER",h.la),Fr(h,I),I}function ac(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new rt(new Lr({eb:T})):new rt(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ul(){}n=ul.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bo(){}bo.prototype.g=function(h,v){return new tn(h,v)};function tn(h,v){It.call(this),this.g=new al(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!U(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!U(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new pr(this)}A(tn,It),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Mt(this.g)},tn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=qa(h),h=T);v.i.push(new qu(v.Ya++,h)),v.G==3&&fr(v)},tn.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,tn.aa.N.call(this)};function lc(h){lr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}A(lc,lr);function uc(){po.call(this),this.status=1}A(uc,po);function pr(h){this.g=h}A(pr,ul),pr.prototype.ua=function(){At(this.g,"a")},pr.prototype.ta=function(h){At(this.g,new lc(h))},pr.prototype.sa=function(h){At(this.g,new uc)},pr.prototype.ra=function(){At(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,mI=function(){return new bo},pI=function(){return ms()},fI=ur,xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yo.NO_ERROR=0,yo.TIMEOUT=8,yo.HTTP_ERROR=6,Eh=yo,zu.COMPLETE="complete",dI=zu,fo.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",It.prototype.listen=It.prototype.K,zl=fo,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,hI=rt}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const tT="@firebase/firestore",nT="4.8.0";class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");let Va="11.10.0";const Js=new Bg("@firebase/firestore");function na(){return Js.logLevel}function ce(n,...e){if(Js.logLevel<=Ve.DEBUG){const t=e.map(Zg);Js.debug(`Firestore (${Va}): ${n}`,...t)}}function ni(n,...e){if(Js.logLevel<=Ve.ERROR){const t=e.map(Zg);Js.error(`Firestore (${Va}): ${n}`,...t)}}function Xi(n,...e){if(Js.logLevel<=Ve.WARN){const t=e.map(Zg);Js.warn(`Firestore (${Va}): ${n}`,...t)}}function Zg(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,gI(n,r,t)}function gI(n,e,t){let r=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ni(r),new Error(r)}function He(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||gI(e,s,r)}function xe(n,e){return n}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class yI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yt.UNAUTHENTICATED)))}shutdown(){}}class IL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class AL{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ki,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},c=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ki)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new yI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class PL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new PL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function RL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function vI(){return new TextEncoder}class ey{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=RL(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function Rm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return ke(r,s);{const a=vI(),l=kL(a.encode(iT(n,t)),a.encode(iT(e,t)));return l!==0?l:ke(r,s)}}t+=r>65535?2:1}return ke(n.length,e.length)}function iT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function kL(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function Ea(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const sT="__name__";class _r{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=_r.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return ke(e.length,t.length)}static compareSegments(e,t){const r=_r.isNumericId(e),s=_r.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?_r.extractNumericId(e).compare(_r.extractNumericId(t)):Rm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class Je extends _r{construct(e,t,r){return new Je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Je(t)}static emptyPath(){return new Je([])}}const bL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends _r{construct(e,t,r){return new zt(e,t,r)}static isValidIdentifier(e){return bL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sT}static keyField(){return new zt([sT])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}function _I(n,e,t){if(!t)throw new le(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DL(n,e,t,r){if(e===!0&&r===!0)throw new le(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oT(n){if(!ye.isDocumentKey(n))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aT(n){if(ye.isDocumentKey(n))throw new le(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _d(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Bn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_d(n);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Et(n,e){const t={typeString:n};return e&&(t.value=e),t}function Vu(n,e){if(!wI(n))throw new le(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new le(X.INVALID_ARGUMENT,t);return!0}const lT=-62135596800,uT=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*uT);return new tt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<lT)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Et("string",tt._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new tt(0,0))}static max(){return new Ce(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fu=-1;function NL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new tt(t+1,0):new tt(t,r));return new Ji(s,ye.empty(),e)}function VL(n){return new Ji(n.readTime,n.key,fu)}class Ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ji(Ce.min(),ye.empty(),fu)}static max(){return new Ji(Ce.max(),ye.empty(),fu)}}function OL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}const LL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ML{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oa(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==LL)throw n;ce("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,r)=>{t(e)}))}static reject(e){return new J(((t,r)=>{r(e)}))}static waitFor(e){return new J(((t,r)=>{let s=0,a=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++a,l&&a===s&&t()}),(d=>r(d)))})),l=!0,a===s&&t()}))}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next((s=>s?J.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new J(((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next((g=>{l[p]=g,++c,c===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new J(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function FL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function La(n){return n.name==="IndexedDbTransactionError"}class wd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}wd.ue=-1;const ty=-1;function Td(n){return n==null}function qh(n){return n===0&&1/n==-1/0}function UL(n){return typeof n=="number"&&Number.isInteger(n)&&!qh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const TI="";function jL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cT(e)),e=BL(n.get(t),e);return cT(e)}function BL(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case TI:t+="";break;default:t+=a}}return t}function cT(n){return n+TI+""}function hT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function us(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class lt{constructor(e,t){this.comparator=e,this.root=t||Bt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Bt.RED,this.left=s??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Bt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dT(this.data.getIterator())}getIteratorFrom(e){return new dT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class dT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new In([])}unionWith(e){let t=new Rt(zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class SI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new SI("Invalid base64 string: "+a):a}})(e);return new $t(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const zL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(n){if(He(!!n,39018),typeof n=="string"){let e=0;const t=zL.exec(n);if(He(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function es(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}const II="server_timestamp",AI="__type__",PI="__previous_value__",CI="__local_write_time__";function ny(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AI])===null||t===void 0?void 0:t.stringValue)===II}function Ed(n){const e=n.mapValue.fields[PI];return ny(e)?Ed(e):e}function pu(n){const e=Zi(n.mapValue.fields[CI].timestampValue);return new tt(e.seconds,e.nanos)}class $L{constructor(e,t,r,s,a,l,c,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g}}const Kh="(default)";class mu{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}const xI="__type__",WL="__max__",ch={mapValue:{}},RI="__vector__",Gh="value";function ts(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ny(n)?4:qL(n)?9007199254740991:HL(n)?10:11:Ie(28295,{value:n})}function Rr(n,e){if(n===e)return!0;const t=ts(n);if(t!==ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pu(n).isEqual(pu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Zi(s.timestampValue),c=Zi(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return es(s.bytesValue).isEqual(es(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return mt(s.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return mt(s.integerValue)===mt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=mt(s.doubleValue),c=mt(a.doubleValue);return l===c?qh(l)===qh(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return Ea(n.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(hT(l)!==hT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Rr(l[d],c[d])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function gu(n,e){return(n.values||[]).find((t=>Rr(t,e)))!==void 0}function Sa(n,e){if(n===e)return 0;const t=ts(n),r=ts(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=mt(a.integerValue||a.doubleValue),d=mt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(n,e);case 3:return fT(n.timestampValue,e.timestampValue);case 4:return fT(pu(n),pu(e));case 5:return Rm(n.stringValue,e.stringValue);case 6:return(function(a,l){const c=es(a),d=es(l);return c.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const g=ke(c[p],d[p]);if(g!==0)return g}return ke(c.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=ke(mt(a.latitude),mt(l.latitude));return c!==0?c:ke(mt(a.longitude),mt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return pT(n.arrayValue,e.arrayValue);case 10:return(function(a,l){var c,d,p,g;const y=a.fields||{},w=l.fields||{},S=(c=y[Gh])===null||c===void 0?void 0:c.arrayValue,A=(d=w[Gh])===null||d===void 0?void 0:d.arrayValue,k=ke(((p=S?.values)===null||p===void 0?void 0:p.length)||0,((g=A?.values)===null||g===void 0?void 0:g.length)||0);return k!==0?k:pT(S,A)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===ch.mapValue&&l===ch.mapValue)return 0;if(a===ch.mapValue)return 1;if(l===ch.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const w=Rm(d[y],g[y]);if(w!==0)return w;const S=Sa(c[d[y]],p[g[y]]);if(S!==0)return S}return ke(d.length,g.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{le:t})}}function fT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Zi(n),r=Zi(e),s=ke(t.seconds,r.seconds);return s!==0?s:ke(t.nanos,r.nanos)}function pT(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Sa(t[s],r[s]);if(a)return a}return ke(t.length,r.length)}function Ia(n){return km(n)}function km(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Zi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return es(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=km(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${km(t.fields[l])}`;return s+"}"})(n.mapValue):Ie(61005,{value:n})}function Sh(n){switch(ts(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ed(n);return e?16+Sh(e):16;case 5:return 2*n.stringValue.length;case 6:return es(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Sh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return us(r.fields,((a,l)=>{s+=a.length+Sh(l)})),s})(n.mapValue);default:throw Ie(13486,{value:n})}}function mT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bm(n){return!!n&&"integerValue"in n}function ry(n){return!!n&&"arrayValue"in n}function gT(n){return!!n&&"nullValue"in n}function yT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ih(n){return!!n&&"mapValue"in n}function HL(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[xI])===null||t===void 0?void 0:t.stringValue)===RI}function Jl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return us(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Jl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WL}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(t)}setAll(e){let t=zt.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=Jl(l):s.push(c.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Ih(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){us(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new gn(Jl(this.value))}}function kI(n){const e=[];return us(n.fields,((t,r)=>{const s=new zt([t]);if(Ih(r)){const a=kI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new In(e)}class Xt{constructor(e,t,r,s,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Xt(e,0,Ce.min(),Ce.min(),Ce.min(),gn.empty(),0)}static newFoundDocument(e,t,r,s){return new Xt(e,1,t,Ce.min(),r,s,0)}static newNoDocument(e,t){return new Xt(e,2,t,Ce.min(),Ce.min(),gn.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,Ce.min(),Ce.min(),gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qh{constructor(e,t){this.position=e,this.inclusive=t}}function vT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(l.referenceValue),t.key):r=Sa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function _T(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rr(n.position[t],e.position[t]))return!1;return!0}class yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function KL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class bI{}class Tt extends bI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new QL(e,t,r):t==="array-contains"?new JL(e,r):t==="in"?new ZL(e,r):t==="not-in"?new eM(e,r):t==="array-contains-any"?new tM(e,r):new Tt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new YL(e,r):new XL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Sa(t,this.value)):t!==null&&ts(this.value)===ts(t)&&this.matchesComparison(Sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends bI{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ar(e,t)}matches(e){return DI(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function DI(n){return n.op==="and"}function NI(n){return GL(n)&&DI(n)}function GL(n){for(const e of n.filters)if(e instanceof ar)return!1;return!0}function Dm(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+Ia(n.value);if(NI(n))return n.filters.map((e=>Dm(e))).join(",");{const e=n.filters.map((t=>Dm(t))).join(",");return`${n.op}(${e})`}}function VI(n,e){return n instanceof Tt?(function(r,s){return s instanceof Tt&&r.op===s.op&&r.field.isEqual(s.field)&&Rr(r.value,s.value)})(n,e):n instanceof ar?(function(r,s){return s instanceof ar&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,c)=>a&&VI(l,s.filters[c])),!0):!1})(n,e):void Ie(19439)}function OI(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ia(t.value)}`})(n):n instanceof ar?(function(t){return t.op.toString()+" {"+t.getFilters().map(OI).join(" ,")+"}"})(n):"Filter"}class QL extends Tt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class YL extends Tt{constructor(e,t){super(e,"in",t),this.keys=LI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class XL extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=LI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function LI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>ye.fromName(r.referenceValue)))}class JL extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ry(t)&&gu(t.arrayValue,this.value)}}class ZL extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class eM extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}}class tM extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ry(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>gu(this.value.arrayValue,r)))}}class nM{constructor(e,t=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Pe=null}}function wT(n,e=null,t=[],r=[],s=null,a=null,l=null){return new nM(n,e,t,r,s,a,l)}function iy(n){const e=xe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Dm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ia(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ia(r))).join(",")),e.Pe=t}return e.Pe}function sy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!KL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!VI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_T(n.startAt,e.startAt)&&_T(n.endAt,e.endAt)}function Nm(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Ma{constructor(e,t=null,r=[],s=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function rM(n,e,t,r,s,a,l,c){return new Ma(n,e,t,r,s,a,l,c)}function Sd(n){return new Ma(n)}function TT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function MI(n){return n.collectionGroup!==null}function Zl(n){const e=xe(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Rt(zt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new yu(a,r))})),t.has(zt.keyField().canonicalString())||e.Te.push(new yu(zt.keyField(),r))}return e.Te}function Ar(n){const e=xe(n);return e.Ie||(e.Ie=iM(e,Zl(n))),e.Ie}function iM(n,e){if(n.limitType==="F")return wT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new yu(s.field,a)}));const t=n.endAt?new Qh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Qh(n.startAt.position,n.startAt.inclusive):null;return wT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Vm(n,e){const t=n.filters.concat([e]);return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Om(n,e,t){return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Id(n,e){return sy(Ar(n),Ar(e))&&n.limitType===e.limitType}function FI(n){return`${iy(Ar(n))}|lt:${n.limitType}`}function ra(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>OI(s))).join(", ")}]`),Td(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Ia(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Ia(s))).join(",")),`Target(${r})`})(Ar(n))}; limitType=${n.limitType})`}function Ad(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Zl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,d){const p=vT(l,c,d);return l.inclusive?p<=0:p<0})(r.startAt,Zl(r),s)||r.endAt&&!(function(l,c,d){const p=vT(l,c,d);return l.inclusive?p>=0:p>0})(r.endAt,Zl(r),s))})(n,e)}function sM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UI(n){return(e,t)=>{let r=!1;for(const s of Zl(n)){const a=oM(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function oM(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(a,l,c){const d=l.data.field(a),p=c.data.field(a);return d!==null&&p!==null?Sa(d,p):Ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return EI(this.inner)}size(){return this.innerSize}}const aM=new lt(ye.comparator);function ri(){return aM}const jI=new lt(ye.comparator);function $l(...n){let e=jI;for(const t of n)e=e.insert(t.key,t);return e}function BI(n){let e=jI;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ws(){return eu()}function zI(){return eu()}function eu(){return new no((n=>n.toString()),((n,e)=>n.isEqual(e)))}const lM=new lt(ye.comparator),uM=new Rt(ye.comparator);function Oe(...n){let e=uM;for(const t of n)e=e.add(t);return e}const cM=new Rt(ke);function hM(){return cM}function oy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function $I(n){return{integerValue:""+n}}function dM(n,e){return UL(e)?$I(e):oy(n,e)}class Pd{constructor(){this._=void 0}}function fM(n,e,t){return n instanceof vu?(function(s,a){const l={fields:{[AI]:{stringValue:II},[CI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ny(a)&&(a=Ed(a)),a&&(l.fields[PI]=a),{mapValue:l}})(t,e):n instanceof _u?HI(n,e):n instanceof wu?qI(n,e):(function(s,a){const l=WI(s,a),c=ET(l)+ET(s.Ee);return bm(l)&&bm(s.Ee)?$I(c):oy(s.serializer,c)})(n,e)}function pM(n,e,t){return n instanceof _u?HI(n,e):n instanceof wu?qI(n,e):t}function WI(n,e){return n instanceof Yh?(function(r){return bm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class vu extends Pd{}class _u extends Pd{constructor(e){super(),this.elements=e}}function HI(n,e){const t=KI(e);for(const r of n.elements)t.some((s=>Rr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class wu extends Pd{constructor(e){super(),this.elements=e}}function qI(n,e){let t=KI(e);for(const r of n.elements)t=t.filter((s=>!Rr(s,r)));return{arrayValue:{values:t}}}class Yh extends Pd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function ET(n){return mt(n.integerValue||n.doubleValue)}function KI(n){return ry(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mM{constructor(e,t){this.field=e,this.transform=t}}function gM(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof _u&&s instanceof _u||r instanceof wu&&s instanceof wu?Ea(r.elements,s.elements,Rr):r instanceof Yh&&s instanceof Yh?Rr(r.Ee,s.Ee):r instanceof vu&&s instanceof vu})(n.transform,e.transform)}class yM{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Cd{}function GI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ay(n.key,zn.none()):new Ou(n.key,n.data,zn.none());{const t=n.data,r=gn.empty();let s=new Rt(zt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new cs(n.key,r,new In(s.toArray()),zn.none())}}function vM(n,e,t){n instanceof Ou?(function(s,a,l){const c=s.value.clone(),d=IT(s.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof cs?(function(s,a,l){if(!Ah(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=IT(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(QI(s)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function tu(n,e,t,r){return n instanceof Ou?(function(a,l,c,d){if(!Ah(a.precondition,l))return c;const p=a.value.clone(),g=AT(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof cs?(function(a,l,c,d){if(!Ah(a.precondition,l))return c;const p=AT(a.fieldTransforms,d,l),g=l.data;return g.setAll(QI(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(a,l,c){return Ah(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function _M(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=WI(r.transform,s||null);a!=null&&(t===null&&(t=gn.empty()),t.set(r.field,a))}return t||null}function ST(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ea(r,s,((a,l)=>gM(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ou extends Cd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class cs extends Cd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function QI(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function IT(n,e,t){const r=new Map;He(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,pM(l,c,t[s]))}return r}function AT(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,fM(a,l,e))}return r}class ay extends Cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wM extends Cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TM{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&vM(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=zI();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(s.key)?null:c;const d=GI(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,((t,r)=>ST(t,r)))&&Ea(this.baseMutations,e.baseMutations,((t,r)=>ST(t,r)))}}class ly{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){He(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=(function(){return lM})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new ly(e,t,r,s)}}class EM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SM{constructor(e,t){this.count=e,this.unchangedNames=t}}var wt,Ue;function IM(n){switch(n){case X.OK:return Ie(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function YI(n){if(n===void 0)return ni("GRPC error has no .code"),X.UNKNOWN;switch(n){case wt.OK:return X.OK;case wt.CANCELLED:return X.CANCELLED;case wt.UNKNOWN:return X.UNKNOWN;case wt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case wt.INTERNAL:return X.INTERNAL;case wt.UNAVAILABLE:return X.UNAVAILABLE;case wt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case wt.NOT_FOUND:return X.NOT_FOUND;case wt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case wt.ABORTED:return X.ABORTED;case wt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case wt.DATA_LOSS:return X.DATA_LOSS;default:return Ie(39323,{code:n})}}(Ue=wt||(wt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";const AM=new qi([4294967295,4294967295],0);function PT(n){const e=vI().encode(n),t=new cI;return t.update(e),new Uint8Array(t.digest())}function CT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qi([t,r],0),new qi([s,a],0)]}class uy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wl(`Invalid padding: ${t}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=qi.fromNumber(this.fe)}pe(e,t,r){let s=e.add(t.multiply(qi.fromNumber(r)));return s.compare(AM)===1&&(s=new qi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=PT(e),[r,s]=CT(t);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,s,a);if(!this.ye(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new uy(a,s,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.fe===0)return;const t=PT(e),[r,s]=CT(t);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,s,a);this.we(l)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xd(Ce.min(),s,new lt(ke),ri(),Oe())}}class Lu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Lu(r,t,Oe(),Oe(),Oe())}}class Ph{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=s}}class XI{constructor(e,t){this.targetId=e,this.De=t}}class JI{constructor(e,t,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class xT{constructor(){this.ve=0,this.Ce=RT(),this.Fe=$t.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Oe(),t=Oe(),r=Oe();return this.Ce.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ie(38017,{changeType:a})}})),new Lu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=RT()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class PM{constructor(e){this.We=e,this.Ge=new Map,this.ze=ri(),this.je=hh(),this.Je=hh(),this.He=new lt(ke)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((r,s)=>{this.nt(s)&&t(s)}))}it(e){const t=e.targetId,r=e.De.count,s=this.st(t);if(s){const a=s.target;if(Nm(a))if(r===0){const l=new ye(a.path);this.Xe(t,l,Xt.newNoDocument(l,Ce.min()))}else He(r===1,20013,{expectedCount:r});else{const l=this.ot(t);if(l!==r){const c=this._t(e),d=c?this.ut(c,e,l):1;if(d!==0){this.rt(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,c;try{l=es(r).toUint8Array()}catch(d){if(d instanceof SI)return Xi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new uy(l,s,a)}catch(d){return Xi(d instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,a,null),s++)})),s}Pt(e){const t=new Map;this.Ge.forEach(((a,l)=>{const c=this.st(l);if(c){if(a.current&&Nm(c.target)){const d=new ye(c.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,Xt.newNoDocument(d,e))}a.Ne&&(t.set(l,a.Le()),a.ke())}}));let r=Oe();this.Je.forEach(((a,l)=>{let c=!0;l.forEachWhile((d=>{const p=this.st(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.ze.forEach(((a,l)=>l.setReadTime(e)));const s=new xd(e,t,this.He,this.ze,r);return this.ze=ri(),this.je=hh(),this.Je=hh(),this.He=new lt(ke),s}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new xT,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Rt(ke),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Rt(ke),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new xT),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function hh(){return new lt(ye.comparator)}function RT(){return new lt(ye.comparator)}const CM={asc:"ASCENDING",desc:"DESCENDING"},xM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RM={and:"AND",or:"OR"};class kM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lm(n,e){return n.useProto3Json||Td(e)?e:{value:e}}function Xh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bM(n,e){return Xh(n,e.toTimestamp())}function Pr(n){return He(!!n,49232),Ce.fromTimestamp((function(t){const r=Zi(t);return new tt(r.seconds,r.nanos)})(n))}function cy(n,e){return Mm(n,e).canonicalString()}function Mm(n,e){const t=(function(s){return new Je(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function eA(n){const e=Je.fromString(n);return He(sA(e),10190,{key:e.toString()}),e}function Fm(n,e){return cy(n.databaseId,e.path)}function Wp(n,e){const t=eA(e);if(t.get(1)!==n.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(nA(t))}function tA(n,e){return cy(n.databaseId,e)}function DM(n){const e=eA(n);return e.length===4?Je.emptyPath():nA(e)}function Um(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nA(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kT(n,e,t){return{name:Fm(n,e),fields:t.value.mapValue.fields}}function NM(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(He(g===void 0||typeof g=="string",58123),$t.fromBase64String(g||"")):(He(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$t.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const g=p.code===void 0?X.UNKNOWN:YI(p.code);return new le(g,p.message||"")})(l);t=new JI(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wp(n,r.document.name),a=Pr(r.document.updateTime),l=r.document.createTime?Pr(r.document.createTime):Ce.min(),c=new gn({mapValue:{fields:r.document.fields}}),d=Xt.newFoundDocument(s,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Ph(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wp(n,r.document),a=r.readTime?Pr(r.readTime):Ce.min(),l=Xt.newNoDocument(s,a),c=r.removedTargetIds||[];t=new Ph([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wp(n,r.document),a=r.removedTargetIds||[];t=new Ph([],a,s,null)}else{if(!("filter"in e))return Ie(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new SM(s,a),c=r.targetId;t=new XI(c,l)}}return t}function VM(n,e){let t;if(e instanceof Ou)t={update:kT(n,e.key,e.value)};else if(e instanceof ay)t={delete:Fm(n,e.key)};else if(e instanceof cs)t={update:kT(n,e.key,e.data),updateMask:$M(e.fieldMask)};else{if(!(e instanceof wM))return Ie(16599,{Rt:e.type});t={verify:Fm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof vu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _u)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Yh)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw Ie(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:bM(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie(27497)})(n,e.precondition)),t}function OM(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map((t=>(function(s,a){let l=s.updateTime?Pr(s.updateTime):Pr(a);return l.isEqual(Ce.min())&&(l=Pr(a)),new yM(l,s.transformResults||[])})(t,e)))):[]}function LM(n,e){return{documents:[tA(n,e.path)]}}function MM(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tA(n,s);const a=(function(p){if(p.length!==0)return iA(ar.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:ia(w.field),direction:jM(w.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Lm(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{Vt:t,parent:s}}function FM(n){let e=DM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){He(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(y){const w=rA(y);return w instanceof ar&&NI(w)?w.getFilters():[w]})(t.where));let l=[];t.orderBy&&(l=(function(y){return y.map((w=>(function(A){return new yu(sa(A.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(w)))})(t.orderBy));let c=null;t.limit&&(c=(function(y){let w;return w=typeof y=="object"?y.value:y,Td(w)?null:w})(t.limit));let d=null;t.startAt&&(d=(function(y){const w=!!y.before,S=y.values||[];return new Qh(S,w)})(t.startAt));let p=null;return t.endAt&&(p=(function(y){const w=!y.before,S=y.values||[];return new Qh(S,w)})(t.endAt)),rM(e,s,l,a,c,"F",d,p)}function UM(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=sa(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=sa(t.unaryFilter.field);return Tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sa(t.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=sa(t.unaryFilter.field);return Tt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(sa(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ar.create(t.compositeFilter.filters.map((r=>rA(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(n):Ie(30097,{filter:n})}function jM(n){return CM[n]}function BM(n){return xM[n]}function zM(n){return RM[n]}function ia(n){return{fieldPath:n.canonicalString()}}function sa(n){return zt.fromServerFormat(n.fieldPath)}function iA(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(yT(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NAN"}};if(gT(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yT(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NOT_NAN"}};if(gT(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(t.field),op:BM(t.op),value:t.value}}})(n):n instanceof ar?(function(t){const r=t.getFilters().map((s=>iA(s)));return r.length===1?r[0]:{compositeFilter:{op:zM(t.op),filters:r}}})(n):Ie(54877,{filter:n})}function $M(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function sA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class ji{constructor(e,t,r,s,a=Ce.min(),l=Ce.min(),c=$t.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WM{constructor(e){this.gt=e}}function HM(n){const e=FM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Om(e,e.limit,"L"):e}class qM{constructor(){this.Dn=new KM}addToCollectionParentIndex(e,t){return this.Dn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Ji.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class KM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Rt(Je.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Rt(Je.comparator)).toArray()}}const bT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oA=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(oA,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Aa{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Aa(0)}static ur(){return new Aa(-1)}}const DT="LruGarbageCollector",GM=1048576;function NT([n,e],[t,r]){const s=ke(n,t);return s===0?ke(e,r):s}class QM{constructor(e){this.Tr=e,this.buffer=new Rt(NT),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();NT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ce(DT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){La(t)?ce(DT,"Ignoring IndexedDB error during garbage collection: ",t):await Oa(t)}await this.Rr(3e5)}))}}class XM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(wd.ue);const r=new QM(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.gr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(bT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bT):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,s,a,l,c,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,t)))).next((y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),na()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y}))))}}function JM(n,e){return new XM(n,e)}class ZM{constructor(){this.changes=new no((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tF{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&tu(r.mutation,s,In.empty(),tt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Oe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Oe()){const s=Ws();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let l=$l();return a.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Ws();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Oe())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,s){let a=ri();const l=eu(),c=(function(){return eu()})();return t.forEach(((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof cs)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),tu(g.mutation,p,g.mutation.getFieldMask(),tt.now())):l.set(p.key,In.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((p,g)=>l.set(p,g))),t.forEach(((p,g)=>{var y;return c.set(p,new eF(g,(y=l.get(p))!==null&&y!==void 0?y:null))})),c)))}recalculateAndSaveOverlays(e,t){const r=eu();let s=new lt(((l,c)=>l-c)),a=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((d=>{const p=t.get(d);if(p===null)return;let g=r.get(d)||In.empty();g=c.applyToLocalView(p,g),r.set(d,g);const y=(s.get(c.batchId)||Oe()).add(d);s=s.insert(c.batchId,y)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,g=d.value,y=zI();g.forEach((w=>{if(!a.has(w)){const S=GI(t.get(w),r.get(w));S!==null&&y.set(w,S),a=a.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return J.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):MI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):J.resolve(Ws());let c=fu,d=a;return l.next((p=>J.forEach(p,((g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{d=d.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,d,p,Oe()))).next((g=>({batchId:c,changes:BI(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((r=>{let s=$l();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=$l();return this.indexManager.getCollectionParents(e,a).next((c=>J.forEach(c,(d=>{const p=(function(y,w){return new Ma(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((y,w)=>{l=l.insert(y,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((l=>{a.forEach(((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Xt.newInvalidDocument(g)))}));let c=$l();return l.forEach(((d,p)=>{const g=a.get(d);g!==void 0&&tu(g.mutation,p,In.empty(),tt.now()),Ad(t,p)&&(c=c.insert(d,p))})),c}))}}class nF{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return J.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Pr(s.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(s){return{name:s.name,query:HM(s.bundledQuery),readTime:Pr(s.readTime)}})(t)),J.resolve()}}class rF{constructor(){this.overlays=new lt(ye.comparator),this.kr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ws();return J.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.wt(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const s=Ws(),a=t.length+1,l=new ye(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return J.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new lt(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Ws(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Ws(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>c.set(p,g))),!(c.size()>=s)););return J.resolve(c)}wt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new EM(t,r));let a=this.kr.get(t);a===void 0&&(a=Oe(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}class iF{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}class hy{constructor(){this.qr=new Rt(Ot.Qr),this.$r=new Rt(Ot.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Ot(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Ot(e,t))}Gr(e,t){e.forEach((r=>this.removeReference(r,t)))}zr(e){const t=new ye(new Je([])),r=new Ot(t,e),s=new Ot(t,e+1),a=[];return this.$r.forEachInRange([r,s],(l=>{this.Wr(l),a.push(l.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ye(new Je([])),r=new Ot(t,e),s=new Ot(t,e+1);let a=Oe();return this.$r.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new Ot(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ye.comparator(e.key,t.key)||ke(e.Hr,t.Hr)}static Ur(e,t){return ke(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}class sF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Rt(Ot.Qr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new TM(a,t,r,s);this.mutationQueue.push(l);for(const c of s)this.Yr=this.Yr.add(new Ot(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,t){return J.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ty:this.er-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ot(t,0),s=new Ot(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,s],(l=>{const c=this.Zr(l.Hr);a.push(c)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(ke);return t.forEach((s=>{const a=new Ot(s,0),l=new Ot(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],(c=>{r=r.add(c.Hr)}))})),J.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const l=new Ot(new ye(a),0);let c=new Rt(ke);return this.Yr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(d.Hr)),!0)}),l),J.resolve(this.ei(c))}ei(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){He(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return J.forEach(t.mutations,(s=>{const a=new Ot(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,t){const r=new Ot(t,0),s=this.Yr.firstAfterOrEqual(r);return J.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class oF{constructor(e){this.ni=e,this.docs=(function(){return new lt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let r=ri();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Xt.newInvalidDocument(s))})),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ri();const l=t.path,c=new ye(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||OL(VL(g),r)<=0||(s.has(g.key)||Ad(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ie(9500)}ri(e,t){return J.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new aF(this)}getSize(e){return J.resolve(this.size)}}class aF extends ZM{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)})),J.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class lF{constructor(e){this.persistence=e,this.ii=new no((t=>iy(t)),sy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.si=0,this.oi=new hy,this.targetCount=0,this._i=Aa.ar()}forEachTarget(e,t){return this.ii.forEach(((r,s)=>t(s))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),J.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Aa(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.hr(t),J.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ii.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),J.waitFor(a).next((()=>s))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this.oi.containsKey(t))}}class aA{constructor(e,t){this.ai={},this.overlays={},this.ui=new wd(0),this.ci=!1,this.ci=!0,this.li=new iF,this.referenceDelegate=e(this),this.hi=new lF(this),this.indexManager=new qM,this.remoteDocumentCache=(function(s){return new oF(s)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new WM(t),this.Ti=new nF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new sF(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const s=new uF(this.ui.next());return this.referenceDelegate.Ii(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,t){return J.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,t))))}}class uF extends ML{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.Ai=new hy,this.Ri=null}static Vi(e){return new dy(e)}get mi(){if(this.Ri)return this.Ri;throw Ie(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((s=>this.mi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,(r=>{const s=ye.fromPath(r);return this.fi(e,s).next((a=>{a||t.removeEntry(s,Ce.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return J.or([()=>J.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Jh{constructor(e,t){this.persistence=e,this.gi=new no((r=>jL(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=JM(this,t)}static Vi(e,t){return new Jh(e,t)}Ii(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}yr(e){let t=0;return this.gr(e,(r=>{t++})).next((()=>t))}gr(e,t){return J.forEach(this.gi,((r,s)=>this.Sr(e,r,s).next((a=>a?J.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ri(e,(l=>this.Sr(e,l,t).next((c=>{c||(r++,a.removeEntry(l,Ce.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),J.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sh(e.data.value)),t}Sr(e,t,r){return J.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fy{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=s}static Es(e,t){let r=Oe(),s=Oe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new fy(e,t.fromCache,r,s)}}class cF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hF{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return $2()?8:FL(Zt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ps(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ys(e,t,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new cF;return this.ws(e,t,l).next((c=>{if(a.result=c,this.Rs)return this.Ss(e,t,l,c.size)}))})).next((()=>a.result))}Ss(e,t,r,s){return r.documentReadCount<this.Vs?(na()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ra(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(na()<=Ve.DEBUG&&ce("QueryEngine","Query:",ra(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(na()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ra(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):J.resolve())}ps(e,t){if(TT(t))return J.resolve(null);let r=Ar(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Om(t,null,"F"),r=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Oe(...a);return this.gs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.bs(t,c);return this.Ds(t,p,l,d.readTime)?this.ps(e,Om(t,null,"F")):this.vs(e,p,t,d)}))))})))))}ys(e,t,r,s){return TT(t)||s.isEqual(Ce.min())?J.resolve(null):this.gs.getDocuments(e,r).next((a=>{const l=this.bs(t,a);return this.Ds(t,l,r,s)?J.resolve(null):(na()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ra(t)),this.vs(e,l,t,NL(s,fu)).next((c=>c)))}))}bs(e,t){let r=new Rt(UI(e));return t.forEach(((s,a)=>{Ad(e,a)&&(r=r.add(a))})),r}Ds(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ws(e,t,r){return na()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ra(t)),this.gs.getDocumentsMatchingQuery(e,t,Ji.min(),r)}vs(e,t,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const py="LocalStore",dF=3e8;class fF{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new lt(ke),this.Ms=new no((a=>iy(a)),sy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tF(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function pF(n,e,t,r){return new fF(n,e,t,r)}async function lA(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let d=Oe();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next((p=>({Bs:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function mF(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return(function(c,d,p,g){const y=p.batch,w=y.keys();let S=J.resolve();return w.forEach((A=>{S=S.next((()=>g.getEntry(d,A))).next((k=>{const C=p.docVersions.get(A);He(C!==null,48541),k.version.compareTo(C)<0&&(y.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),g.addEntry(k)))}))})),S.next((()=>c.mutationQueue.removeMutationBatch(d,y)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Oe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function uA(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function gF(n,e){const t=xe(n),r=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const c=[];e.targetChanges.forEach(((g,y)=>{const w=s.get(y);if(!w)return;c.push(t.hi.removeMatchingKeys(a,g.removedDocuments,y).next((()=>t.hi.addMatchingKeys(a,g.addedDocuments,y))));let S=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken($t.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(y,S),(function(k,C,z){return k.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=dF?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(w,S,g)&&c.push(t.hi.updateTargetData(a,S))}));let d=ri(),p=Oe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),c.push(yF(a,l,e.documentUpdates).next((g=>{d=g.Ls,p=g.ks}))),!r.isEqual(Ce.min())){const g=t.hi.getLastRemoteSnapshotVersion(a).next((y=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(g)}return J.waitFor(c).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,d,p))).next((()=>d))})).then((a=>(t.Fs=s,a)))}function yF(n,e,t){let r=Oe(),s=Oe();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=ri();return t.forEach(((c,d)=>{const p=a.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ce(py,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)})),{Ls:l,ks:s}}))}function vF(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ty),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _F(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.hi.getTargetData(r,e).next((a=>a?(s=a,J.resolve(s)):t.hi.allocateTargetId(r).next((l=>(s=new ji(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r}))}async function jm(n,e,t){const r=xe(n),s=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!La(l))throw l;ce(py,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function VT(n,e,t){const r=xe(n);let s=Ce.min(),a=Oe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,g){const y=xe(d),w=y.Ms.get(g);return w!==void 0?J.resolve(y.Fs.get(w)):y.hi.getTargetData(p,g)})(r,l,Ar(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{a=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?s:Ce.min(),t?a:Oe()))).next((c=>(wF(r,sM(e),c),{documents:c,qs:a})))))}function wF(n,e,t){let r=n.xs.get(e)||Ce.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.xs.set(e,r)}class OT{constructor(){this.activeTargetIds=hM()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TF{constructor(){this.Fo=new OT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new OT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class EF{xo(e){}shutdown(){}}const LT="ConnectivityMonitor";class MT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ce(LT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ce(LT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let dh=null;function Bm(){return dh===null?dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():dh++,"0x"+dh.toString(16)}const Hp="RestConnection",SF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IF{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,a){const l=Bm(),c=this.Go(e,t.toUriEncodedString());ce(Hp,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,s,a);const{host:p}=new URL(c),g=ba(p);return this.jo(e,c,d,r,g).then((y=>(ce(Hp,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Xi(Hp,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}Jo(e,t,r,s,a,l){return this.Wo(e,t,r,s,a)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Va})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Go(e,t){const r=SF[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}class AF{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Gt="WebChannelConnection";class PF extends IF{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,s,a){const l=Bm();return new Promise(((c,d)=>{const p=new hI;p.setWithCredentials(!0),p.listenOnce(dI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Eh.NO_ERROR:const y=p.getResponseJson();ce(Gt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Eh.TIMEOUT:ce(Gt,`RPC '${e}' ${l} timed out`),d(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const w=p.getStatus();if(ce(Gt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S?.error;if(A&&A.status&&A.message){const k=(function(z){const U=z.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(U)>=0?U:X.UNKNOWN})(A.status);d(new le(k,A.message))}else d(new le(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new le(X.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{c_:e,streamId:l,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ce(Gt,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);ce(Gt,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",g,r,15)}))}P_(e,t,r){const s=Bm(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=mI(),c=pI(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=a.join("");ce(Gt,`Creating RPC '${e}' stream ${s}: ${g}`,d);const y=l.createWebChannel(g,d);this.T_(y);let w=!1,S=!1;const A=new AF({Ho:C=>{S?ce(Gt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(w||(ce(Gt,`Opening RPC '${e}' stream ${s} transport.`),y.open(),w=!0),ce(Gt,`RPC '${e}' stream ${s} sending:`,C),y.send(C))},Yo:()=>y.close()}),k=(C,z,U)=>{C.listen(z,(W=>{try{U(W)}catch(K){setTimeout((()=>{throw K}),0)}}))};return k(y,zl.EventType.OPEN,(()=>{S||(ce(Gt,`RPC '${e}' stream ${s} transport opened.`),A.s_())})),k(y,zl.EventType.CLOSE,(()=>{S||(S=!0,ce(Gt,`RPC '${e}' stream ${s} transport closed`),A.__(),this.I_(y))})),k(y,zl.EventType.ERROR,(C=>{S||(S=!0,Xi(Gt,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),A.__(new le(X.UNAVAILABLE,"The operation could not be completed")))})),k(y,zl.EventType.MESSAGE,(C=>{var z;if(!S){const U=C.data[0];He(!!U,16349);const W=U,K=W?.error||((z=W[0])===null||z===void 0?void 0:z.error);if(K){ce(Gt,`RPC '${e}' stream ${s} received error:`,K);const Q=K.status;let re=(function(x){const N=wt[x];if(N!==void 0)return YI(N)})(Q),D=K.message;re===void 0&&(re=X.INTERNAL,D="Unknown error status: "+Q+" with message "+K.message),S=!0,A.__(new le(re,D)),y.close()}else ce(Gt,`RPC '${e}' stream ${s} received:`,U),A.a_(U)}})),k(c,fI.STAT_EVENT,(C=>{C.stat===xm.PROXY?ce(Gt,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===xm.NOPROXY&&ce(Gt,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{A.o_()}),0),A}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function qp(){return typeof document<"u"?document:null}function Rd(n){return new kM(n,!0)}class cA{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const FT="PersistentStream";class hA{constructor(e,t,r,s,a,l,c,d){this.Fi=e,this.w_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new cA(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(ni(t.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.b_===t&&this.W_(r,s)}),(r=>{e((()=>{const s=new le(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)}))}))}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((s=>{r((()=>this.G_(s)))})),this.stream.onMessage((s=>{r((()=>++this.C_==1?this.j_(s):this.onNext(s)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ce(FT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(ce(FT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CF extends hA{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=NM(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ce.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?Pr(l.readTime):Ce.min()})(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=Um(this.serializer),t.addTarget=(function(a,l){let c;const d=l.target;if(c=Nm(d)?{documents:LM(a,d)}:{query:MM(a,d).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=ZI(a,l.resumeToken);const p=Lm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ce.min())>0){c.readTime=Xh(a,l.snapshotVersion.toTimestamp());const p=Lm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=UM(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=Um(this.serializer),t.removeTarget=e,this.k_(t)}}class xF extends hA{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=OM(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=Um(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>VM(this.serializer,r)))};this.k_(t)}}class RF{}class kF extends RF{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,Mm(t,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(X.UNKNOWN,a.toString())}))}Jo(e,t,r,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Jo(e,Mm(t,r),s,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(X.UNKNOWN,l.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class bF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ni(t),this._a=!1):ce("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}const Zs="RemoteStore";class DF{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((l=>{r.enqueueAndForget((async()=>{ro(this)&&(ce(Zs,"Restarting streams for network reachability change."),await(async function(d){const p=xe(d);p.Ia.add(4),await Mu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await kd(p)})(this))}))})),this.Aa=new bF(r,s)}}async function kd(n){if(ro(n))for(const e of n.da)await e(!0)}async function Mu(n){for(const e of n.da)await e(!1)}function dA(n,e){const t=xe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),vy(t)?yy(t):Fa(t).x_()&&gy(t,e))}function my(n,e){const t=xe(n),r=Fa(t);t.Ta.delete(e),r.x_()&&fA(t,e),t.Ta.size===0&&(r.x_()?r.B_():ro(t)&&t.Aa.set("Unknown"))}function gy(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fa(n).H_(e)}function fA(n,e){n.Ra.$e(e),Fa(n).Y_(e)}function yy(n){n.Ra=new PM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Fa(n).start(),n.Aa.aa()}function vy(n){return ro(n)&&!Fa(n).M_()&&n.Ta.size>0}function ro(n){return xe(n).Ia.size===0}function pA(n){n.Ra=void 0}async function NF(n){n.Aa.set("Online")}async function VF(n){n.Ta.forEach(((e,t)=>{gy(n,e)}))}async function OF(n,e){pA(n),vy(n)?(n.Aa.la(e),yy(n)):n.Aa.set("Unknown")}async function LF(n,e,t){if(n.Aa.set("Online"),e instanceof JI&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ta.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ta.delete(c),s.Ra.removeTarget(c))})(n,e)}catch(r){ce(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zh(n,r)}else if(e instanceof Ph?n.Ra.Ye(e):e instanceof XI?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ce.min()))try{const r=await uA(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const c=a.Ra.Pt(l);return c.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ta.get(p);g&&a.Ta.set(p,g.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,p)=>{const g=a.Ta.get(d);if(!g)return;a.Ta.set(d,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),fA(a,d);const y=new ji(g.target,d,p,g.sequenceNumber);gy(a,y)})),a.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){ce(Zs,"Failed to raise snapshot:",r),await Zh(n,r)}}async function Zh(n,e,t){if(!La(e))throw e;n.Ia.add(1),await Mu(n),n.Aa.set("Offline"),t||(t=()=>uA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ce(Zs,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await kd(n)}))}function mA(n,e){return e().catch((t=>Zh(n,t,e)))}async function bd(n){const e=xe(n),t=ns(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ty;for(;MF(e);)try{const s=await vF(e.localStore,r);if(s===null){e.Pa.length===0&&t.B_();break}r=s.batchId,FF(e,s)}catch(s){await Zh(e,s)}gA(e)&&yA(e)}function MF(n){return ro(n)&&n.Pa.length<10}function FF(n,e){n.Pa.push(e);const t=ns(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function gA(n){return ro(n)&&!ns(n).M_()&&n.Pa.length>0}function yA(n){ns(n).start()}async function UF(n){ns(n).na()}async function jF(n){const e=ns(n);for(const t of n.Pa)e.X_(t.mutations)}async function BF(n,e,t){const r=n.Pa.shift(),s=ly.from(r,e,t);await mA(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await bd(n)}async function zF(n,e){e&&ns(n).Z_&&await(async function(r,s){if((function(l){return IM(l)&&l!==X.ABORTED})(s.code)){const a=r.Pa.shift();ns(r).N_(),await mA(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await bd(r)}})(n,e),gA(n)&&yA(n)}async function UT(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),ce(Zs,"RemoteStore received new credentials");const r=ro(t);t.Ia.add(3),await Mu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await kd(t)}async function $F(n,e){const t=xe(n);e?(t.Ia.delete(2),await kd(t)):e||(t.Ia.add(2),await Mu(t),t.Aa.set("Unknown"))}function Fa(n){return n.Va||(n.Va=(function(t,r,s){const a=xe(t);return a.ia(),new CF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:NF.bind(null,n),e_:VF.bind(null,n),n_:OF.bind(null,n),J_:LF.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),vy(n)?yy(n):n.Aa.set("Unknown")):(await n.Va.stop(),pA(n))}))),n.Va}function ns(n){return n.ma||(n.ma=(function(t,r,s){const a=xe(t);return a.ia(),new xF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:UF.bind(null,n),n_:zF.bind(null,n),ea:jF.bind(null,n),ta:BF.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await bd(n)):(await n.ma.stop(),n.Pa.length>0&&(ce(Zs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}class _y{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,c=new _y(e,t,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(n,e){if(ni("AsyncQueue",`${e}: ${n}`),La(n))return new le(X.UNAVAILABLE,`${e}: ${n}`);throw n}class ma{static emptySet(e){return new ma(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=$l(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ma)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ma;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jT{constructor(){this.fa=new lt(ye.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ie(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Pa{constructor(e,t,r,s,a,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new Pa(e,t,ma.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class WF{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class HF{constructor(){this.queries=BT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const s=xe(t),a=s.queries;s.queries=BT(),a.forEach(((l,c)=>{for(const d of c.wa)d.onError(r)}))})(this,new le(X.ABORTED,"Firestore shutting down"))}}function BT(){return new no((n=>FI(n)),Id)}async function vA(n,e){const t=xe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Sa()&&e.ba()&&(r=2):(a=new WF,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(s,!0);break;case 1:a.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=wy(l,`Initialization of query '${ra(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&Ty(t)}async function _A(n,e){const t=xe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.wa.indexOf(e);l>=0&&(a.wa.splice(l,1),a.wa.length===0?s=e.ba()?0:1:!a.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function qF(n,e){const t=xe(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const c of l.wa)c.Ca(s)&&(r=!0);l.ya=s}}r&&Ty(t)}function KF(n,e,t){const r=xe(n),s=r.queries.get(e);if(s)for(const a of s.wa)a.onError(t);r.queries.delete(e)}function Ty(n){n.Da.forEach((e=>{e.next()}))}var zm,zT;(zT=zm||(zm={})).Fa="default",zT.Cache="cache";class wA{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==zm.Cache}}class TA{constructor(e){this.key=e}}class EA{constructor(e){this.key=e}}class GF{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Oe(),this.mutatedKeys=Oe(),this.Xa=UI(e),this.eu=new ma(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new jT,s=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,y)=>{const w=s.get(g),S=Ad(this.query,y)?y:null,A=!!w&&this.mutatedKeys.has(w.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;w&&S?w.data.isEqual(S.data)?A!==k&&(r.track({type:3,doc:S}),C=!0):this.iu(w,S)||(r.track({type:2,doc:S}),C=!0,(d&&this.Xa(S,d)>0||p&&this.Xa(S,p)<0)&&(c=!0)):!w&&S?(r.track({type:0,doc:S}),C=!0):w&&!S&&(r.track({type:1,doc:w}),C=!0,(d||p)&&(c=!0)),C&&(S?(l=l.add(S),a=k?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{eu:l,ru:r,Ds:c,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort(((g,y)=>(function(S,A){const k=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{At:C})}};return k(S)-k(A)})(g.type,y.type)||this.Xa(g.doc,y.doc))),this.su(r),s=s!=null&&s;const c=t&&!s?this.ou():[],d=this.Za.size===0&&this.current&&!s?1:0,p=d!==this.Ya;return this.Ya=d,l.length!==0||p?{snapshot:new Pa(this.query,e.eu,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new jT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Oe(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const t=[];return e.forEach((r=>{this.Za.has(r)||t.push(new EA(r))})),this.Za.forEach((r=>{e.has(r)||t.push(new TA(r))})),t}uu(e){this.Ha=e.qs,this.Za=Oe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Pa.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ey="SyncEngine";class QF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class YF{constructor(e){this.key=e,this.lu=!1}}class XF{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new no((c=>FI(c)),Id),this.Tu=new Map,this.Iu=new Set,this.du=new lt(ye.comparator),this.Eu=new Map,this.Au=new hy,this.Ru={},this.Vu=new Map,this.mu=Aa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function JF(n,e,t=!0){const r=xA(n);let s;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.cu()):s=await SA(r,e,t,!0),s}async function ZF(n,e){const t=xA(n);await SA(t,e,!0,!1)}async function SA(n,e,t,r){const s=await _F(n.localStore,Ar(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await e4(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&dA(n.remoteStore,s),c}async function e4(n,e,t,r,s){n.gu=(y,w,S)=>(async function(k,C,z,U){let W=C.view.nu(z);W.Ds&&(W=await VT(k.localStore,C.query,!1).then((({documents:D})=>C.view.nu(D,W))));const K=U&&U.targetChanges.get(C.targetId),Q=U&&U.targetMismatches.get(C.targetId)!=null,re=C.view.applyChanges(W,k.isPrimaryClient,K,Q);return WT(k,C.targetId,re._u),re.snapshot})(n,y,w,S);const a=await VT(n.localStore,e,!0),l=new GF(e,a.qs),c=l.nu(a.documents),d=Lu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(c,n.isPrimaryClient,d);WT(n,t,p._u);const g=new QF(e,t,l);return n.Pu.set(e,g),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),p.snapshot}async function t4(n,e,t){const r=xe(n),s=r.Pu.get(e),a=r.Tu.get(s.targetId);if(a.length>1)return r.Tu.set(s.targetId,a.filter((l=>!Id(l,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await jm(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&my(r.remoteStore,s.targetId),$m(r,s.targetId)})).catch(Oa)):($m(r,s.targetId),await jm(r.localStore,s.targetId,!0))}async function n4(n,e){const t=xe(n),r=t.Pu.get(e),s=t.Tu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),my(t.remoteStore,r.targetId))}async function r4(n,e,t){const r=c4(n);try{const s=await(function(l,c){const d=xe(l),p=tt.now(),g=c.reduce(((S,A)=>S.add(A.key)),Oe());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let A=ri(),k=Oe();return d.Os.getEntries(S,g).next((C=>{A=C,A.forEach(((z,U)=>{U.isValidDocument()||(k=k.add(z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,A))).next((C=>{y=C;const z=[];for(const U of c){const W=_M(U,y.get(U.key).overlayedDocument);W!=null&&z.push(new cs(U.key,W,kI(W.value.mapValue),zn.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,z,c)})).next((C=>{w=C;const z=C.applyToLocalDocumentSet(y,k);return d.documentOverlayCache.saveOverlays(S,C.batchId,z)}))})).then((()=>({batchId:w.batchId,changes:BI(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,d){let p=l.Ru[l.currentUser.toKey()];p||(p=new lt(ke)),p=p.insert(c,d),l.Ru[l.currentUser.toKey()]=p})(r,s.batchId,t),await Fu(r,s.changes),await bd(r.remoteStore)}catch(s){const a=wy(s,"Failed to persist write");t.reject(a)}}async function IA(n,e){const t=xe(n);try{const r=await gF(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Eu.get(a);l&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.lu=!0:s.modifiedDocuments.size>0?He(l.lu,14607):s.removedDocuments.size>0&&(He(l.lu,42227),l.lu=!1))})),await Fu(t,r,e)}catch(r){await Oa(r)}}function $T(n,e,t){const r=xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Pu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const d=xe(l);d.onlineState=c;let p=!1;d.queries.forEach(((g,y)=>{for(const w of y.wa)w.va(c)&&(p=!0)})),p&&Ty(d)})(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i4(n,e,t){const r=xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Eu.get(e),a=s&&s.key;if(a){let l=new lt(ye.comparator);l=l.insert(a,Xt.newNoDocument(a,Ce.min()));const c=Oe().add(a),d=new xd(Ce.min(),new Map,new lt(ke),l,c);await IA(r,d),r.du=r.du.remove(a),r.Eu.delete(e),Sy(r)}else await jm(r.localStore,e,!1).then((()=>$m(r,e,t))).catch(Oa)}async function s4(n,e){const t=xe(n),r=e.batch.batchId;try{const s=await mF(t.localStore,e);PA(t,r,null),AA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(t,s)}catch(s){await Oa(s)}}async function o4(n,e,t){const r=xe(n);try{const s=await(function(l,c){const d=xe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return d.mutationQueue.lookupMutationBatch(p,c).next((y=>(He(y!==null,37113),g=y.keys(),d.mutationQueue.removeMutationBatch(p,y)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>d.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);PA(r,e,t),AA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fu(r,s)}catch(s){await Oa(s)}}function AA(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function PA(n,e,t){const r=xe(n);let s=r.Ru[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function $m(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((r=>{n.Au.containsKey(r)||CA(n,r)}))}function CA(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(my(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Sy(n))}function WT(n,e,t){for(const r of t)r instanceof TA?(n.Au.addReference(r.key,e),a4(n,r)):r instanceof EA?(ce(Ey,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||CA(n,r.key)):Ie(19791,{yu:r})}function a4(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(ce(Ey,"New document in limbo: "+t),n.Iu.add(r),Sy(n))}function Sy(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new ye(Je.fromString(e)),r=n.mu.next();n.Eu.set(r,new YF(t)),n.du=n.du.insert(t,r),dA(n.remoteStore,new ji(Ar(Sd(t.path)),r,"TargetPurposeLimboResolution",wd.ue))}}async function Fu(n,e,t){const r=xe(n),s=[],a=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach(((c,d)=>{l.push(r.gu(d,e,t).then((p=>{var g;if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:(g=t?.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){s.push(p);const y=fy.Es(d.targetId,p);a.push(y)}})))})),await Promise.all(l),r.hu.J_(s),await(async function(d,p){const g=xe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>J.forEach(p,(w=>J.forEach(w.Is,(S=>g.persistence.referenceDelegate.addReference(y,w.targetId,S))).next((()=>J.forEach(w.ds,(S=>g.persistence.referenceDelegate.removeReference(y,w.targetId,S)))))))))}catch(y){if(!La(y))throw y;ce(py,"Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const S=g.Fs.get(w),A=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(A);g.Fs=g.Fs.insert(w,k)}}})(r.localStore,a))}async function l4(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){ce(Ey,"User change. New user:",e.toKey());const r=await lA(t.localStore,e);t.currentUser=e,(function(a,l){a.Vu.forEach((c=>{c.forEach((d=>{d.reject(new le(X.CANCELLED,l))}))})),a.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(t,r.Bs)}}function u4(n,e){const t=xe(n),r=t.Eu.get(e);if(r&&r.lu)return Oe().add(r.key);{let s=Oe();const a=t.Tu.get(e);if(!a)return s;for(const l of a){const c=t.Pu.get(l);s=s.unionWith(c.view.tu)}return s}}function xA(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i4.bind(null,e),e.hu.J_=qF.bind(null,e.eventManager),e.hu.pu=KF.bind(null,e.eventManager),e}function c4(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o4.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return pF(this.persistence,new hF,e.initialUser,this.serializer)}Du(e){return new aA(dy.Vi,this.serializer)}bu(e){return new TF}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class h4 extends ed{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){He(this.persistence.referenceDelegate instanceof Jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YM(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new aA((r=>Jh.Vi(r,t)),this.serializer)}}class Wm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$T(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l4.bind(null,this.syncEngine),await $F(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HF})()}createDatastore(e){const t=Rd(e.databaseInfo.databaseId),r=(function(a){return new PF(a)})(e.databaseInfo);return(function(a,l,c,d){return new kF(a,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,l,c){return new DF(r,s,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>$T(this.syncEngine,t,0)),(function(){return MT.C()?new MT:new EF})())}createSyncEngine(e,t){return(function(s,a,l,c,d,p,g){const y=new XF(s,a,l,c,d,p);return g&&(y.fu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const a=xe(s);ce(Zs,"RemoteStore shutting down."),a.Ia.add(5),await Mu(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Wm.provider={build:()=>new Wm};class RA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const rs="FirestoreClient";class d4{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Yt.UNAUTHENTICATED,this.clientId=ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ce(rs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ce(rs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=wy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Kp(n,e){n.asyncQueue.verifyOperationInProgress(),ce(rs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await lA(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>{Xi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{ce("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((s=>{Xi("Terminating Firestore due to IndexedDb database deletion failed",s)}))})),n._offlineComponents=e}async function HT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await f4(n);ce(rs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>UT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>UT(e.remoteStore,s))),n._onlineComponents=e}async function f4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(rs,"Using user provided OfflineComponentProvider");try{await Kp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Xi("Error using user provided cache. Falling back to memory cache: "+t),await Kp(n,new ed)}}else ce(rs,"Using default OfflineComponentProvider"),await Kp(n,new h4(void 0));return n._offlineComponents}async function kA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(rs,"Using user provided OnlineComponentProvider"),await HT(n,n._uninitializedComponentsProvider._online)):(ce(rs,"Using default OnlineComponentProvider"),await HT(n,new Wm))),n._onlineComponents}function p4(n){return kA(n).then((e=>e.syncEngine))}async function Hm(n){const e=await kA(n),t=e.eventManager;return t.onListen=JF.bind(null,e.syncEngine),t.onUnlisten=t4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ZF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=n4.bind(null,e.syncEngine),t}function m4(n,e,t={}){const r=new Ki;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,p){const g=new RA({next:w=>{g.Ou(),l.enqueueAndForget((()=>_A(a,y)));const S=w.docs.has(c);!S&&w.fromCache?p.reject(new le(X.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&d&&d.source==="server"?p.reject(new le(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new wA(Sd(c.path),g,{includeMetadataChanges:!0,ka:!0});return vA(a,y)})(await Hm(n),n.asyncQueue,e,t,r))),r.promise}function bA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const qT=new Map;const DA="firestore.googleapis.com",KT=!0;class GT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DA,this.ssl=KT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:KT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GM)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new SL;switch(r.type){case"firstParty":return new CL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=qT.get(t);r&&(ce("ComponentProvider","Removing Datastore"),qT.delete(t),r.terminate())})(this),Promise.resolve()}}function g4(n,e,t,r={}){var s;n=Bn(n,Dd);const a=ba(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a&&(E1(`https://${d}`),S1("Firestore",!0)),l.host!==DA&&l.host!==d&&Xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:a,emulatorOptions:r});if(!Gs(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Yt.MOCK_USER;else{g=V2(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yt(w)}n._authCredentials=new IL(new yI(g,y))}}class io{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class ht{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Vu(t,ht._jsonSchema))return new ht(e,r||null,new ye(Je.fromString(t.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:Et("string",ht._jsonSchemaVersion),referencePath:Et("string")};class Gi extends io{constructor(e,t,r){super(e,t,Sd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new ye(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function NA(n,e,...t){if(n=St(n),_I("collection","path",e),n instanceof Dd){const r=Je.fromString(e,...t);return aT(r),new Gi(n,null,r)}{if(!(n instanceof ht||n instanceof Gi))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return aT(r),new Gi(n.firestore,null,r)}}function qm(n,e,...t){if(n=St(n),arguments.length===1&&(e=ey.newId()),_I("doc","path",e),n instanceof Dd){const r=Je.fromString(e,...t);return oT(r),new ht(n,null,new ye(r))}{if(!(n instanceof ht||n instanceof Gi))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return oT(r),new ht(n.firestore,n instanceof Gi?n.converter:null,new ye(r))}}const QT="AsyncQueue";class YT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new cA(this,"async_queue_retry"),this.oc=()=>{const r=qp();r&&ce(QT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=qp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=qp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Ki;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!La(e))throw e;ce(QT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,ni("INTERNAL UNHANDLED ERROR: ",XT(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=_y.createAndSchedule(this,e,t,r,(a=>this.lc(a)));return this.ec.push(s),s}ac(){this.tc&&Ie(47125,{hc:XT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function XT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function JT(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(n,["next","error","complete"])}class is extends Dd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new YT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YT(e),this._firestoreClient=void 0,await e}}}function y4(n,e){const t=typeof n=="object"?n:C1(),r=typeof n=="string"?n:Kh,s=$g(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=D2("firestore");a&&g4(s,...a)}return s}function Iy(n){if(n._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||v4(n),n._firestoreClient}function v4(n){var e,t,r;const s=n._freezeSettings(),a=(function(c,d,p,g){return new $L(c,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,bA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new d4(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}})(n._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn($t.fromBase64String(e))}catch(t){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Et("string",jn._jsonSchemaVersion),bytes:Et("string")};class Nd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vd{constructor(e){this._methodName=e}}class Cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:Et("string",Cr._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};class xr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new xr(e.vectorValues);throw new le(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:Et("string",xr._jsonSchemaVersion),vectorValues:Et("object")};const _4=/^__.*__$/;class w4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ou(e,this.data,t,this.fieldTransforms)}}class VA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ec:n})}}class Ay{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return td(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(OA(this.Ec)&&_4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class T4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rd(e)}Dc(e,t,r,s=!1){return new Ay({Ec:e,methodName:t,bc:r,path:zt.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(n){const e=n._freezeSettings(),t=Rd(n._databaseId);return new T4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LA(n,e,t,r,s,a={}){const l=n.Dc(a.merge||a.mergeFields?2:0,e,t,s);Cy("Data must be an object, but it was:",l,r);const c=MA(r,l);let d,p;if(a.merge)d=new In(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const w=Km(e,y,t);if(!l.contains(w))throw new le(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);UA(g,w)||g.push(w)}d=new In(g),p=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,p=l.fieldTransforms;return new w4(new gn(c),d,p)}class Ld extends Vd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ld}}class Py extends Vd{_toFieldTransform(e){return new mM(e.path,new vu)}isEqual(e){return e instanceof Py}}function E4(n,e,t,r){const s=n.Dc(1,e,t);Cy("Data must be an object, but it was:",s,r);const a=[],l=gn.empty();us(r,((d,p)=>{const g=xy(e,d,t);p=St(p);const y=s.gc(g);if(p instanceof Ld)a.push(g);else{const w=Uu(p,y);w!=null&&(a.push(g),l.set(g,w))}}));const c=new In(a);return new VA(l,c,s.fieldTransforms)}function S4(n,e,t,r,s,a){const l=n.Dc(1,e,t),c=[Km(e,r,t)],d=[s];if(a.length%2!=0)throw new le(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)c.push(Km(e,a[w])),d.push(a[w+1]);const p=[],g=gn.empty();for(let w=c.length-1;w>=0;--w)if(!UA(p,c[w])){const S=c[w];let A=d[w];A=St(A);const k=l.gc(S);if(A instanceof Ld)p.push(S);else{const C=Uu(A,k);C!=null&&(p.push(S),g.set(S,C))}}const y=new In(p);return new VA(g,y,l.fieldTransforms)}function I4(n,e,t,r=!1){return Uu(t,n.Dc(r?4:3,e))}function Uu(n,e){if(FA(n=St(n)))return Cy("Unsupported field value:",e,n),MA(n,e);if(n instanceof Vd)return(function(r,s){if(!OA(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const c of r){let d=Uu(c,s.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=tt.fromDate(r);return{timestampValue:Xh(s.serializer,a)}}if(r instanceof tt){const a=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xh(s.serializer,a)}}if(r instanceof Cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:ZI(s.serializer,r._byteString)};if(r instanceof ht){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:cy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xr)return(function(l,c){return{mapValue:{fields:{[xI]:{stringValue:RI},[Gh]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw c.wc("VectorValues must only contain numeric values.");return oy(c.serializer,p)}))}}}}}})(r,s);throw s.wc(`Unsupported field value: ${_d(r)}`)})(n,e)}function MA(n,e){const t={};return EI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(n,((r,s)=>{const a=Uu(s,e.Vc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function FA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof Cr||n instanceof jn||n instanceof ht||n instanceof Vd||n instanceof xr)}function Cy(n,e,t){if(!FA(t)||!wI(t)){const r=_d(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Km(n,e,t){if((e=St(e))instanceof Nd)return e._internalPath;if(typeof e=="string")return xy(n,e);throw td("Field path arguments must be of type string or ",n,!1,void 0,t)}const A4=new RegExp("[~\\*/\\[\\]]");function xy(n,e,t){if(e.search(A4)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nd(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function td(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new le(X.INVALID_ARGUMENT,c+n+d)}function UA(n,e){return n.some((t=>t.isEqual(e)))}class jA{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Md("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class P4 extends jA{data(){return super.data()}}function Md(n,e){return typeof e=="string"?xy(n,e):e instanceof Nd?e._internalPath:e._delegate._internalPath}function C4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ry{}class BA extends Ry{}function x4(n,e,...t){let r=[];e instanceof Ry&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((d=>d instanceof ky)).length,c=a.filter((d=>d instanceof Fd)).length;if(l>1||l>0&&c>0)throw new le(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Fd extends BA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Fd(e,t,r)}_apply(e){const t=this._parse(e);return zA(e._query,t),new io(e.firestore,e.converter,Vm(e._query,t))}_parse(e){const t=Od(e.firestore);return(function(a,l,c,d,p,g,y){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new le(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){eE(y,g);const A=[];for(const k of y)A.push(ZT(d,a,k));w={arrayValue:{values:A}}}else w=ZT(d,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||eE(y,g),w=I4(c,l,y,g==="in"||g==="not-in");return Tt.create(p,g,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function R4(n,e,t){const r=e,s=Md("where",n);return Fd._create(s,r,t)}class ky extends Ry{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ky(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const c=a.getFlattenedFilters();for(const d of c)zA(l,d),l=Vm(l,d)})(e._query,t),new io(e.firestore,e.converter,Vm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class by extends BA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new by(e,t)}_apply(e){const t=(function(s,a,l){if(s.startAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(a,l)})(e._query,this._field,this._direction);return new io(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new Ma(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function k4(n,e="asc"){const t=e,r=Md("orderBy",n);return by._create(r,t)}function ZT(n,e,t){if(typeof(t=St(t))=="string"){if(t==="")throw new le(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MI(e)&&t.indexOf("/")!==-1)throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Je.fromString(t));if(!ye.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mT(n,new ye(r))}if(t instanceof ht)return mT(n,t._key);throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(t)}.`)}function eE(n,e){if(!Array.isArray(n)||n.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zA(n,e){const t=(function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class b4{convertValue(e,t="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return us(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Gh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((l=>mt(l.doubleValue)));return new xr(a)}convertGeoPoint(e){return new Cr(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ed(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const t=Zi(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Je.fromString(e);He(sA(r),9688,{name:e});const s=new mu(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return s.isEqual(t)||ni(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function $A(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Hl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qs extends jA{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Md("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:Et("string",qs._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class Ch extends qs{data(e={}){return super.data(e)}}class ga{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Hl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Ch(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const d=new Ch(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Hl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new Ch(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Hl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:D4(c.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ey.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function D4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}function L6(n){n=Bn(n,ht);const e=Bn(n.firestore,is);return m4(Iy(e),n._key).then((t=>HA(e,n,t)))}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:Et("string",ga._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class WA extends b4{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,t)}}function M6(n,e,t){n=Bn(n,ht);const r=Bn(n.firestore,is),s=$A(n.converter,e,t);return Ud(r,[LA(Od(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,zn.none())])}function N4(n,e,t,...r){n=Bn(n,ht);const s=Bn(n.firestore,is),a=Od(s);let l;return l=typeof(e=St(e))=="string"||e instanceof Nd?S4(a,"updateDoc",n._key,e,t,r):E4(a,"updateDoc",n._key,e),Ud(s,[l.toMutation(n._key,zn.exists(!0))])}function V4(n){return Ud(Bn(n.firestore,is),[new ay(n._key,zn.none())])}function O4(n,e){const t=Bn(n.firestore,is),r=qm(n),s=$A(n.converter,e);return Ud(t,[LA(Od(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then((()=>r))}function L4(n,...e){var t,r,s;n=St(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||JT(e[l])||(a=e[l++]);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(JT(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(s=y.complete)===null||s===void 0?void 0:s.bind(y)}let d,p,g;if(n instanceof ht)p=Bn(n.firestore,is),g=Sd(n._key.path),d={next:y=>{e[l]&&e[l](HA(p,n,y))},error:e[l+1],complete:e[l+2]};else{const y=Bn(n,io);p=Bn(y.firestore,is),g=y._query;const w=new WA(p);d={next:S=>{e[l]&&e[l](new ga(p,w,y,S))},error:e[l+1],complete:e[l+2]},C4(n._query)}return(function(w,S,A,k){const C=new RA(k),z=new wA(S,C,A);return w.asyncQueue.enqueueAndForget((async()=>vA(await Hm(w),z))),()=>{C.Ou(),w.asyncQueue.enqueueAndForget((async()=>_A(await Hm(w),z)))}})(Iy(p),g,c,d)}function Ud(n,e){return(function(r,s){const a=new Ki;return r.asyncQueue.enqueueAndForget((async()=>r4(await p4(r),s,a))),a.promise})(Iy(n),e)}function HA(n,e,t){const r=t.docs.get(e._key),s=new WA(n);return new qs(n,s,e._key,r,new Hl(t.hasPendingWrites,t.fromCache),e.converter)}function M4(){return new Py("serverTimestamp")}(function(e,t=!0){(function(s){Va=s})(Da),wa(new Qs("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new is(new AL(r.getProvider("auth-internal")),new xL(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(p.options.projectId,g)})(l,s),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Hi(tT,nT,e),Hi(tT,nT,"esm2017")})();const F4={apiKey:"AIzaSyCEMCP41iugDnlcPgnj377Fgb_VqRS2TlM",authDomain:"soldi-sotto.firebaseapp.com",projectId:"soldi-sotto",storageBucket:"soldi-sotto.firebasestorage.app",messagingSenderId:"885892536806",appId:"1:885892536806:web:89e8d5f608fb466f4ede27"},qA=P1(F4),tE=TL(qA),xh=y4(qA),KA=V.createContext(),so=()=>V.useContext(KA),GA=({children:n})=>{GA.propTypes={children:Te.node.isRequired};const[e,t]=V.useState(null),[r,s]=V.useState(!0),a=async()=>{try{await cO(tE)}catch(l){throw console.error("Errore durante il logout:",l),l}};return V.useEffect(()=>uO(tE,c=>{t(c),s(!1)}),[]),te.jsx(KA.Provider,{value:{currentUser:e,loading:r,logout:a},children:n})},QA=V.createContext(),U4=()=>V.useContext(QA),YA=({children:n})=>{YA.propTypes={children:Te.node.isRequired};const{currentUser:e}=so(),[t,r]=V.useState([]),[s,a]=V.useState(!0),l=V.useCallback(()=>{if(!e)return;a(!0);const c=x4(NA(xh,"transactions"),R4("userId","==",e.uid),k4("createdAt","desc"));return L4(c,p=>{const g=p.docs.map(y=>({...y.data(),id:y.id,amount:parseFloat(y.data().amount)||0}));r(g),a(!1)})},[e]);return V.useEffect(()=>{if(e){const c=l();return()=>c&&c()}else a(!1)},[e,l]),te.jsx(QA.Provider,{value:{transactions:t,loading:s},children:n})},j4=(n,e,t,r)=>{const s=[t,{code:e,...r||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(s,"warn","react-i18next::",!0);Ks(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...s):console?.warn&&console.warn(...s)},nE={},Gm=(n,e,t,r)=>{Ks(t)&&nE[t]||(Ks(t)&&(nE[t]=new Date),j4(n,e,t,r))},XA=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Qm=(n,e,t)=>{n.loadNamespaces(e,XA(n,t))},rE=(n,e,t,r)=>{if(Ks(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Qm(n,t,r);t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,XA(n,r))},B4=(n,e,t={})=>!e.languages||!e.languages.length?(Gm(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,n))return!1}}),Ks=n=>typeof n=="string",z4=n=>typeof n=="object"&&n!==null,$4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,W4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},H4=n=>W4[n],q4=n=>n.replace($4,H4);let Ym={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:q4};const K4=(n={})=>{Ym={...Ym,...n}},G4=()=>Ym;let JA;const Q4=n=>{JA=n},Y4=()=>JA,X4={type:"3rdParty",init(n){K4(n.options.react),Q4(n)}},J4=V.createContext();class Z4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const eU=(n,e)=>{const t=V.useRef();return V.useEffect(()=>{t.current=n},[n,e]),t.current},ZA=(n,e,t,r)=>n.getFixedT(e,t,r),tU=(n,e,t,r)=>V.useCallback(ZA(n,e,t,r),[n,e,t,r]),ju=(n,e={})=>{const{i18n:t}=e,{i18n:r,defaultNS:s}=V.useContext(J4)||{},a=t||r||Y4();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Z4),!a){Gm(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const K=(re,D)=>Ks(D)?D:z4(D)&&Ks(D.defaultValue)?D.defaultValue:Array.isArray(re)?re[re.length-1]:re,Q=[K,{},!1];return Q.t=K,Q.i18n={},Q.ready=!1,Q}a.options.react?.wait&&Gm(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...G4(),...a.options.react,...e},{useSuspense:c,keyPrefix:d}=l;let p=s||a.options?.defaultNS;p=Ks(p)?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces?.(p);const g=(a.isInitialized||a.initializedStoreOnce)&&p.every(K=>B4(K,a,l)),y=tU(a,e.lng||null,l.nsMode==="fallback"?p:p[0],d),w=()=>y,S=()=>ZA(a,e.lng||null,l.nsMode==="fallback"?p:p[0],d),[A,k]=V.useState(w);let C=p.join();e.lng&&(C=`${e.lng}${C}`);const z=eU(C),U=V.useRef(!0);V.useEffect(()=>{const{bindI18n:K,bindI18nStore:Q}=l;U.current=!0,!g&&!c&&(e.lng?rE(a,e.lng,p,()=>{U.current&&k(S)}):Qm(a,p,()=>{U.current&&k(S)})),g&&z&&z!==C&&U.current&&k(S);const re=()=>{U.current&&k(S)};return K&&a?.on(K,re),Q&&a?.store.on(Q,re),()=>{U.current=!1,a&&K&&K?.split(" ").forEach(D=>a.off(D,re)),Q&&a&&Q.split(" ").forEach(D=>a.store.off(D,re))}},[a,C]),V.useEffect(()=>{U.current&&g&&k(w)},[a,d,g]);const W=[A,a,g];if(W.t=A,W.i18n=a,W.ready=g,g||!g&&!c)return W;throw new Promise(K=>{e.lng?rE(a,e.lng,p,()=>K()):Qm(a,p,()=>K())})},eP=V.createContext(),tP=()=>V.useContext(eP),nP=({children:n})=>{nP.propTypes={children:Te.node.isRequired};const[e,t]=V.useState([]),{t:r}=ju(),s=V.useCallback((y,w="info",S=4e3)=>{const A=Date.now()+Math.random(),k={id:A,message:y,type:w,duration:S};t(C=>[...C,k]),setTimeout(()=>{t(C=>C.filter(z=>z.id!==A))},S)},[]),a=V.useCallback(y=>{t(w=>w.filter(S=>S.id!==y))},[]),l=V.useCallback(y=>s(y,"success"),[s]),c=V.useCallback(y=>s(y,"danger"),[s]),d=V.useCallback(y=>s(y,"warning"),[s]),p=V.useCallback(y=>s(y,"info"),[s]),g=y=>{switch(y){case"success":return"border-emerald-500/40 bg-emerald-500/15 text-emerald-900 dark:text-emerald-100";case"danger":return"border-rose-500/40 bg-rose-500/15 text-rose-900 dark:text-rose-100";case"warning":return"border-amber-500/40 bg-amber-500/20 text-amber-900 dark:text-amber-100";default:return"border-border bg-card text-foreground"}};return te.jsxs(eP.Provider,{value:{success:l,error:c,warning:d,info:p,addToast:s},children:[n,te.jsx("div",{className:"fixed right-4 top-20 z-50 flex w-80 max-w-[90vw] flex-col gap-2",children:e.map(y=>te.jsx("div",{className:`rounded-xl border px-4 py-3 shadow-lg backdrop-blur ${g(y.type)}`,children:te.jsxs("div",{className:"flex items-start justify-between gap-2",children:[te.jsxs("div",{className:"space-y-1 text-sm",children:[te.jsxs("div",{className:"font-semibold",children:[y.type==="success"&&r("notifications.success"),y.type==="danger"&&r("notifications.error"),y.type==="warning"&&r("notifications.warning"),y.type==="info"&&r("notifications.info")]}),te.jsx("div",{children:y.message})]}),te.jsx("button",{onClick:()=>a(y.id),className:"text-muted-foreground hover:text-foreground",children:""})]})},y.id))})]})},rP=V.createContext(),nU=()=>V.useContext(rP),Gp="soldi-sotto-demo-transactions",Ol=10,iP=({children:n,seedOnMount:e=!1})=>{iP.propTypes={children:Te.node.isRequired,seedOnMount:Te.bool};const[t,r]=V.useState([]),[s,a]=V.useState(!0),l=V.useRef(!1),c=tP(),{t:d}=ju(),p=V.useCallback(()=>{try{const U=localStorage.getItem(Gp);if(U){const K=JSON.parse(U).map(Q=>({...Q,date:new Date(Q.date),amount:parseFloat(Q.amount)||0}));K.sort((Q,re)=>re.date-Q.date),r(K)}}catch(U){console.error("Errore nel caricamento delle transazioni demo:",U),r([])}finally{a(!1)}},[]),g=V.useCallback(U=>{try{localStorage.setItem(Gp,JSON.stringify(U))}catch(W){console.error("Errore nel salvataggio delle transazioni demo:",W)}},[]),y=V.useCallback(async U=>{if(t.length>=Ol)return c.warning(d("demo.limitReached",{limit:Ol})),!1;const K=[{...U,id:Date.now().toString()+Math.random().toString(36).substr(2,9),createdAt:new Date},...t];return r(K),g(K),c.success(d("demo.transactionAdded")),!0},[t,g,c,d]),w=V.useCallback(async(U,W)=>{const K=t.map(Q=>Q.id===U?{...Q,...W}:Q);return r(K),g(K),c.success(d("demo.transactionUpdated")),!0},[t,g,c,d]),S=V.useCallback(async U=>{const W=t.filter(K=>K.id!==U);return r(W),g(W),c.success(d("demo.transactionDeleted")),!0},[t,g,c,d]),A=V.useCallback(()=>{r([]),localStorage.removeItem(Gp),c.success(d("demo.allTransactionsCleared"))},[c,d]),k=t.length<Ol,C=V.useCallback(()=>{const U=t.filter(Q=>!Q.isSample),W=U.filter(Q=>Q.type==="income").reduce((Q,re)=>Q+re.amount,0),K=U.filter(Q=>Q.type==="expense").reduce((Q,re)=>Q+re.amount,0);return{totalIncome:W,totalExpense:K,balance:W-K,transactionCount:U.length,maxTransactions:Ol,canAddMore:k}},[t,k]),z=V.useCallback(()=>{const U=[{id:"demo-1",type:"income",amount:2500,description:d("demo.sampleSalary"),date:new Date(Date.now()-432e6),category:"stipendio",createdAt:new Date,isSample:!0},{id:"demo-2",type:"expense",amount:50,description:d("demo.sampleGroceries"),date:new Date(Date.now()-1728e5),category:"supermercato",createdAt:new Date,isSample:!0},{id:"demo-3",type:"expense",amount:25,description:d("demo.sampleFuel"),date:new Date(Date.now()-864e5),category:"trasporti",createdAt:new Date,isSample:!0}];r(U),g(U),c.info(d("demo.sampleTransactionsAdded"))},[g,c,d]);return V.useEffect(()=>{p()},[p]),V.useEffect(()=>{e&&!l.current&&(t.length===0&&z(),l.current=!0)},[e,t.length,z]),te.jsx(rP.Provider,{value:{transactions:t,loading:s,addTransaction:y,updateTransaction:w,deleteTransaction:S,clearTransactions:A,generateSampleTransactions:z,canAddMoreTransactions:k,maxTransactions:Ol,getDemoStats:C,isDemo:!0},children:n})},Tu=V.createContext(),Dy=()=>V.useContext(Tu),Qp="soldi-sotto-demo-enabled",sP=({children:n})=>{sP.propTypes={children:Te.node.isRequired};const{currentUser:e}=so(),{transactions:t,loading:r}=U4(),[s,a]=V.useState(!1),l=tP(),{t:c}=ju(),d=V.useCallback(async w=>{if(!e)return!1;a(!0);try{return await O4(NA(xh,"transactions"),{userId:e.uid,...w,createdAt:M4()}),l.success(c("notifications.addSuccess")),!0}catch(S){return console.error("Errore nell'aggiunta della transazione:",S),l.error(c("notifications.addError")),!1}finally{a(!1)}},[e,c]),p=V.useCallback(async(w,S)=>{if(!e)return!1;a(!0);try{const A=qm(xh,"transactions",w);return await N4(A,S),l.success(c("notifications.updateSuccess")),!0}catch(A){return console.error("Errore nell'aggiornamento della transazione:",A),l.error(c("notifications.updateError")),!1}finally{a(!1)}},[e,c]),g=V.useCallback(async w=>{if(!e)return!1;a(!0);try{const S=qm(xh,"transactions",w);return await V4(S),l.success(c("notifications.deleteSuccess")),!0}catch(S){return console.error("Errore nell'eliminazione della transazione:",S),l.error(c("notifications.deleteError")),!1}finally{a(!1)}},[e,c]),y=V.useCallback(()=>{const w=t.filter(A=>A.type==="income").reduce((A,k)=>A+k.amount,0),S=t.filter(A=>A.type==="expense").reduce((A,k)=>A+k.amount,0);return{totalIncome:w,totalExpense:S,balance:w-S,transactionCount:t.length,canAddMore:!0}},[t]);return te.jsx(Tu.Provider,{value:{transactions:t,loading:r||s,addTransaction:d,updateTransaction:p,deleteTransaction:g,canAddMoreTransactions:!0,maxTransactions:1/0,getStats:y,isDemo:!1,isAuthenticated:!0,startDemo:()=>!1,stopDemo:()=>{}},children:n})},oP=({children:n,startDemo:e,seedDemo:t,stopDemo:r})=>{oP.propTypes={children:Te.node.isRequired,startDemo:Te.func.isRequired,seedDemo:Te.bool,stopDemo:Te.func.isRequired};const{transactions:s,loading:a,addTransaction:l,updateTransaction:c,deleteTransaction:d,canAddMoreTransactions:p,maxTransactions:g,getDemoStats:y,generateSampleTransactions:w,clearTransactions:S}=nU();return te.jsx(Tu.Provider,{value:{transactions:s,loading:a,addTransaction:l,updateTransaction:c,deleteTransaction:d,generateSampleTransactions:w,clearTransactions:S,canAddMoreTransactions:p,maxTransactions:g,getStats:y,isDemo:!0,isAuthenticated:!1,startDemo:e,seedOnMount:t,stopDemo:r},children:n})},aP=({children:n})=>{aP.propTypes={children:Te.node.isRequired};const{currentUser:e,loading:t}=so(),[r,s]=V.useState(!1),[a,l]=V.useState(()=>localStorage.getItem(Qp)==="true"),[c,d]=V.useState(!1),p=V.useCallback(()=>(localStorage.setItem(Qp,"true"),l(!0),d(!0),!0),[]),g=V.useCallback(()=>{localStorage.removeItem(Qp),l(!1),d(!1)},[]);return V.useEffect(()=>{t||s(!0)},[t]),r?e?te.jsx(YA,{children:te.jsx(sP,{children:n})}):a?te.jsx(iP,{seedOnMount:c,children:te.jsx(oP,{startDemo:p,seedDemo:c,stopDemo:g,children:n})}):te.jsx(Tu.Provider,{value:{transactions:[],loading:!1,addTransaction:()=>Promise.resolve(!1),updateTransaction:()=>Promise.resolve(!1),deleteTransaction:()=>Promise.resolve(!1),generateSampleTransactions:()=>Promise.resolve(!1),clearTransactions:()=>{},canAddMoreTransactions:!1,maxTransactions:0,getStats:()=>({totalIncome:0,totalExpense:0,balance:0,transactionCount:0,categoryBreakdown:{}}),isDemo:!1,isAuthenticated:!1,startDemo:p,seedOnMount:!1,stopDemo:g},children:n}):te.jsx(Tu.Provider,{value:{transactions:[],loading:!0,addTransaction:()=>Promise.resolve(!1),updateTransaction:()=>Promise.resolve(!1),deleteTransaction:()=>Promise.resolve(!1),canAddMoreTransactions:!1,maxTransactions:0,getStats:()=>({}),isDemo:!1,isAuthenticated:!1,startDemo:p,stopDemo:g},children:n})};var fh={},iE;function rU(){if(iE)return fh;iE=1,fh.match=a,fh.parse=l;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,t=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function a(g,y){return l(g).some(function(w){var S=w.inverse,A=w.type==="all"||y.type===w.type;if(A&&S||!(A||S))return!1;var k=w.expressions.every(function(C){var z=C.feature,U=C.modifier,W=C.value,K=y[z];if(!K)return!1;switch(z){case"orientation":case"scan":return K.toLowerCase()===W.toLowerCase();case"width":case"height":case"device-width":case"device-height":W=p(W),K=p(K);break;case"resolution":W=d(W),K=d(K);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":W=c(W),K=c(K);break;case"grid":case"color":case"color-index":case"monochrome":W=parseInt(W,10)||1,K=parseInt(K,10)||0;break}switch(U){case"min":return K>=W;case"max":return K<=W;default:return K===W}});return k&&!S||!k&&S})}function l(g){return g.split(",").map(function(y){y=y.trim();var w=y.match(n),S=w[1],A=w[2],k=w[3]||"",C={};return C.inverse=!!S&&S.toLowerCase()==="not",C.type=A?A.toLowerCase():"all",k=k.match(/\([^\)]+\)/g)||[],C.expressions=k.map(function(z){var U=z.match(e),W=U[1].toLowerCase().match(t);return{modifier:W[1],feature:W[2],value:U[2]}}),C})}function c(g){var y=Number(g),w;return y||(w=g.match(/^(\d+)\s*\/\s*(\d+)$/),y=w[1]/w[2]),y}function d(g){var y=parseFloat(g),w=String(g).match(s)[1];switch(w){case"dpcm":return y/2.54;case"dppx":return y*96;default:return y}}function p(g){var y=parseFloat(g),w=String(g).match(r)[1];switch(w){case"em":return y*16;case"rem":return y*16;case"cm":return y*96/2.54;case"mm":return y*96/2.54/10;case"in":return y*96;case"pt":return y*72;case"pc":return y*72/12;default:return y}}return fh}var Yp,sE;function iU(){if(sE)return Yp;sE=1;var n=rU().match,e=typeof window<"u"?window.matchMedia:null;function t(s,a,l){var c=this,d;e&&!l&&(d=e.call(window,s)),d?(this.matches=d.matches,this.media=d.media,d.addListener(y)):(this.matches=n(s,a),this.media=s),this.addListener=p,this.removeListener=g,this.dispose=w;function p(S){d&&d.addListener(S)}function g(S){d&&d.removeListener(S)}function y(S){c.matches=S.matches,c.media=S.media}function w(){d&&d.removeListener(y)}}function r(s,a,l){return new t(s,a,l)}return Yp=r,Yp}var sU=iU();const oU=Su(sU);var aU=/[A-Z]/g,lU=/^ms-/,Xp={};function uU(n){return"-"+n.toLowerCase()}function lP(n){if(Xp.hasOwnProperty(n))return Xp[n];var e=n.replace(aU,uU);return Xp[n]=lU.test(e)?"-"+e:e}function cU(n,e){if(n===e)return!0;if(!n||!e)return!1;const t=Object.keys(n),r=Object.keys(e),s=t.length;if(r.length!==s)return!1;for(let a=0;a<s;a++){const l=t[a];if(n[l]!==e[l]||!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0}const sn=Te.oneOfType([Te.string,Te.number]),uP={all:Te.bool,grid:Te.bool,aural:Te.bool,braille:Te.bool,handheld:Te.bool,print:Te.bool,projection:Te.bool,screen:Te.bool,tty:Te.bool,tv:Te.bool,embossed:Te.bool},hU={orientation:Te.oneOf(["portrait","landscape"]),scan:Te.oneOf(["progressive","interlace"]),aspectRatio:Te.string,deviceAspectRatio:Te.string,height:sn,deviceHeight:sn,width:sn,deviceWidth:sn,color:Te.bool,colorIndex:Te.bool,monochrome:Te.bool,resolution:sn,type:Object.keys(uP)},{type:F6,...dU}=hU,fU={minAspectRatio:Te.string,maxAspectRatio:Te.string,minDeviceAspectRatio:Te.string,maxDeviceAspectRatio:Te.string,minHeight:sn,maxHeight:sn,minDeviceHeight:sn,maxDeviceHeight:sn,minWidth:sn,maxWidth:sn,minDeviceWidth:sn,maxDeviceWidth:sn,minColor:Te.number,maxColor:Te.number,minColorIndex:Te.number,maxColorIndex:Te.number,minMonochrome:Te.number,maxMonochrome:Te.number,minResolution:sn,maxResolution:sn,...dU},pU={...uP,...fU};var mU={all:pU};const gU=n=>`not ${n}`,yU=(n,e)=>{const t=lP(n);return typeof e=="number"&&(e=`${e}px`),e===!0?t:e===!1?gU(t):`(${t}: ${e})`},vU=n=>n.join(" and "),_U=n=>{const e=[];return Object.keys(mU.all).forEach(t=>{const r=n[t];r!=null&&e.push(yU(t,r))}),vU(e)},wU=V.createContext(void 0),TU=n=>n.query||_U(n),oE=n=>n?Object.keys(n).reduce((t,r)=>(t[lP(r)]=n[r],t),{}):void 0,cP=()=>{const n=V.useRef(!1);return V.useEffect(()=>{n.current=!0},[]),n.current},EU=n=>{const e=V.useContext(wU),t=()=>oE(n)||oE(e),[r,s]=V.useState(t);return V.useEffect(()=>{const a=t();cU(r,a)||s(a)},[n,e]),r},SU=n=>{const e=()=>TU(n),[t,r]=V.useState(e);return V.useEffect(()=>{const s=e();t!==s&&r(s)},[n]),t},IU=(n,e)=>{const t=()=>oU(n,e||{},!!e),[r,s]=V.useState(t),a=cP();return V.useEffect(()=>{if(a){const l=t();return s(l),()=>{l&&l.dispose()}}},[n,e]),r},AU=n=>{const[e,t]=V.useState(n.matches);return V.useEffect(()=>{const r=s=>{t(s.matches)};return n.addListener(r),t(n.matches),()=>{n.removeListener(r)}},[n]),e},hP=(n,e,t)=>{const r=EU(e),s=SU(n);if(!s)throw new Error("Invalid or missing MediaQuery!");const a=IU(s,r),l=AU(a);return cP(),V.useEffect(()=>{},[l]),V.useEffect(()=>()=>{a&&a.dispose()},[]),l};var dP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aE=Bi.createContext&&Bi.createContext(dP),PU=["attr","size","title"];function CU(n,e){if(n==null)return{};var t=xU(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function xU(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function nd(){return nd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nd.apply(this,arguments)}function lE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function rd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(t),!0).forEach(function(r){RU(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function RU(n,e,t){return e=kU(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kU(n){var e=bU(n,"string");return typeof e=="symbol"?e:e+""}function bU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fP(n){return n&&n.map((e,t)=>Bi.createElement(e.tag,rd({key:t},e.attr),fP(e.child)))}function ze(n){return e=>Bi.createElement(DU,nd({attr:rd({},n.attr)},e),fP(n.child))}function DU(n){var e=t=>{var{attr:r,size:s,title:a}=n,l=CU(n,PU),c=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Bi.createElement("svg",nd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:rd(rd({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Bi.createElement("title",null,a),n.children)};return aE!==void 0?Bi.createElement(aE.Consumer,null,t=>e(t)):e(dP)}function U6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(n)}function j6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(n)}function B6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function z6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(n)}function $6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"17",x2:"17",y2:"7"},child:[]},{tag:"polyline",attr:{points:"7 7 17 7 17 17"},child:[]}]})(n)}function W6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(n)}function H6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(n)}function pP(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(n)}function q6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function K6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(n)}function G6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function Q6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(n)}function Y6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function mP(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(n)}function gP(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(n)}function X6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(n)}function NU(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(n)}function VU(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function J6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}function Z6(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(n)}function e9(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(n)}function t9(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function n9(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(n)}function r9(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function i9(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(n)}function s9(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function o9(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(n)}function a9(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(n)}function l9(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function OU(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(n)}function LU(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function MU(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(n)}function yP(...n){return n.flat().filter(Boolean).join(" ")}function vP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=vP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function FU(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=vP(n))&&(r&&(r+=" "),r+=e);return r}const uE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,cE=FU,UU=(n,e)=>t=>{var r;if(e?.variants==null)return cE(n,t?.class,t?.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(p=>{const g=t?.[p],y=a?.[p];if(g===null)return null;const w=uE(g)||uE(y);return s[p][w]}),c=t&&Object.entries(t).reduce((p,g)=>{let[y,w]=g;return w===void 0||(p[y]=w),p},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:y,className:w,...S}=g;return Object.entries(S).every(A=>{let[k,C]=A;return Array.isArray(C)?C.includes({...a,...c}[k]):{...a,...c}[k]===C})?[...p,y,w]:p},[]);return cE(n,l,d,t?.class,t?.className)},jU=UU("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:brightness-105",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"bg-transparent hover:bg-muted text-foreground",outline:"border border-border bg-background hover:bg-muted",destructive:"bg-destructive text-destructive-foreground hover:brightness-95"},size:{default:"h-11 px-4",sm:"h-9 px-3 text-sm",lg:"h-12 px-5 text-base",icon:"h-11 w-11 p-0"}},defaultVariants:{variant:"default",size:"default"}});function Rh({className:n,variant:e,size:t,asChild:r=!1,...s}){const a=r?"span":"button";return te.jsx(a,{className:yP(jU({variant:e,size:t}),n),...s})}Rh.propTypes={className:Te.string,variant:Te.oneOf(["default","secondary","ghost","outline","destructive"]),size:Te.oneOf(["default","sm","lg","icon"]),asChild:Te.bool};function Ny({className:n,children:e,variant:t="secondary",...r}){const s="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors",a={default:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",outline:"border border-border text-foreground",success:"bg-emerald-500/15 text-emerald-600",danger:"bg-rose-500/15 text-rose-600"};return te.jsx("span",{className:yP(s,a[t],n),...r,children:e})}Ny.propTypes={className:Te.string,children:Te.node,variant:Te.oneOf(["default","secondary","outline","success","danger"])};const BU=()=>{const{currentUser:n,logout:e}=so(),{isDemo:t,transactions:r,maxTransactions:s,clearTransactions:a,stopDemo:l}=Dy(),c=si(),d=ld(),p=hP({maxWidth:768}),{t:g}=ju(),y=async()=>{await e(),d("/")},w=async()=>{window.confirm(g("navbar.demoExitConfirm"))&&(await a?.(),l?.(),d("/"))},S=[{label:g("navbar.dashboard"),path:"/dashboard",icon:te.jsx(mP,{})},{label:g("navbar.transactions"),path:"/transactions",icon:te.jsx(gP,{})},{label:g("navbar.analytics"),path:"/analytics",icon:te.jsx(pP,{})}];return te.jsx(jg.nav,{initial:{y:-24},animate:{y:0},transition:{duration:.4},className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-xl",children:te.jsxs("div",{className:"mx-auto flex h-16 max-w-6xl items-center justify-between px-4 lg:px-6",children:[te.jsxs(wp,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:[te.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-primary text-primary-foreground shadow-lg",children:te.jsx(MU,{})}),te.jsx("span",{className:"hidden sm:block",children:"Soldi Sotto"})]}),t&&te.jsxs(Ny,{variant:"secondary",className:"hidden sm:inline-flex",children:[r.length,"/",s," demo"]}),!p&&te.jsxs("div",{className:"flex items-center gap-2",children:[(n||t)&&S.map(A=>te.jsxs(wp,{to:A.path,className:`inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition ${c.pathname===A.path?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[A.icon,A.label]},A.path)),n&&te.jsx(wp,{to:"/profile",className:`rounded-lg px-3 py-2 text-sm font-medium transition ${c.pathname==="/profile"?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:g("navbar.profile")}),t&&!n&&te.jsxs(te.Fragment,{children:[te.jsx(Rh,{variant:"outline",size:"sm",onClick:w,children:g("navbar.backToHome")}),te.jsx(Rh,{size:"sm",onClick:()=>d("/register"),children:g("navbar.register")})]}),n&&te.jsxs(Rh,{variant:"outline",size:"sm",onClick:y,className:"flex items-center gap-2",children:[te.jsx(VU,{className:"h-4 w-4"})," ",g("navbar.logout")]})]})]})})},zU=()=>{const n=si(),e=ld(),{currentUser:t}=so(),{isDemo:r,transactions:s,maxTransactions:a,startDemo:l}=Dy(),[c,d]=V.useState(!0),[p,g]=V.useState(0),{t:y}=ju();V.useEffect(()=>{let A=!1;const k=()=>{A||(window.requestAnimationFrame(()=>{const C=window.scrollY;d(C<p||C<20),g(C),A=!1}),A=!0)};return window.addEventListener("scroll",k,{passive:!0}),()=>window.removeEventListener("scroll",k)},[p]);const w=[{key:"/dashboard",icon:te.jsx(mP,{size:20}),label:y("navbar.dashboard"),path:"/dashboard"},{key:"/transactions",icon:te.jsx(gP,{size:20}),label:y("navbar.transactions"),path:"/transactions",badge:r?`${s.length}/${a}`:null},{key:"/analytics",icon:te.jsx(pP,{size:20}),label:y("navbar.analytics"),path:"/analytics"},...t?[{key:"/profile",icon:te.jsx(LU,{size:20}),label:y("navbar.profile"),path:"/profile"}]:[{key:"login",icon:te.jsx(NU,{size:20}),label:y("navLogin"),action:()=>e("/login")},{key:"register",icon:te.jsx(OU,{size:20}),label:y("navRegister"),action:()=>e("/register")}]],S=A=>{A.action?A.action():e(A.path)};return te.jsxs("div",{className:`fixed bottom-0 left-0 right-0 z-40 border-t border-border bg-background/90 backdrop-blur-xl transition-transform duration-300 ${c?"translate-y-0":"translate-y-full"}`,style:{height:"70px"},children:[te.jsx("div",{className:"mx-auto flex h-full max-w-5xl items-center justify-around px-4",children:w.map(A=>{const k=n.pathname===A.path;return te.jsxs("button",{onClick:()=>S(A),className:`relative flex flex-col items-center gap-1 rounded-xl px-3 py-2 text-xs font-semibold transition ${k?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[te.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${k?"bg-primary/15 text-primary shadow-sm":"bg-muted text-foreground"}`,children:A.icon}),te.jsx("span",{className:"text-[11px]",children:A.label}),A.badge&&te.jsx(Ny,{variant:"secondary",className:"absolute -top-1 -right-2",children:A.badge})]},A.key)})}),!t&&!r&&te.jsx("div",{className:"px-4 pb-3",children:te.jsx("button",{onClick:l,className:"w-full rounded-xl bg-gradient-to-r from-primary to-emerald-500 py-2 text-sm font-semibold text-white shadow-lg",children:y("landing.tryDemo")})})]})},_P=({children:n})=>{_P.propTypes={children:Te.node.isRequired};const e=si(),{currentUser:t}=so(),{isDemo:r}=Dy(),s=hP({maxWidth:768}),c=!["/","/login","/register"].includes(e.pathname)&&(t||r);return te.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[c&&!s&&te.jsx(BU,{}),te.jsx("main",{className:`flex-1 relative overflow-x-hidden transition-all ${c?"pt-6 pb-20 md:pt-20 md:pb-6 px-4 md:px-8":"p-0"}`,children:te.jsx("div",{className:"mx-auto w-full max-w-6xl space-y-6",children:n})}),c&&s&&te.jsx(zU,{})]})},$U=V.lazy(()=>ii(()=>import("./Dashboard-B6b4y6L5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),WU=V.lazy(()=>ii(()=>import("./TransactionList-Dj_NxxAW.js"),__vite__mapDeps([10,1,2,3,4,5,7,11]))),HU=V.lazy(()=>ii(()=>import("./TransactionAnalytics-Bq1Gwhgb.js"),__vite__mapDeps([12,7,2,4,5,6,13,11,9]))),qU=V.lazy(()=>ii(()=>import("./Stats-BmG1EpPP.js"),__vite__mapDeps([14,8,4,5,9,13,7,11,15,6]))),KU=V.lazy(()=>ii(()=>import("./Profile-Z_rLu0Hb.js"),__vite__mapDeps([16,7,3,6]))),GU=V.lazy(()=>ii(()=>import("./Home-1qBXI4wH.js"),__vite__mapDeps([17,18,6,15]))),QU=V.lazy(()=>ii(()=>import("./LandingPage-QQAIZZw2.js"),__vite__mapDeps([18,6]))),YU=V.lazy(()=>ii(()=>import("./Login-BjrqMuD8.js"),__vite__mapDeps([19,3]))),XU=V.lazy(()=>ii(()=>import("./Register-DHwwVwYf.js"),__vite__mapDeps([20,3]))),wP=()=>te.jsx(zE,{children:te.jsx(jg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"flex min-h-screen items-center justify-center bg-background",children:te.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})},"pageloader")}),Xm=({children:n})=>{Xm.propTypes={children:Te.node.isRequired};const{currentUser:e,loading:t}=so();return t?te.jsx(wP,{}):e?te.jsx(FE,{to:"/dashboard",replace:!0}):n},JU=()=>{const n=si(),e=[{path:"/",element:te.jsx(GU,{})},{path:"/login",element:te.jsx(Xm,{children:te.jsx(YU,{})})},{path:"/register",element:te.jsx(Xm,{children:te.jsx(XU,{})})},{path:"/dashboard",element:te.jsx($U,{})},{path:"/transactions",element:te.jsx(WU,{})},{path:"/analytics",element:te.jsx(HU,{})},{path:"/stats",element:te.jsx(qU,{})},{path:"/profile",element:te.jsx(KU,{})},{path:"/landing",element:te.jsx(QU,{})},{path:"*",element:te.jsx(FE,{to:"/",replace:!0})}];return te.jsx(_P,{children:te.jsx(zE,{mode:"wait",children:te.jsx(V.Suspense,{fallback:te.jsx(wP,{}),children:te.jsx(Mx,{location:n,children:e.map(({path:t,element:r})=>te.jsx(UE,{path:t,element:te.jsx(jg.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:-24},transition:{duration:.28,ease:"easeInOut"},style:{minHeight:"100vh"},children:r})},t))},n.pathname)})})})};function ZU(){return te.jsx(JU,{})}const TP=V.createContext(),u9=()=>V.useContext(TP),ej=n=>{document.documentElement.classList.toggle("dark",n),document.body.classList.toggle("dark",n),document.documentElement.classList.toggle("light",!n),document.body.classList.toggle("light",!n),document.querySelector('meta[name="theme-color"]')?.setAttribute("content",n?"#0f172a":"#f8fafc")},EP=({children:n})=>{EP.propTypes={children:Te.node.isRequired};const[e,t]=V.useState(()=>localStorage.getItem("theme")||"system"),r=V.useCallback(()=>window.matchMedia("(prefers-color-scheme: dark)").matches,[]),s=V.useCallback(c=>{let d;return c==="system"?d=r():d=c==="dark",ej(d),d},[r]),a=c=>{t(c),localStorage.setItem("theme",c),s(c)},l=()=>e==="system"?r()?"dark":"light":e;return V.useEffect(()=>{s(e);const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{e==="system"&&s("system")};return c.addEventListener("change",d),()=>c.removeEventListener("change",d)},[e,s]),te.jsx(TP.Provider,{value:{theme:e,toggleTheme:a,currentEffectiveTheme:l(),isDarkMode:l()==="dark"},children:n})},Pe=n=>typeof n=="string",Ll=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},hE=n=>n==null?"":""+n,tj=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},nj=/###/g,dE=n=>n&&n.indexOf("###")>-1?n.replace(nj,"."):n,fE=n=>!n||Pe(n),nu=(n,e,t)=>{const r=Pe(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(fE(n))return{};const a=dE(r[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return fE(n)?{}:{obj:n,k:dE(r[s])}},pE=(n,e,t)=>{const{obj:r,k:s}=nu(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=nu(n,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=nu(n,l,Object),c?.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=t},rj=(n,e,t,r)=>{const{obj:s,k:a}=nu(n,e,Object);s[a]=s[a]||[],s[a].push(t)},id=(n,e)=>{const{obj:t,k:r}=nu(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},ij=(n,e,t)=>{const r=id(n,t);return r!==void 0?r:id(e,t)},SP=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Pe(n[r])||n[r]instanceof String||Pe(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):SP(n[r],e[r],t):n[r]=e[r]);return n},Zo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var sj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const oj=n=>Pe(n)?n.replace(/[&<>"'\/]/g,e=>sj[e]):n;class aj{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const lj=[" ",",","?","!",";"],uj=new aj(20),cj=(n,e,t)=>{e=e||"",t=t||"";const r=lj.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(r.length===0)return!0;const s=uj.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!s.test(n);if(!a){const l=n.indexOf(t);l>0&&!s.test(n.substring(0,l))&&(a=!0)}return a},Jm=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let s=n;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let l,c="";for(let d=a;d<r.length;++d)if(d!==a&&(c+=t),c+=r[d],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;a+=d-a+1;break}s=l}return s},Eu=n=>n?.replace("_","-"),hj={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class sd{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||hj,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(Pe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new sd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new sd(this.logger,e)}}var wr=new sd;class jd{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s.apply(s,[e,...t])})}}class mE extends jd{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,s={}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],r&&(Array.isArray(r)?c.push(...r):Pe(r)&&a?c.push(...r.split(a)):c.push(r)));const d=id(this.data,c);return!d&&!t&&!r&&e.indexOf(".")>-1&&(e=c[0],t=c[1],r=c.slice(2).join(".")),d||!l||!Pe(r)?d:Jm(this.data?.[e]?.[t],r,a)}addResource(e,t,r,s,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,t];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),s=t,t=c[1]),this.addNamespaces(t),pE(this.data,c,s),a.silent||this.emit("added",e,t,r,s)}addResources(e,t,r,s={silent:!1}){for(const a in r)(Pe(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,a,l={silent:!1,skipCopy:!1}){let c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),s=r,r=t,t=c[1]),this.addNamespaces(t);let d=id(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?SP(d,r,a):d={...d,...r},pE(this.data,c,d),l.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var IP={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(a=>{e=this.processors[a]?.process(e,t,r,s)??e}),e}};const AP=Symbol("i18next/PATH_KEY");function dj(){const n=[],e=Object.create(null);let t;return e.get=(r,s)=>(t?.revoke?.(),s===AP?n:(n.push(s),t=Proxy.revocable(r,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Zm(n,e){const{[AP]:t}=n(dj());return t.join(e?.keySeparator??".")}const gE={},Jp=n=>!Pe(n)&&typeof n!="boolean"&&typeof n!="number";class od extends jd{constructor(e,t={}){super(),tj(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=wr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const s=this.resolve(e,r);if(s?.res===void 0)return!1;const a=Jp(s.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!cj(e,r,s);if(l&&!c){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Pe(a)?[a]:a};const p=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(p[0])>-1)&&(a=p.shift()),e=p.join(s)}return{key:e,namespaces:Pe(a)?[a]:a}}translate(e,t,r){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Zm(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],s),p=d[d.length-1];let g=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const y=s.lng||this.language,w=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y?.toLowerCase()==="cimode")return w?a?{res:`${p}${g}${c}`,usedKey:c,exactUsedKey:c,usedLng:y,usedNS:p,usedParams:this.getUsedParamsDetails(s)}:`${p}${g}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:y,usedNS:p,usedParams:this.getUsedParamsDetails(s)}:c;const S=this.resolve(e,s);let A=S?.res;const k=S?.usedKey||c,C=S?.exactUsedKey||c,z=["[object Number]","[object Function]","[object RegExp]"],U=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,W=!this.i18nFormat||this.i18nFormat.handleAsObject,K=s.count!==void 0&&!Pe(s.count),Q=od.hasDefaultValue(s),re=K?this.pluralResolver.getSuffix(y,s.count,s):"",D=s.ordinal&&K?this.pluralResolver.getSuffix(y,s.count,{ordinal:!1}):"",P=K&&!s.ordinal&&s.count===0,x=P&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${re}`]||s[`defaultValue${D}`]||s.defaultValue;let N=A;W&&!A&&Q&&(N=x);const M=Jp(N),j=Object.prototype.toString.apply(N);if(W&&N&&M&&z.indexOf(j)<0&&!(Pe(U)&&Array.isArray(N))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,N,{...s,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(S.res=b,S.usedParams=this.getUsedParamsDetails(s),S):b}if(l){const b=Array.isArray(N),Ne=b?[]:{},yt=b?C:k;for(const Ke in N)if(Object.prototype.hasOwnProperty.call(N,Ke)){const ve=`${yt}${l}${Ke}`;Q&&!A?Ne[Ke]=this.translate(ve,{...s,defaultValue:Jp(x)?x[Ke]:void 0,joinArrays:!1,ns:d}):Ne[Ke]=this.translate(ve,{...s,joinArrays:!1,ns:d}),Ne[Ke]===ve&&(Ne[Ke]=N[Ke])}A=Ne}}else if(W&&Pe(U)&&Array.isArray(A))A=A.join(U),A&&(A=this.extendTranslation(A,e,s,r));else{let b=!1,Ne=!1;!this.isValidLookup(A)&&Q&&(b=!0,A=x),this.isValidLookup(A)||(Ne=!0,A=c);const Ke=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ne?void 0:A,ve=Q&&x!==A&&this.options.updateMissing;if(Ne||b||ve){if(this.logger.log(ve?"updateKey":"missingKey",y,p,c,ve?x:A),l){const F=this.resolve(c,{...s,keySeparator:!1});F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ie=[];const fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(let F=0;F<fe.length;F++)ie.push(fe[F]);else this.options.saveMissingTo==="all"?ie=this.languageUtils.toResolveHierarchy(s.lng||this.language):ie.push(s.lng||this.language);const ae=(F,Y,pe)=>{const Re=Q&&pe!==A?pe:Ke;this.options.missingKeyHandler?this.options.missingKeyHandler(F,p,Y,Re,ve,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(F,p,Y,Re,ve,s),this.emit("missingKey",F,p,Y,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?ie.forEach(F=>{const Y=this.pluralResolver.getSuffixes(F,s);P&&s[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(pe=>{ae([F],c+pe,s[`defaultValue${pe}`]||x)})}):ae(ie,c,x))}A=this.extendTranslation(A,e,s,S,r),Ne&&A===c&&this.options.appendNamespaceToMissingKey&&(A=`${p}${g}${c}`),(Ne||b)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${g}${c}`:c,b?A:void 0,s))}return a?(S.res=A,S.usedParams=this.getUsedParamsDetails(s),S):A}extendTranslation(e,t,r,s,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=Pe(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(d){const y=e.match(this.interpolator.nestingRegexp);p=y&&y.length}let g=r.replace&&!Pe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,r.lng||this.language||s.usedLng,r),d){const y=e.match(this.interpolator.nestingRegexp),w=y&&y.length;p<w&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...y)=>a?.[0]===y[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${t[0]}`),null):this.translate(...y,t),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=Pe(l)?[l]:l;return e!=null&&c?.length&&r.applyPostProcessor!==!1&&(e=IP.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,s,a,l,c;return Pe(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const p=this.extractFromKey(d,t),g=p.key;s=g;let y=p.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const w=t.count!==void 0&&!Pe(t.count),S=w&&!t.ordinal&&t.count===0,A=t.context!==void 0&&(Pe(t.context)||typeof t.context=="number")&&t.context!=="",k=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);y.forEach(C=>{this.isValidLookup(r)||(c=C,!gE[`${k[0]}-${C}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(gE[`${k[0]}-${C}`]=!0,this.logger.warn(`key "${s}" for languages "${k.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),k.forEach(z=>{if(this.isValidLookup(r))return;l=z;const U=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(U,g,z,C,t);else{let K;w&&(K=this.pluralResolver.getSuffix(z,t.count,t));const Q=`${this.options.pluralSeparator}zero`,re=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(t.ordinal&&K.indexOf(re)===0&&U.push(g+K.replace(re,this.options.pluralSeparator)),U.push(g+K),S&&U.push(g+Q)),A){const D=`${g}${this.options.contextSeparator||"_"}${t.context}`;U.push(D),w&&(t.ordinal&&K.indexOf(re)===0&&U.push(D+K.replace(re,this.options.pluralSeparator)),U.push(D+K),S&&U.push(D+Q))}}let W;for(;W=U.pop();)this.isValidLookup(r)||(a=W,r=this.getResource(z,C,W,t))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Pe(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const a of t)delete s[a]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class yE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=wr.create("languageUtils")}getScriptPartFromCode(e){if(e=Eu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Eu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Pe(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return t=s;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Pe(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],a=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Pe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Pe(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{s.indexOf(l)<0&&a(this.formatLanguageCode(l))}),s}}const vE={zero:0,one:1,two:2,few:3,many:4,other:5},_E={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class fj{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=wr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Eu(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),_E;if(!e.match(/-|_/))return _E;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,t)}return this.pluralRulesCache[a]=l,l}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((s,a)=>vE[s]-vE[a]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const wE=(n,e,t,r=".",s=!0)=>{let a=ij(n,e,t);return!a&&s&&Pe(t)&&(a=Jm(n,t,r),a===void 0&&(a=Jm(e,t,r))),a},Zp=n=>n.replace(/\$/g,"$$$$");class pj{constructor(e={}){this.logger=wr.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:p,unescapeSuffix:g,unescapePrefix:y,nestingPrefix:w,nestingPrefixEscaped:S,nestingSuffix:A,nestingSuffixEscaped:k,nestingOptionsSeparator:C,maxReplaces:z,alwaysFormat:U}=e.interpolation;this.escape=t!==void 0?t:oj,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?Zo(a):l||"{{",this.suffix=c?Zo(c):d||"}}",this.formatSeparator=p||",",this.unescapePrefix=g?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=w?Zo(w):S||Zo("$t("),this.nestingSuffix=A?Zo(A):k||Zo(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=z||1e3,this.alwaysFormat=U!==void 0?U:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let a,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=S=>{if(S.indexOf(this.formatSeparator)<0){const z=wE(t,d,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(z,void 0,r,{...s,...t,interpolationkey:S}):z}const A=S.split(this.formatSeparator),k=A.shift().trim(),C=A.join(this.formatSeparator).trim();return this.format(wE(t,d,k,this.options.keySeparator,this.options.ignoreJSONStructure),C,r,{...s,...t,interpolationkey:k})};this.resetRegExp();const g=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,y=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>Zp(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?Zp(this.escape(S)):Zp(S)}].forEach(S=>{for(c=0;a=S.regex.exec(e);){const A=a[1].trim();if(l=p(A),l===void 0)if(typeof g=="function"){const C=g(e,a,s);l=Pe(C)?C:""}else if(s&&Object.prototype.hasOwnProperty.call(s,A))l="";else if(y){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${A} for interpolating ${e}`),l="";else!Pe(l)&&!this.useRawValueToEscape&&(l=hE(l));const k=S.safeValue(l);if(e=e.replace(a[0],k),y?(S.regex.lastIndex+=l.length,S.regex.lastIndex-=a[0].length):S.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t,r={}){let s,a,l;const c=(d,p)=>{const g=this.nestingOptionsSeparator;if(d.indexOf(g)<0)return d;const y=d.split(new RegExp(`${g}[ ]*{`));let w=`{${y[1]}`;d=y[0],w=this.interpolate(w,l);const S=w.match(/'/g),A=w.match(/"/g);((S?.length??0)%2===0&&!A||A.length%2!==0)&&(w=w.replace(/'/g,'"'));try{l=JSON.parse(w),p&&(l={...p,...l})}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,k),`${d}${g}${w}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;s=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!Pe(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const p=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(p!==-1&&(d=s[1].slice(p).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),s[1]=s[1].slice(0,p)),a=t(c.call(this,s[1].trim(),l),l),a&&s[0]===e&&!Pe(a))return a;Pe(a)||(a=hE(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),d.length&&(a=d.reduce((g,y)=>this.format(g,y,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const mj=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),p=d.join(":").trim().replace(/^'+|'+$/g,""),g=c.trim();t[g]||(t[g]=p),p==="false"&&(t[g]=!1),p==="true"&&(t[g]=!0),isNaN(p)||(t[g]=parseInt(p,10))}})}return{formatName:e,formatOptions:t}},TE=n=>{const e={};return(t,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const l=r+JSON.stringify(a);let c=e[l];return c||(c=n(Eu(r),s),e[l]=c),c(t)}},gj=n=>(e,t,r)=>n(Eu(t),r)(e);class yj{constructor(e={}){this.logger=wr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?TE:gj;this.formats={number:r((s,a)=>{const l=new Intl.NumberFormat(s,{...a});return c=>l.format(c)}),currency:r((s,a)=>{const l=new Intl.NumberFormat(s,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((s,a)=>{const l=new Intl.DateTimeFormat(s,{...a});return c=>l.format(c)}),relativetime:r((s,a)=>{const l=new Intl.RelativeTimeFormat(s,{...a});return c=>l.format(c,a.range||"day")}),list:r((s,a)=>{const l=new Intl.ListFormat(s,{...a});return c=>l.format(c)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=TE(t)}format(e,t,r,s={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,d)=>{const{formatName:p,formatOptions:g}=mj(d);if(this.formats[p]){let y=c;try{const w=s?.formatParams?.[s.interpolationkey]||{},S=w.locale||w.lng||s.locale||s.lng||r;y=this.formats[p](c,S,{...g,...s,...w})}catch(w){this.logger.warn(w)}return y}else this.logger.warn(`there was no format function for ${p}`);return c},e)}}const vj=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class _j extends jd{constructor(e,t,r,s={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=wr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(e,t,r,s){const a={},l={},c={},d={};return e.forEach(p=>{let g=!0;t.forEach(y=>{const w=`${p}|${y}`;!r.reload&&this.store.hasResourceBundle(p,y)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?l[w]===void 0&&(l[w]=!0):(this.state[w]=1,g=!1,l[w]===void 0&&(l[w]=!0),a[w]===void 0&&(a[w]=!0),d[y]===void 0&&(d[y]=!0)))}),g||(c[p]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,t,r){const s=e.split("|"),a=s[0],l=s[1];t&&this.emit("failedLoading",a,l,t),!t&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const c={};this.queue.forEach(d=>{rj(d.loaded,[a],l),vj(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(p=>{c[p]||(c[p]={});const g=d.loaded[p];g.length&&g.forEach(y=>{c[p][y]===void 0&&(c[p][y]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,t,r,s=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:a,callback:l});return}this.readingCalls++;const c=(p,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(p&&g&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,a*2,l)},a);return}l(p,g)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const p=d(e,t);p&&typeof p.then=="function"?p.then(g=>c(null,g)).catch(c):c(null,p)}catch(p){c(p)}return}return d(e,t,c)}prepareLoading(e,t,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Pe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pe(t)&&(t=[t]);const a=this.queueLoad(e,t,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${t}loading namespace ${a} for language ${s} failed`,l),!l&&c&&this.logger.log(`${t}loaded namespace ${a} for language ${s}`,c),this.loaded(e,l,c)})}saveMissing(e,t,r,s,a,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const d={...l,isUpdate:a},p=this.backend.create.bind(this.backend);if(p.length<6)try{let g;p.length===5?g=p(e,t,r,s,d):g=p(e,t,r,s),g&&typeof g.then=="function"?g.then(y=>c(null,y)).catch(c):c(null,g)}catch(g){c(g)}else p(e,t,r,s,c,d)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const EE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Pe(n[1])&&(e.defaultValue=n[1]),Pe(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),SE=n=>(Pe(n.ns)&&(n.ns=[n.ns]),Pe(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Pe(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),ph=()=>{},wj=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class ru extends jd{constructor(e={},t){if(super(),this.options=SE(e),this.services={},this.logger=wr,this.modules={external:[]},wj(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Pe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=EE();this.options={...r,...this.options,...SE(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?wr.init(s(this.modules.logger),this.options):wr.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=yj;const g=new yE(this.options);this.store=new mE(this.options.resources,this.options);const y=this.services;y.logger=wr,y.resourceStore=this.store,y.languageUtils=g,y.pluralResolver=new fj(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(y.formatter=s(p),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new pj(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new _j(s(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(S,...A)=>{this.emit(S,...A)}),this.modules.languageDetector&&(y.languageDetector=s(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=s(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new od(this.services,this.options),this.translator.on("*",(S,...A)=>{this.emit(S,...A)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,t||(t=ph),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...g)=>this.store[p](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...g)=>(this.store[p](...g),this)});const c=Ll(),d=()=>{const p=(g,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(y),t(g,y)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e,t=ph){let r=t;const s=Pe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(p=>{p!=="cimode"&&a.indexOf(p)<0&&a.push(p)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,t,r){const s=Ll();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=ph),this.services.backendConnector.reload(e,t,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&IP.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Ll();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,d)=>{d?this.isLanguageChangingTo===e&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...p)=>this.t(...p)),t&&t(c,(...p)=>this.t(...p))},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=Pe(c)?c:c&&c[0],p=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Pe(c)?[c]:c);p&&(this.language||s(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,g=>{a(g,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,t,r){const s=(a,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([a,l].concat(c)):d={...l},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||s.keyPrefix);const p=this.options.keySeparator||".";let g;return d.keyPrefix&&Array.isArray(a)?g=a.map(y=>(typeof y=="function"&&(y=Zm(y,{...this.options,...l})),`${d.keyPrefix}${p}${y}`)):(typeof a=="function"&&(a=Zm(a,{...this.options,...l})),g=d.keyPrefix?`${d.keyPrefix}${p}${a}`:a),this.t(g,d)};return Pe(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const p=this.services.backendConnector.state[`${c}|${d}`];return p===-1||p===0||p===2};if(t.precheck){const c=t.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!s||l(a,e)))}loadNamespaces(e,t){const r=Ll();return this.options.ns?(Pe(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Ll();Pe(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=s.concat(a),this.loadResources(l=>{r.resolve(),t&&t(l)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new yE(EE());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const r=new ru(e,t);return r.createInstance=ru.createInstance,r}cloneInstance(e={},t=ph){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new ru(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const c=Object.keys(this.store.data).reduce((d,p)=>(d[p]={...this.store.data[p]},d[p]=Object.keys(d[p]).reduce((g,y)=>(g[y]={...d[p][y]},g),d[p]),d),{});a.store=new mE(c,s),a.services.resourceStore=a.store}return a.translator=new od(a.services,s),a.translator.on("*",(c,...d)=>{a.emit(c,...d)}),a.init(s,t),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const on=ru.createInstance();on.createInstance;on.dir;on.init;on.loadResources;on.reloadResources;on.use;on.changeLanguage;on.getFixedT;on.t;on.exists;on.setDefaultNamespace;on.hasLoadedNamespace;on.loadNamespaces;on.loadLanguages;const{slice:Tj,forEach:Ej}=[];function Sj(n){return Ej.call(Tj.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function Ij(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const IE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Aj=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let a=`${n}=${s}`;if(r.maxAge>0){const l=r.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(l)}`}if(r.domain){if(!IE.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!IE.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},AE={create(n,e,t,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+t*60*1e3)),r&&(s.domain=r),document.cookie=Aj(n,e,s)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let s=t[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var Pj={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return AE.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:s,cookieOptions:a}=e;t&&typeof document<"u"&&AE.create(t,n,r,s,a)}},Cj={name:"querystring",lookup(n){let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const a=r.substring(1).split("&");for(let l=0;l<a.length;l++){const c=a[l].indexOf("=");c>0&&a[l].substring(0,c)===e&&(t=a[l].substring(c+1))}}return t}},xj={name:"hash",lookup(n){let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const a=s.substring(1);if(e){const l=a.split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===e&&(r=l[c].substring(d+1))}}if(r)return r;if(!r&&t>-1){const l=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return r}};let ea=null;const PE=()=>{if(ea!==null)return ea;try{if(ea=typeof window<"u"&&window.localStorage!==null,!ea)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{ea=!1}return ea};var Rj={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&PE())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&PE()&&window.localStorage.setItem(t,n)}};let ta=null;const CE=()=>{if(ta!==null)return ta;try{if(ta=typeof window<"u"&&window.sessionStorage!==null,!ta)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{ta=!1}return ta};var kj={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&CE())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&CE()&&window.sessionStorage.setItem(t,n)}},bj={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:s}=navigator;if(t)for(let a=0;a<t.length;a++)e.push(t[a]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},Dj={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},Nj={name:"path",lookup(n){let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},Vj={name:"subdomain",lookup(n){let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}};let PP=!1;try{document.cookie,PP=!0}catch{}const CP=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];PP||CP.splice(1,1);const Oj=()=>({order:CP,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class xP{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Sj(t,this.options||{},Oj()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Pj),this.addDetector(Cj),this.addDetector(Rj),this.addDetector(kj),this.addDetector(bj),this.addDetector(Dj),this.addDetector(Nj),this.addDetector(Vj),this.addDetector(xj)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(t=t.concat(s))}}),t=t.filter(r=>r!=null&&!Ij(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}xP.type="languageDetector";const Lj="SoldiSotto",Mj="Hello!",Fj="Add Transaction",Uj="Quick Actions",jj={title:"Recent Transactions",viewAll:"View all",manageAll:"Manage all transactions",emptyTitle:"No transactions yet",emptyDescription:"Start by adding your first transaction to see the summary here.",addFirst:"Add your first transaction"},Bj="Income",zj="Expense",$j="Manage All",Wj={statsTitle:"Your Statistics",settingsTitle:"Settings",theme:"Appearance",themeLight:"Light",themeDark:"Dark",themeSystem:"System",currentTheme:"Current theme",language:"Language",currentLanguage:"Current language",username:"Username",edit:"Edit",currentUsername:"Current username",totalTransactions:"Total Transactions",currentBalance:"Current Balance",daysActive:"Days Active",days:"days",user:"User",registeredOn:"Registered on",dateNotAvailable:"Date not available",account:"Account",accountInfo:"Your settings are saved automatically. Your data is protected with end-to-end encryption.",backToDashboard:"Back to Dashboard",editUsername:"Edit Username",newUsername:"New Username",usernamePlaceholder:"Enter new username",usernameHelp:"Username must be at least 3 characters and availability will be verified",updating:"Updating...",usernameMinLength:"Username must be at least 3 characters",usernameSame:"Username is the same as current",usernameConfirm:`Are you sure you want to change your username from "{{currentUsername}}" to "{{newUsername}}"?

This action cannot be undone.`,usernameUnavailable:"Username already taken",usernameSuccess:"Username updated successfully!",usernameError:"Error updating username",usernamePermissionError:"Insufficient permissions to update username",usernameNetworkError:"Connection error. Please try again later"},Hj="Logout",qj="Login",Kj="Register",Gj="What do you want to record today?",Qj="Managing your finances is the first step to freedom.",Yj="No transactions yet. Add your first one!",Xj="Your Transactions",Jj="Search transactions...",Zj="Type",e3="Amount ()",t3="Date",n3="Description",r3="Category",i3="Cancel",s3="Add",o3="Are you sure you want to delete this transaction? This action cannot be undone.",a3="Edit",l3="Save",u3="Actions",c3="No data available.",h3="Loading...",d3="An error occurred.",f3={title:"Create Account",subtitle:"Start your financial journey",username:"Username",usernamePlaceholder:"choose a username",usernameHelp:"Min. 3 characters",usernameMin:"Min. 3 characters",email:"Email",emailPlaceholder:"your email",password:"Password",passwordPlaceholder:"create a password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"repeat your password",registerButton:"Create Account",haveAccount:"Already have an account?",loginNow:"Login now",backToHome:"Back to Home"},p3={title:"Welcome back!",subtitle:"Sign in to your account",usernameOrEmail:"Email",usernameOrEmailPlaceholder:"Email",usernameOrEmailHelp:"Enter your registration email to sign in",password:"Password",passwordPlaceholder:"enter your password",loginButton:"Login",noAccount:"Don't have an account?",registerNow:"Register now",backToHome:"Back to Home"},m3="Are you sure you want to logout?",g3={title:"Dashboard",addTransaction:"Add Transaction",motivationalQuotes:["Every euro saved is a euro earned.","The best investment is you.","Small steps, big results.","Managing your finances is the first step to freedom.","Don't count the cents, make them count!","Wealth is built one day at a time.","The future belongs to those who plan it.","Save today to live better tomorrow.","It's not how much you earn, but how much you save that counts.","Financial discipline is the key to success."]},y3={add:"Add Transaction",edit:"Edit Transaction",delete:"Delete Transaction",confirmDelete:"Are you sure you want to delete this transaction? This action cannot be undone.",empty:"No transactions yet. Add your first one!",amount:"Amount ()",date:"Date",description:"Description",category:"Category",type:"Transaction Type",income:"Income",expense:"Expense",addIncome:"Add Income",addExpense:"Add Expense",saveChanges:"Save Changes",cancel:"Cancel"},v3={dashboard:"Dashboard",transactions:"Transactions",analytics:"Analytics",profile:"Profile",logout:"Logout",register:"Register",backToHome:"Back to Home",demoExitConfirm:"You will exit demo mode and return to the landing page. Continue?"},_3={heroTitle:"Soldi Sotto",heroSubtitle:"Your personal finance under control. Manage income and expenses, view detailed statistics and make informed decisions for your financial future.",tryDemo:"Try Free Demo",register:"Register Free",login:"Login",mainFeatures:"Main Features",mainFeaturesDescription:"Everything you need to manage your finances professionally",startToday:"Start Today",chooseHowToStart:"Choose how to start your journey to financial freedom",demo:"Free Demo",premium:"Full Account",free:"Free",demoFeatures:[" Up to 10 demo transactions"," All basic features"," View statistics"," No registration required"],premiumFeatures:[" Unlimited transactions"," Advanced PDF export"," Detailed analytics"," Secure cloud backup"," Priority support"],heroBody:"Complete income/expense tracking, clear charts and professional PDFs, ready for web and mobile.",highlights:{mobile:"Optimized for mobile",security:"Auth + cloud ready"},features:{analyticsDesc:"Clear analytics and period comparisons.",pdfDesc:"Ready-to-use PDF reports.",securityTitle:"Cloud + security",securityDesc:"Data protected with backup and Firebase auth."},ctaTitle:"Ready to Take Control of Your Finances?",ctaSubtitle:"Join thousands of users who have already transformed their financial management"},w3={title:"Financial Overview",totalIncome:"Total Income",totalExpense:"Total Expense",balance:"Balance",totalTransactions:"total transactions"},T3={title:"Analytics & Insights",subtitle:"Analyze your financial habits and discover hidden patterns",thisMonth:"This month",lastMonth:"Last month",last3Months:"Last 3 months",thisYear:"This year",custom:"Custom...",from:"From",to:"to",demoMode:"Demo Mode Active",demoDescription:"Viewing demo analytics with {{current}}/{{max}} transactions. Register for complete and historical analytics!",totalIncome:"Total Income",totalExpense:"Total Expense",balance:"Balance",savingsRate:"Savings Rate",exportCsv:"Export CSV",exportPdf:"Export PDF",topExpenseCategories:"Top Expense Categories",topIncomeCategories:"Top Income Categories",ofTotal:"of total",noExpenseData:"No expenses in selected period",noIncomeData:"No income in selected period",monthlyTrend:"Last 6 Months Trend",insufficientData:"Insufficient data to show trend",avgDailyExpense:"Average Daily Expense",avgTransaction:"Average Transaction",avgTransactionDescription:"Average amount per transaction",totalTransactions:"Total Transactions",inSelectedPeriod:"In selected period"},E3={title:"Statistics",subtitle:"Summary of your transactions and key indicators to stay in control",loginTitle:"Statistics available after login",loginSubtitle:"Sign in or start the demo to see charts, averages and PDF reports.",tryDemo:"Try demo",downloadPdf:"Download PDF Report",pdfLoginNotice:"PDF download is available after logging in.",transactions:"Transactions",dailyAverages:"Daily averages",avgIncome:"Avg income",avgExpense:"Avg expense",savingsRate:"Savings rate",savingPositive:"You are saving!",savingNegative:"You are spending more than you earn",incomeVsExpense:"Income vs Expense",movements:"moves",period:"On selected period",categoryBreakdown:"Expenses by category",ofExpenses:"of expenses",emptyTitle:"No transactions found",emptySubtitle:"There are no transactions for this period. Try another range or add new transactions."},S3={addSuccess:"Transaction added successfully!",addError:"Error adding transaction",updateSuccess:"Transaction updated successfully!",updateError:"Error updating transaction",deleteSuccess:"Transaction deleted successfully!",deleteError:"Error deleting transaction",success:"Success",warning:"Warning",info:"Info"},I3={editTitle:"Edit Transaction",newTitle:"New Transaction",editSubtitle:"Modify transaction details",newSubtitle:"Quickly add a new transaction",type:"Transaction Type",expense:"Expense",income:"Income",amount:"Amount ()",amountPlaceholder:"0.00",date:"Date",description:"Description",descriptionPlaceholder:"E.g. Grocery shopping, Salary...",category:"Category",selectCategory:"Select a category",cancel:"Cancel",saving:"Saving...",adding:"Adding...",saveChanges:"Save Changes",addButton:"Add {{type}}"},A3={title:"Your transactions",loadingTransactions:"Loading transactions...",accessRequired:"Access required",loginRequired:"Please login to view your transactions",today:"Today",yesterday:"Yesterday",of:"of",demoMode:"Demo Mode",transactions:"transactions",deleteConfirm:"Delete Permanently",filters:{label:"Filters",show:"Show Filters",hide:"Hide Filters",today:"Today",week:"Week",month:"Month",year:"Year",all:"All",allTypes:"All"},empty:{title:"No transactions found",tryFilters:"Try modifying your search filters",addFirst:"Start by adding your first transaction"}},P3={alimentazione:"Food",supermercato:"Groceries",trasporti:"Transportation",casa:"Home",intrattenimento:"Entertainment",abbonamenti:"Subscriptions",salute:"Health",viaggi:"Travel",shopping:"Shopping",altro:"Other",stipendio:"Salary",bonus:"Bonus",regalo:"Gift",vendite:"Sales",rimborso:"Refund",freelance:"Freelance",investimenti:"Investments"},C3={modalityActive:"Demo Mode Active",transactionsUsed:"You have used {{used}}/{{total}} demo transactions.",registerForComplete:"Register for complete functionality",limitReached:"You have reached the limit of {{limit}} transactions in demo mode. Register for complete functionality!",transactionAdded:"Transaction added in demo mode!",transactionUpdated:"Transaction updated!",transactionDeleted:"Transaction deleted!",allTransactionsCleared:"All demo transactions have been removed!",sampleSalary:"Salary",sampleGroceries:"Groceries",sampleFuel:"Fuel",sampleTransactionsAdded:"Sample transactions have been added!"},x3={loginError:"Error during login",emailNotFound:"Email not found",usernameNotFound:"Username not found",wrongPassword:"Incorrect password",invalidEmail:"Invalid email",tooManyRequests:"Too many attempts. Try again later",invalidCredentials:"Invalid credentials",registrationError:"Error during registration",emailAlreadyInUse:"Email already in use",weakPassword:"Password too weak",operationNotAllowed:"Operation not allowed",usernameTaken:"Username already taken, choose another one",accountCreatedSuccess:"Account created successfully!"},R3="of",k3={appName:Lj,welcome:Mj,addTransaction:Fj,quickActions:Uj,recentTransactions:jj,income:Bj,expense:zj,manageAll:$j,profile:Wj,logout:Hj,navLogin:qj,navRegister:Kj,whatToRegister:Gj,motivationalQuote:Qj,noTransactions:Yj,yourTransactions:Xj,searchTransactions:Jj,type:Zj,amount:e3,date:t3,description:n3,category:r3,cancel:i3,add:s3,delete:"Delete",confirmDelete:o3,edit:a3,save:l3,actions:u3,emptyState:c3,loading:h3,error:d3,register:f3,login:p3,logoutConfirm:m3,dashboard:g3,transaction:y3,navbar:v3,landing:_3,financialOverview:w3,analytics:T3,statsPage:E3,notifications:S3,transactionModal:I3,transactions:A3,categories:P3,demo:C3,errors:x3,of:R3},b3="SoldiSotto",D3="Ciao!",N3="Aggiungi Transazione",V3="Azioni Rapide",O3={title:"Transazioni Recenti",viewAll:"Vedi tutte",manageAll:"Gestisci tutte le transazioni",emptyTitle:"Nessuna transazione ancora",emptyDescription:"Inizia aggiungendo la tua prima transazione per vedere il riepilogo qui.",addFirst:"Aggiungi la prima transazione"},L3="Entrata",M3="Spesa",F3="Gestisci Tutto",U3={statsTitle:"Le Tue Statistiche",settingsTitle:"Impostazioni",theme:"Apparenza",themeLight:"Chiaro",themeDark:"Scuro",themeSystem:"Sistema",currentTheme:"Tema attuale",language:"Lingua",currentLanguage:"Lingua attuale",username:"Nome Utente",edit:"Modifica",currentUsername:"Username attuale",totalTransactions:"Transazioni Totali",currentBalance:"Saldo Attuale",daysActive:"Giorni Attivi",days:"giorni",user:"Utente",registeredOn:"Registrato il",dateNotAvailable:"Data non disponibile",account:"Account",accountInfo:"Le tue impostazioni vengono salvate automaticamente. I tuoi dati sono protetti con crittografia end-to-end.",backToDashboard:"Torna alla Dashboard",editUsername:"Modifica Username",newUsername:"Nuovo Username",usernamePlaceholder:"Inserisci il nuovo username",usernameHelp:"L'username deve essere di almeno 3 caratteri e sar verificata la disponibilit",updating:"Aggiornamento...",usernameMinLength:"L'username deve essere di almeno 3 caratteri",usernameSame:"L'username  uguale a quello attuale",usernameConfirm:`Sei sicuro di voler cambiare il tuo username da "{{currentUsername}}" a "{{newUsername}}"?

Questa azione non pu essere annullata.`,usernameUnavailable:"Username gi in uso",usernameSuccess:"Username aggiornato con successo!",usernameError:"Errore nell'aggiornamento dell'username",usernamePermissionError:"Permessi insufficienti per aggiornare l'username",usernameNetworkError:"Errore di connessione. Riprova pi tardi"},j3="Logout",B3="Accedi",z3="Registrati",$3="Cosa vuoi registrare oggi?",W3="Gestire le tue finanze  il primo passo verso la libert.",H3="Nessuna transazione ancora. Aggiungi la prima!",q3="Le tue transazioni",K3="Cerca transazioni...",G3="Tipo",Q3="Importo ()",Y3="Data",X3="Descrizione",J3="Categoria",Z3="Annulla",e6="Aggiungi",t6="Sei sicuro di voler eliminare questa transazione? Questa azione non pu essere annullata.",n6="Modifica",r6="Salva",i6="Azioni",s6="Nessun dato disponibile.",o6="Caricamento...",a6="Si  verificato un errore.",l6={title:"Crea Account",subtitle:"Inizia il tuo viaggio finanziario",username:"Username",usernamePlaceholder:"scegli un username",usernameHelp:"Min. 3 caratteri",usernameMin:"Min. 3 caratteri",email:"Email",emailPlaceholder:"la tua email",password:"Password",passwordPlaceholder:"crea una password",confirmPassword:"Conferma Password",confirmPasswordPlaceholder:"ripeti la password",registerButton:"Crea Account",haveAccount:"Hai gi un account?",loginNow:"Accedi ora",backToHome:"Torna alla Home"},u6={title:"Bentornato!",subtitle:"Accedi con il tuo account",usernameOrEmail:"Username o Email",usernameOrEmailPlaceholder:"username o email",usernameOrEmailHelp:"Inserisci la email di registrazione per accedere",password:"Password",passwordPlaceholder:"inserisci la tua password",loginButton:"Accedi",noAccount:"Non hai un account?",registerNow:"Registrati ora",backToHome:"Torna alla Home"},c6="Sei sicuro di voler uscire?",h6={title:"Dashboard",addTransaction:"Aggiungi Transazione",motivationalQuotes:["Ogni euro risparmiato  un euro guadagnato.","Il miglior investimento sei tu.","Piccoli passi, grandi risultati.","Gestire le tue finanze  il primo passo verso la libert.","Non contare i centesimi, falli contare!","La ricchezza si costruisce un giorno alla volta.","Il futuro appartiene a chi lo pianifica.","Risparmiare oggi per vivere meglio domani.","Non  quanto guadagni, ma quanto risparmi che conta.","La disciplina finanziaria  la chiave del successo."]},d6={add:"Aggiungi Transazione",edit:"Modifica Transazione",delete:"Elimina Transazione",confirmDelete:"Sei sicuro di voler eliminare questa transazione? Questa azione non pu essere annullata.",empty:"Nessuna transazione ancora. Aggiungi la prima!",amount:"Importo ()",date:"Data",description:"Descrizione",category:"Categoria",type:"Tipo di Transazione",income:"Entrata",expense:"Spesa",addIncome:"Aggiungi Entrata",addExpense:"Aggiungi Spesa",saveChanges:"Salva Modifiche",cancel:"Annulla"},f6={dashboard:"Dashboard",transactions:"Transazioni",analytics:"Analytics",profile:"Profilo",logout:"Logout",register:"Registrati",backToHome:"Torna alla Home",demoExitConfirm:"Uscirai dalla modalit demo e tornerai alla pagina iniziale. Continuare?"},p6={heroTitle:"Soldi Sotto",heroSubtitle:"La tua finanza personale sotto controllo. Gestisci entrate e uscite, visualizza statistiche dettagliate e prendi decisioni informate per il tuo futuro finanziario.",tryDemo:"Prova Demo Gratuita",register:"Registrati Gratis",login:"Accedi",mainFeatures:"Funzionalit Principali",mainFeaturesDescription:"Tutto quello che ti serve per gestire le tue finanze in modo professionale",startToday:"Inizia Oggi Stesso",chooseHowToStart:"Scegli come iniziare il tuo viaggio verso la libert finanziaria",demo:"Demo Gratuita",premium:"Account Completo",free:"Gratis",demoFeatures:[" Fino a 10 transazioni demo"," Tutte le funzionalit base"," Visualizzazione statistiche"," Nessuna registrazione richiesta"],premiumFeatures:[" Transazioni illimitate"," Export PDF avanzato"," Statistiche dettagliate"," Backup cloud sicuro"," Supporto prioritario"],heroBody:"Gestione completa di entrate e uscite, grafici nitidi e PDF professionali, pronta per web e mobile.",highlights:{mobile:"Ottimizzato per mobile",security:"Auth + cloud ready"},features:{analyticsDesc:"Analisi chiare e confronti per periodo.",pdfDesc:"Report PDF pronti all'uso.",securityTitle:"Cloud + sicurezza",securityDesc:"Dati protetti con backup e auth Firebase."},ctaTitle:"Pronto a Prendere il Controllo delle Tue Finanze?",ctaSubtitle:"Unisciti a migliaia di utenti che hanno gi trasformato la loro gestione finanziaria"},m6={title:"Panoramica Finanziaria",totalIncome:"Entrate Totali",totalExpense:"Uscite Totali",balance:"Bilancio",totalTransactions:"transazioni totali"},g6={title:"Statistiche & Approfondimenti",subtitle:"Analizza le tue abitudini finanziarie e scopri pattern nascosti",thisMonth:"Questo mese",lastMonth:"Mese scorso",last3Months:"Ultimi tre mesi",thisYear:"Quest'anno",custom:"Personalizzato...",from:"Dal",to:"al",demoMode:"Modalit Demo Attiva",demoDescription:"Visualizzi statistiche demo con {{current}}/{{max}} transazioni. Registrati per statistiche complete e storiche!",totalIncome:"Entrate Totali",totalExpense:"Uscite Totali",balance:"Bilancio",savingsRate:"Tasso Risparmio",exportCsv:"Esporta CSV",exportPdf:"Esporta PDF",topExpenseCategories:"Top Categorie Spesa",topIncomeCategories:"Top Categorie Entrata",ofTotal:"del totale",noExpenseData:"Nessuna spesa nel periodo selezionato",noIncomeData:"Nessuna entrata nel periodo selezionato",monthlyTrend:"Trend Ultimi 6 Mesi",insufficientData:"Dati insufficienti per mostrare il trend",avgDailyExpense:"Spesa Media Giornaliera",avgTransaction:"Transazione Media",avgTransactionDescription:"Importo medio per transazione",totalTransactions:"Transazioni Totali",inSelectedPeriod:"Nel periodo selezionato"},y6={title:"Statistiche",subtitle:"Riepilogo delle tue transazioni e indicatori chiave per restare in controllo",loginTitle:"Statistiche disponibili dopo il login",loginSubtitle:"Accedi o avvia la demo per vedere grafici, medie e report PDF.",tryDemo:"Prova demo",downloadPdf:"Scarica Report PDF",pdfLoginNotice:"Il download del PDF  disponibile dopo l'accesso.",transactions:"Transazioni",dailyAverages:"Medie giornaliere",avgIncome:"Entrata media",avgExpense:"Spesa media",savingsRate:"Tasso di risparmio",savingPositive:"Stai risparmiando!",savingNegative:"Stai spendendo pi di quanto guadagni",incomeVsExpense:"Entrate vs Uscite",movements:"movimenti",period:"Su periodo selezionato",categoryBreakdown:"Spese per categoria",ofExpenses:"delle uscite",emptyTitle:"Nessuna transazione trovata",emptySubtitle:"Non ci sono transazioni per il periodo selezionato. Prova a cambiare periodo o aggiungi nuove transazioni."},v6={addSuccess:"Transazione aggiunta con successo!",addError:"Errore nell'aggiunta della transazione",updateSuccess:"Transazione aggiornata con successo!",updateError:"Errore nell'aggiornamento della transazione",deleteSuccess:"Transazione eliminata con successo!",deleteError:"Errore nell'eliminazione della transazione",success:"Successo",warning:"Attenzione",info:"Informazione"},_6={editTitle:"Modifica Transazione",newTitle:"Nuova Transazione",editSubtitle:"Modifica i dettagli della transazione",newSubtitle:"Aggiungi velocemente una nuova transazione",type:"Tipo di Transazione",expense:"Spesa",income:"Entrata",amount:"Importo ()",amountPlaceholder:"0,00",date:"Data",description:"Descrizione",descriptionPlaceholder:"Es. Spesa alimentare, Stipendio...",category:"Categoria",selectCategory:"Seleziona una categoria",cancel:"Annulla",saving:"Salvando...",adding:"Aggiungendo...",saveChanges:"Salva Modifiche",addButton:"Aggiungi {{type}}"},w6={title:"Le tue transazioni",loadingTransactions:"Caricamento transazioni...",accessRequired:"Accesso richiesto",loginRequired:"Effettua il login per visualizzare le tue transazioni",today:"Oggi",yesterday:"Ieri",of:"di",demoMode:"Modalit Demo",transactions:"transazioni",deleteConfirm:"Elimina Definitivamente",filters:{label:"Filtri",show:"Mostra Filtri",hide:"Nascondi Filtri",today:"Oggi",week:"Settimana",month:"Mese",year:"Anno",all:"Tutto",allTypes:"Tutti"},empty:{title:"Nessuna transazione trovata",tryFilters:"Prova a modificare i filtri di ricerca",addFirst:"Inizia aggiungendo la tua prima transazione"}},T6={alimentazione:"Alimentazione",supermercato:"Spesa",trasporti:"Trasporti",casa:"Casa",intrattenimento:"Svago",abbonamenti:"Abbonamenti",salute:"Salute",viaggi:"Viaggi",shopping:"Shopping",altro:"Altro",stipendio:"Stipendio",bonus:"Bonus",regalo:"Regalo",vendite:"Vendite",rimborso:"Rimborso",freelance:"Freelance",investimenti:"Investimenti"},E6={modalityActive:"Modalit Demo Attiva",transactionsUsed:"Hai utilizzato {{used}}/{{total}} transazioni demo.",registerForComplete:"Registrati per funzionalit complete",limitReached:"Hai raggiunto il limite di {{limit}} transazioni nella modalit demo. Registrati per funzionalit complete!",transactionAdded:"Transazione aggiunta in modalit demo!",transactionUpdated:"Transazione aggiornata!",transactionDeleted:"Transazione eliminata!",allTransactionsCleared:"Tutte le transazioni demo sono state rimosse!",sampleSalary:"Stipendio",sampleGroceries:"Spesa alimentare",sampleFuel:"Benzina",sampleTransactionsAdded:"Sono state aggiunte alcune transazioni di esempio!"},S6={loginError:"Errore durante l'accesso",emailNotFound:"Email non trovata",usernameNotFound:"Username non trovato",wrongPassword:"Password non corretta",invalidEmail:"Email non valida",tooManyRequests:"Troppi tentativi. Riprova pi tardi",invalidCredentials:"Credenziali non valide",registrationError:"Errore durante la registrazione",emailAlreadyInUse:"Email gi in uso",weakPassword:"Password troppo debole",operationNotAllowed:"Operazione non consentita",usernameTaken:"Username gi in uso, scegline un altro",accountCreatedSuccess:"Account creato con successo!"},I6="di",A6={appName:b3,welcome:D3,addTransaction:N3,quickActions:V3,recentTransactions:O3,income:L3,expense:M3,manageAll:F3,profile:U3,logout:j3,navLogin:B3,navRegister:z3,whatToRegister:$3,motivationalQuote:W3,noTransactions:H3,yourTransactions:q3,searchTransactions:K3,type:G3,amount:Q3,date:Y3,description:X3,category:J3,cancel:Z3,add:e6,delete:"Elimina",confirmDelete:t6,edit:n6,save:r6,actions:i6,emptyState:s6,loading:o6,error:a6,register:l6,login:u6,logoutConfirm:c6,dashboard:h6,transaction:d6,navbar:f6,landing:p6,financialOverview:m6,analytics:g6,statsPage:y6,notifications:v6,transactionModal:_6,transactions:w6,categories:T6,demo:E6,errors:S6,of:I6},P6={en:{translation:k3},it:{translation:A6}};on.use(xP).use(X4).init({resources:P6,fallbackLng:"it",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});BC.createRoot(document.getElementById("root")).render(te.jsx(EP,{children:te.jsx(nP,{children:te.jsx(GA,{children:te.jsx(aP,{children:te.jsx(Wx,{basename:"/soldi-sotto",children:te.jsx(ZU,{})})})})})}));export{B6 as $,zE as A,Rh as B,tP as C,n9 as D,pP as E,z6 as F,U6 as G,W6 as H,j6 as I,ii as J,u9 as K,L6 as L,qm as M,xh as N,M6 as O,Te as P,V6 as Q,Bi as R,V4 as S,MU as T,e9 as U,OU as V,$6 as W,s9 as X,i9 as Y,Q6 as Z,Vw as _,hP as a,LU as a0,X6 as a1,K6 as a2,G6 as a3,NU as a4,wp as a5,N6 as a6,tE as a7,J6 as a8,D6 as a9,C6 as aa,ju as b,l9 as c,a9 as d,so as e,Dy as f,t9 as g,gP as h,H6 as i,te as j,Z6 as k,Su as l,r9 as m,Y6 as n,Ny as o,jg as p,q6 as q,V as r,o9 as s,WC as t,ld as u,HC as v,x6 as w,Wg as x,b6 as y,yP as z};
