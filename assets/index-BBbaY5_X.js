const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-DHD2KXCS.js","assets/TransactionModal-B5aV_XDt.js","assets/categories-BJ9ihXS9.js","assets/Modal-Ddr6LxAg.js","assets/Col-BZr0GMUm.js","assets/Form-BzVAdWKs.js","assets/Row-K7qL0jRb.js","assets/formatCurrency-DQxE0pTn.js","assets/Card-BFkG-Ruz.js","assets/TransactionList-CfAFCKi5.js","assets/format-CrPPGQr8.js","assets/endOfWeek-BovlL6-H.js","assets/Alert-CMg9Vw5T.js","assets/it-DBO_pyXn.js","assets/TransactionAnalytics-BEd6VfXa.js","assets/Stats-Bv0Vt7lx.js","assets/loadingWrapper-Bv_u6NI9.js","assets/Profile-DNg01cEC.js","assets/Home-BkJXo8pX.js","assets/LandingPage-DZRKJSDj.js","assets/Login-jcCiWKX4.js","assets/Register-CNBJekAy.js"])))=>i.map(i=>d[i]);
function ek(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var cz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sm={exports:{}},cu={},om={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function tk(){if(X_)return Me;X_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function w($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,R={};function I($,J,fe){this.props=$,this.context=J,this.refs=R,this.updater=fe||T}I.prototype.isReactComponent={},I.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function V(){}V.prototype=I.prototype;function M($,J,fe){this.props=$,this.context=J,this.refs=R,this.updater=fe||T}var F=M.prototype=new V;F.constructor=M,x(F,I.prototype),F.isPureReactComponent=!0;var z=Array.isArray,Q=Object.prototype.hasOwnProperty,X={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function P($,J,fe){var Se,Pe={},Oe=null,je=null;if(J!=null)for(Se in J.ref!==void 0&&(je=J.ref),J.key!==void 0&&(Oe=""+J.key),J)Q.call(J,Se)&&!D.hasOwnProperty(Se)&&(Pe[Se]=J[Se]);var Le=arguments.length-2;if(Le===1)Pe.children=fe;else if(1<Le){for(var Ke=Array(Le),Et=0;Et<Le;Et++)Ke[Et]=arguments[Et+2];Pe.children=Ke}if($&&$.defaultProps)for(Se in Le=$.defaultProps,Le)Pe[Se]===void 0&&(Pe[Se]=Le[Se]);return{$$typeof:n,type:$,key:Oe,ref:je,props:Pe,_owner:X.current}}function k($,J){return{$$typeof:n,type:$.type,key:J,ref:$.ref,props:$.props,_owner:$._owner}}function N($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function L($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(fe){return J[fe]})}var U=/\/+/g;function b($,J){return typeof $=="object"&&$!==null&&$.key!=null?L(""+$.key):J.toString(36)}function ve($,J,fe,Se,Pe){var Oe=typeof $;(Oe==="undefined"||Oe==="boolean")&&($=null);var je=!1;if($===null)je=!0;else switch(Oe){case"string":case"number":je=!0;break;case"object":switch($.$$typeof){case n:case e:je=!0}}if(je)return je=$,Pe=Pe(je),$=Se===""?"."+b(je,0):Se,z(Pe)?(fe="",$!=null&&(fe=$.replace(U,"$&/")+"/"),ve(Pe,J,fe,"",function(Et){return Et})):Pe!=null&&(N(Pe)&&(Pe=k(Pe,fe+(!Pe.key||je&&je.key===Pe.key?"":(""+Pe.key).replace(U,"$&/")+"/")+$)),J.push(Pe)),1;if(je=0,Se=Se===""?".":Se+":",z($))for(var Le=0;Le<$.length;Le++){Oe=$[Le];var Ke=Se+b(Oe,Le);je+=ve(Oe,J,fe,Ke,Pe)}else if(Ke=w($),typeof Ke=="function")for($=Ke.call($),Le=0;!(Oe=$.next()).done;)Oe=Oe.value,Ke=Se+b(Oe,Le++),je+=ve(Oe,J,fe,Ke,Pe);else if(Oe==="object")throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return je}function Fe($,J,fe){if($==null)return $;var Se=[],Pe=0;return ve($,Se,"","",function(Oe){return J.call(fe,Oe,Pe++)}),Se}function Re($){if($._status===-1){var J=$._result;J=J(),J.then(function(fe){($._status===0||$._status===-1)&&($._status=1,$._result=fe)},function(fe){($._status===0||$._status===-1)&&($._status=2,$._result=fe)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var he={current:null},re={transition:null},le={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:re,ReactCurrentOwner:X};function se(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:Fe,forEach:function($,J,fe){Fe($,function(){J.apply(this,arguments)},fe)},count:function($){var J=0;return Fe($,function(){J++}),J},toArray:function($){return Fe($,function(J){return J})||[]},only:function($){if(!N($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Me.Component=I,Me.Fragment=t,Me.Profiler=i,Me.PureComponent=M,Me.StrictMode=r,Me.Suspense=d,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Me.act=se,Me.cloneElement=function($,J,fe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Se=x({},$.props),Pe=$.key,Oe=$.ref,je=$._owner;if(J!=null){if(J.ref!==void 0&&(Oe=J.ref,je=X.current),J.key!==void 0&&(Pe=""+J.key),$.type&&$.type.defaultProps)var Le=$.type.defaultProps;for(Ke in J)Q.call(J,Ke)&&!D.hasOwnProperty(Ke)&&(Se[Ke]=J[Ke]===void 0&&Le!==void 0?Le[Ke]:J[Ke])}var Ke=arguments.length-2;if(Ke===1)Se.children=fe;else if(1<Ke){Le=Array(Ke);for(var Et=0;Et<Ke;Et++)Le[Et]=arguments[Et+2];Se.children=Le}return{$$typeof:n,type:$.type,key:Pe,ref:Oe,props:Se,_owner:je}},Me.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Me.createElement=P,Me.createFactory=function($){var J=P.bind(null,$);return J.type=$,J},Me.createRef=function(){return{current:null}},Me.forwardRef=function($){return{$$typeof:c,render:$}},Me.isValidElement=N,Me.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:Re}},Me.memo=function($,J){return{$$typeof:f,type:$,compare:J===void 0?null:J}},Me.startTransition=function($){var J=re.transition;re.transition={};try{$()}finally{re.transition=J}},Me.unstable_act=se,Me.useCallback=function($,J){return he.current.useCallback($,J)},Me.useContext=function($){return he.current.useContext($)},Me.useDebugValue=function(){},Me.useDeferredValue=function($){return he.current.useDeferredValue($)},Me.useEffect=function($,J){return he.current.useEffect($,J)},Me.useId=function(){return he.current.useId()},Me.useImperativeHandle=function($,J,fe){return he.current.useImperativeHandle($,J,fe)},Me.useInsertionEffect=function($,J){return he.current.useInsertionEffect($,J)},Me.useLayoutEffect=function($,J){return he.current.useLayoutEffect($,J)},Me.useMemo=function($,J){return he.current.useMemo($,J)},Me.useReducer=function($,J,fe){return he.current.useReducer($,J,fe)},Me.useRef=function($){return he.current.useRef($)},Me.useState=function($){return he.current.useState($)},Me.useSyncExternalStore=function($,J,fe){return he.current.useSyncExternalStore($,J,fe)},Me.useTransition=function(){return he.current.useTransition()},Me.version="18.3.1",Me}var J_;function ty(){return J_||(J_=1,om.exports=tk()),om.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function nk(){if(Z_)return cu;Z_=1;var n=ty(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var m,g={},w=null,T=null;f!==void 0&&(w=""+f),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(g[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:c,key:w,ref:T,props:g,_owner:i.current}}return cu.Fragment=t,cu.jsx=l,cu.jsxs=l,cu}var ew;function rk(){return ew||(ew=1,sm.exports=nk()),sm.exports}var K=rk(),Bd={},am={exports:{}},vn={},lm={exports:{}},um={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function ik(){return tw||(tw=1,function(n){function e(re,le){var se=re.length;re.push(le);e:for(;0<se;){var $=se-1>>>1,J=re[$];if(0<i(J,le))re[$]=le,re[se]=J,se=$;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var le=re[0],se=re.pop();if(se!==le){re[0]=se;e:for(var $=0,J=re.length,fe=J>>>1;$<fe;){var Se=2*($+1)-1,Pe=re[Se],Oe=Se+1,je=re[Oe];if(0>i(Pe,se))Oe<J&&0>i(je,Pe)?(re[$]=je,re[Oe]=se,$=Oe):(re[$]=Pe,re[Se]=se,$=Se);else if(Oe<J&&0>i(je,se))re[$]=je,re[Oe]=se,$=Oe;else break e}}return le}function i(re,le){var se=re.sortIndex-le.sortIndex;return se!==0?se:re.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,g=null,w=3,T=!1,x=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(re){for(var le=t(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=re)r(f),le.sortIndex=le.expirationTime,e(d,le);else break;le=t(f)}}function z(re){if(R=!1,F(re),!x)if(t(d)!==null)x=!0,Re(Q);else{var le=t(f);le!==null&&he(z,le.startTime-re)}}function Q(re,le){x=!1,R&&(R=!1,V(P),P=-1),T=!0;var se=w;try{for(F(le),g=t(d);g!==null&&(!(g.expirationTime>le)||re&&!L());){var $=g.callback;if(typeof $=="function"){g.callback=null,w=g.priorityLevel;var J=$(g.expirationTime<=le);le=n.unstable_now(),typeof J=="function"?g.callback=J:g===t(d)&&r(d),F(le)}else r(d);g=t(d)}if(g!==null)var fe=!0;else{var Se=t(f);Se!==null&&he(z,Se.startTime-le),fe=!1}return fe}finally{g=null,w=se,T=!1}}var X=!1,D=null,P=-1,k=5,N=-1;function L(){return!(n.unstable_now()-N<k)}function U(){if(D!==null){var re=n.unstable_now();N=re;var le=!0;try{le=D(!0,re)}finally{le?b():(X=!1,D=null)}}else X=!1}var b;if(typeof M=="function")b=function(){M(U)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Fe=ve.port2;ve.port1.onmessage=U,b=function(){Fe.postMessage(null)}}else b=function(){I(U,0)};function Re(re){D=re,X||(X=!0,b())}function he(re,le){P=I(function(){re(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){x||T||(x=!0,Re(Q))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(re){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var se=w;w=le;try{return re()}finally{w=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,le){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var se=w;w=re;try{return le()}finally{w=se}},n.unstable_scheduleCallback=function(re,le,se){var $=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?$+se:$):se=$,re){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=se+J,re={id:m++,callback:le,priorityLevel:re,startTime:se,expirationTime:J,sortIndex:-1},se>$?(re.sortIndex=se,e(f,re),t(d)===null&&re===t(f)&&(R?(V(P),P=-1):R=!0,he(z,se-$))):(re.sortIndex=J,e(d,re),x||T||(x=!0,Re(Q))),re},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(re){var le=w;return function(){var se=w;w=le;try{return re.apply(this,arguments)}finally{w=se}}}}(um)),um}var nw;function sk(){return nw||(nw=1,lm.exports=ik()),lm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function ok(){if(rw)return vn;rw=1;var n=ty(),e=sk();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function w(s){return d.call(g,s)?!0:d.call(m,s)?!1:f.test(s)?g[s]=!0:(m[s]=!0,!1)}function T(s,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,a,u,p){if(a===null||typeof a>"u"||T(s,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(s,a,u,p,y,_,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=S}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];I[a]=new R(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(V,M);I[a]=new R(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(V,M);I[a]=new R(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(V,M);I[a]=new R(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,a,u,p){var y=I.hasOwnProperty(a)?I[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(x(a,u,y,p)&&(u=null),p||y===null?w(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):y.mustUseProperty?s[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,p=y.attributeNamespace,u===null?s.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,p?s.setAttributeNS(p,a,u):s.setAttribute(a,u))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),X=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),re=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,$;function J(s){if($===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+s}var fe=!1;function Se(s,a){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(G){var p=G}Reflect.construct(s,[],a)}else{try{a.call()}catch(G){p=G}s.call(a.prototype)}else{try{throw Error()}catch(G){p=G}s()}}catch(G){if(G&&p&&typeof G.stack=="string"){for(var y=G.stack.split(`
`),_=p.stack.split(`
`),S=y.length-1,O=_.length-1;1<=S&&0<=O&&y[S]!==_[O];)O--;for(;1<=S&&0<=O;S--,O--)if(y[S]!==_[O]){if(S!==1||O!==1)do if(S--,O--,0>O||y[S]!==_[O]){var j=`
`+y[S].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=S&&0<=O);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?J(s):""}function Pe(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function Oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case X:return"Portal";case k:return"Profiler";case P:return"StrictMode";case b:return"Suspense";case ve:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case U:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Fe:return a=s.displayName||null,a!==null?a:Oe(s.type)||"Memo";case Re:a=s._payload,s=s._init;try{return Oe(s(a))}catch{}}return null}function je(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(a);case 8:return a===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Le(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Et(s){var a=Ke(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,_=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(S){p=""+S,_.call(this,S)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function xn(s){s._valueTracker||(s._valueTracker=Et(s))}function Pi(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return s&&(p=Ke(s)?s.checked?"true":"false":s.value),s=p,s!==u?(a.setValue(s),!0):!1}function tr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Gr(s,a){var u=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Ci(s,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=Le(a.value!=null?a.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ai(s,a){a=a.checked,a!=null&&F(s,"checked",a,!1)}function Ri(s,a){Ai(s,a);var u=Le(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ki(s,a.type,u):a.hasOwnProperty("defaultValue")&&ki(s,a.type,Le(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Uo(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ki(s,a,u){(a!=="number"||tr(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Mt=Array.isArray;function cn(s,a,u,p){if(s=s.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=a.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Le(u),a=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function bi(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Qr(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Mt(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Le(u)}}function Tr(s,a){var u=Le(a.value),p=Le(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function Di(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ct(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ct(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Vn,wl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,y){MSApp.execUnsafeLocalFunction(function(){return s(a,u,p,y)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Vn=Vn||document.createElement("div"),Vn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Vn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Oi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Us=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(s){Us.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),js[a]=js[s]})});function El(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||js.hasOwnProperty(s)&&js[s]?(""+a).trim():a+"px"}function Tl(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,y=El(u,a[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,y):s[u]=y}}var Sl=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xl(s,a){if(a){if(Sl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Il(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bs=null;function Bo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $o=null,Mn=null,Sr=null;function zo(s){if(s=Ql(s)){if(typeof $o!="function")throw Error(t(280));var a=s.stateNode;a&&(a=nd(a),$o(s.stateNode,s.type,a))}}function xr(s){Mn?Sr?Sr.push(s):Sr=[s]:Mn=s}function Pl(){if(Mn){var s=Mn,a=Sr;if(Sr=Mn=null,zo(s),a)for(s=0;s<a.length;s++)zo(a[s])}}function $s(s,a){return s(a)}function Cl(){}var Yr=!1;function Al(s,a,u){if(Yr)return s(a,u);Yr=!0;try{return $s(s,a,u)}finally{Yr=!1,(Mn!==null||Sr!==null)&&(Cl(),Pl())}}function gt(s,a){var u=s.stateNode;if(u===null)return null;var p=nd(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var Wo=!1;if(c)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{Wo=!1}function zs(s,a,u,p,y,_,S,O,j){var G=Array.prototype.slice.call(arguments,3);try{a.apply(u,G)}catch(ne){this.onError(ne)}}var Ws=!1,Ho=null,rr=!1,Rl=null,Of={onError:function(s){Ws=!0,Ho=s}};function qo(s,a,u,p,y,_,S,O,j){Ws=!1,Ho=null,zs.apply(Of,arguments)}function Cc(s,a,u,p,y,_,S,O,j){if(qo.apply(this,arguments),Ws){if(Ws){var G=Ho;Ws=!1,Ho=null}else throw Error(t(198));rr||(rr=!0,Rl=G)}}function ir(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Hs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function sr(s){if(ir(s)!==s)throw Error(t(188))}function Ac(s){var a=s.alternate;if(!a){if(a=ir(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,p=a;;){var y=u.return;if(y===null)break;var _=y.alternate;if(_===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===u)return sr(y),s;if(_===p)return sr(y),a;_=_.sibling}throw Error(t(188))}if(u.return!==p.return)u=y,p=_;else{for(var S=!1,O=y.child;O;){if(O===u){S=!0,u=y,p=_;break}if(O===p){S=!0,p=y,u=_;break}O=O.sibling}if(!S){for(O=_.child;O;){if(O===u){S=!0,u=_,p=y;break}if(O===p){S=!0,p=_,u=y;break}O=O.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function kl(s){return s=Ac(s),s!==null?Ko(s):null}function Ko(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ko(s);if(a!==null)return a;s=s.sibling}return null}var Go=e.unstable_scheduleCallback,bl=e.unstable_cancelCallback,Rc=e.unstable_shouldYield,Nf=e.unstable_requestPaint,Xe=e.unstable_now,kc=e.unstable_getCurrentPriorityLevel,qs=e.unstable_ImmediatePriority,Ni=e.unstable_UserBlockingPriority,Fn=e.unstable_NormalPriority,Dl=e.unstable_LowPriority,bc=e.unstable_IdlePriority,Ks=null,In=null;function Dc(s){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Ks,s,void 0,(s.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:Nc,Ol=Math.log,Oc=Math.LN2;function Nc(s){return s>>>=0,s===0?32:31-(Ol(s)/Oc|0)|0}var Qo=64,Yo=4194304;function Li(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Gs(s,a){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,_=s.pingedLanes,S=u&268435455;if(S!==0){var O=S&~y;O!==0?p=Li(O):(_&=S,_!==0&&(p=Li(_)))}else S=u&~y,S!==0?p=Li(S):_!==0&&(p=Li(_));if(p===0)return 0;if(a!==0&&a!==p&&(a&y)===0&&(y=p&-p,_=a&-a,y>=_||y===16&&(_&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)u=31-sn(a),y=1<<u,p|=s[u],a&=~y;return p}function Lf(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(s,a){for(var u=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,_=s.pendingLanes;0<_;){var S=31-sn(_),O=1<<S,j=y[S];j===-1?((O&u)===0||(O&p)!==0)&&(y[S]=Lf(O,a)):j<=a&&(s.expiredLanes|=O),_&=~O}}function Pn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Qs(){var s=Qo;return Qo<<=1,(Qo&4194240)===0&&(Qo=64),s}function Vi(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Mi(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-sn(a),s[a]=u}function Ye(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var y=31-sn(u),_=1<<y;a[y]=0,p[y]=-1,s[y]=-1,u&=~_}}function Fi(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var p=31-sn(u),y=1<<p;y&a|s[p]&a&&(s[p]|=a),u&=~y}}var $e=0;function ji(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Lc,Xo,Vc,Mc,Fc,Nl=!1,Ir=[],Ft=null,or=null,ar=null,Ui=new Map,jn=new Map,Pr=[],Vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jc(s,a){switch(s){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Ui.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jn.delete(a.pointerId)}}function dn(s,a,u,p,y,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:_,targetContainers:[y]},a!==null&&(a=Ql(a),a!==null&&Xo(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function Mf(s,a,u,p,y){switch(a){case"focusin":return Ft=dn(Ft,s,a,u,p,y),!0;case"dragenter":return or=dn(or,s,a,u,p,y),!0;case"mouseover":return ar=dn(ar,s,a,u,p,y),!0;case"pointerover":var _=y.pointerId;return Ui.set(_,dn(Ui.get(_)||null,s,a,u,p,y)),!0;case"gotpointercapture":return _=y.pointerId,jn.set(_,dn(jn.get(_)||null,s,a,u,p,y)),!0}return!1}function Uc(s){var a=eo(s.target);if(a!==null){var u=ir(a);if(u!==null){if(a=u.tag,a===13){if(a=Hs(u),a!==null){s.blockedOn=a,Fc(s.priority,function(){Vc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jr(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Jo(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Bs=p,u.target.dispatchEvent(p),Bs=null}else return a=Ql(u),a!==null&&Xo(a),s.blockedOn=u,!1;a.shift()}return!0}function Ys(s,a,u){Jr(s)&&u.delete(a)}function Bc(){Nl=!1,Ft!==null&&Jr(Ft)&&(Ft=null),or!==null&&Jr(or)&&(or=null),ar!==null&&Jr(ar)&&(ar=null),Ui.forEach(Ys),jn.forEach(Ys)}function lr(s,a){s.blockedOn===a&&(s.blockedOn=null,Nl||(Nl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bc)))}function ur(s){function a(y){return lr(y,s)}if(0<Ir.length){lr(Ir[0],s);for(var u=1;u<Ir.length;u++){var p=Ir[u];p.blockedOn===s&&(p.blockedOn=null)}}for(Ft!==null&&lr(Ft,s),or!==null&&lr(or,s),ar!==null&&lr(ar,s),Ui.forEach(a),jn.forEach(a),u=0;u<Pr.length;u++)p=Pr[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<Pr.length&&(u=Pr[0],u.blockedOn===null);)Uc(u),u.blockedOn===null&&Pr.shift()}var Zr=z.ReactCurrentBatchConfig,Bi=!0;function it(s,a,u,p){var y=$e,_=Zr.transition;Zr.transition=null;try{$e=1,Ll(s,a,u,p)}finally{$e=y,Zr.transition=_}}function Ff(s,a,u,p){var y=$e,_=Zr.transition;Zr.transition=null;try{$e=4,Ll(s,a,u,p)}finally{$e=y,Zr.transition=_}}function Ll(s,a,u,p){if(Bi){var y=Jo(s,a,u,p);if(y===null)Qf(s,a,p,Xs,u),jc(s,p);else if(Mf(y,s,a,u,p))p.stopPropagation();else if(jc(s,p),a&4&&-1<Vf.indexOf(s)){for(;y!==null;){var _=Ql(y);if(_!==null&&Lc(_),_=Jo(s,a,u,p),_===null&&Qf(s,a,p,Xs,u),_===y)break;y=_}y!==null&&p.stopPropagation()}else Qf(s,a,p,null,u)}}var Xs=null;function Jo(s,a,u,p){if(Xs=null,s=Bo(p),s=eo(s),s!==null)if(a=ir(s),a===null)s=null;else if(u=a.tag,u===13){if(s=Hs(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Xs=s,null}function Vl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kc()){case qs:return 1;case Ni:return 4;case Fn:case Dl:return 16;case bc:return 536870912;default:return 16}default:return 16}}var Cn=null,Zo=null,hn=null;function Ml(){if(hn)return hn;var s,a=Zo,u=a.length,p,y="value"in Cn?Cn.value:Cn.textContent,_=y.length;for(s=0;s<u&&a[s]===y[s];s++);var S=u-s;for(p=1;p<=S&&a[u-p]===y[_-p];p++);return hn=y.slice(s,1<p?1-p:void 0)}function ea(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Cr(){return!0}function Fl(){return!1}function jt(s){function a(u,p,y,_,S){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(u=s[O],this[O]=u?u(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Cr:Fl,this.isPropagationStopped=Fl,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),a}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=jt(cr),Ar=se({},cr,{view:0,detail:0}),jf=jt(Ar),na,ei,$i,Js=se({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$i&&($i&&s.type==="mousemove"?(na=s.screenX-$i.screenX,ei=s.screenY-$i.screenY):ei=na=0,$i=s),na)},movementY:function(s){return"movementY"in s?s.movementY:ei}}),ra=jt(Js),jl=se({},Js,{dataTransfer:0}),$c=jt(jl),ia=se({},Ar,{relatedTarget:0}),sa=jt(ia),zc=se({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),ti=jt(zc),Wc=se({},cr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hc=jt(Wc),qc=se({},cr,{data:0}),Ul=jt(qc),oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},on={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Kc[s])?!!a[s]:!1}function Rr(){return Gc}var h=se({},Ar,{key:function(s){if(s.key){var a=oa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ea(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?on[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(s){return s.type==="keypress"?ea(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ea(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=jt(h),E=se({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=jt(E),W=se({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),Y=jt(W),ae=se({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=jt(ae),At=se({},Js,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=jt(At),Dt=[9,13,27,32],Tt=c&&"CompositionEvent"in window,Un=null;c&&"documentMode"in document&&(Un=document.documentMode);var An=c&&"TextEvent"in window&&!Un,Zs=c&&(!Tt||Un&&8<Un&&11>=Un),aa=" ",Hv=!1;function qv(s,a){switch(s){case"keyup":return Dt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var la=!1;function XA(s,a){switch(s){case"compositionend":return Kv(a);case"keypress":return a.which!==32?null:(Hv=!0,aa);case"textInput":return s=a.data,s===aa&&Hv?null:s;default:return null}}function JA(s,a){if(la)return s==="compositionend"||!Tt&&qv(s,a)?(s=Ml(),hn=Zo=Cn=null,la=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Zs&&a.locale!=="ko"?null:a.data;default:return null}}var ZA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!ZA[s.type]:a==="textarea"}function Qv(s,a,u,p){xr(p),a=Zc(a,"onChange"),0<a.length&&(u=new ta("onChange","change",null,u,p),s.push({event:u,listeners:a}))}var Bl=null,$l=null;function eR(s){f0(s,0)}function Qc(s){var a=fa(s);if(Pi(a))return s}function tR(s,a){if(s==="change")return a}var Yv=!1;if(c){var Uf;if(c){var Bf="oninput"in document;if(!Bf){var Xv=document.createElement("div");Xv.setAttribute("oninput","return;"),Bf=typeof Xv.oninput=="function"}Uf=Bf}else Uf=!1;Yv=Uf&&(!document.documentMode||9<document.documentMode)}function Jv(){Bl&&(Bl.detachEvent("onpropertychange",Zv),$l=Bl=null)}function Zv(s){if(s.propertyName==="value"&&Qc($l)){var a=[];Qv(a,$l,s,Bo(s)),Al(eR,a)}}function nR(s,a,u){s==="focusin"?(Jv(),Bl=a,$l=u,Bl.attachEvent("onpropertychange",Zv)):s==="focusout"&&Jv()}function rR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qc($l)}function iR(s,a){if(s==="click")return Qc(a)}function sR(s,a){if(s==="input"||s==="change")return Qc(a)}function oR(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var dr=typeof Object.is=="function"?Object.is:oR;function zl(s,a){if(dr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!d.call(a,y)||!dr(s[y],a[y]))return!1}return!0}function e0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function t0(s,a){var u=e0(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=a&&p>=a)return{node:u,offset:a-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=e0(u)}}function n0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?n0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function r0(){for(var s=window,a=tr();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=tr(s.document)}return a}function $f(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function aR(s){var a=r0(),u=s.focusedElem,p=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&n0(u.ownerDocument.documentElement,u)){if(p!==null&&$f(u)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=u.textContent.length,_=Math.min(p.start,y);p=p.end===void 0?_:Math.min(p.end,y),!s.extend&&_>p&&(y=p,p=_,_=y),y=t0(u,_);var S=t0(u,p);y&&S&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),_>p?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var lR=c&&"documentMode"in document&&11>=document.documentMode,ua=null,zf=null,Wl=null,Wf=!1;function i0(s,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Wf||ua==null||ua!==tr(p)||(p=ua,"selectionStart"in p&&$f(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Wl&&zl(Wl,p)||(Wl=p,p=Zc(zf,"onSelect"),0<p.length&&(a=new ta("onSelect","select",null,a,u),s.push({event:a,listeners:p}),a.target=ua)))}function Yc(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var ca={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionend:Yc("Transition","TransitionEnd")},Hf={},s0={};c&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Xc(s){if(Hf[s])return Hf[s];if(!ca[s])return s;var a=ca[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in s0)return Hf[s]=a[u];return s}var o0=Xc("animationend"),a0=Xc("animationiteration"),l0=Xc("animationstart"),u0=Xc("transitionend"),c0=new Map,d0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(s,a){c0.set(s,a),o(a,[s])}for(var qf=0;qf<d0.length;qf++){var Kf=d0[qf],uR=Kf.toLowerCase(),cR=Kf[0].toUpperCase()+Kf.slice(1);zi(uR,"on"+cR)}zi(o0,"onAnimationEnd"),zi(a0,"onAnimationIteration"),zi(l0,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(u0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function h0(s,a,u){var p=s.type||"unknown-event";s.currentTarget=u,Cc(p,a,void 0,s),s.currentTarget=null}function f0(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],y=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var S=p.length-1;0<=S;S--){var O=p[S],j=O.instance,G=O.currentTarget;if(O=O.listener,j!==_&&y.isPropagationStopped())break e;h0(y,O,G),_=j}else for(S=0;S<p.length;S++){if(O=p[S],j=O.instance,G=O.currentTarget,O=O.listener,j!==_&&y.isPropagationStopped())break e;h0(y,O,G),_=j}}}if(rr)throw s=Rl,rr=!1,Rl=null,s}function et(s,a){var u=a[tp];u===void 0&&(u=a[tp]=new Set);var p=s+"__bubble";u.has(p)||(p0(a,s,2,!1),u.add(p))}function Gf(s,a,u){var p=0;a&&(p|=4),p0(u,s,p,a)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function ql(s){if(!s[Jc]){s[Jc]=!0,r.forEach(function(u){u!=="selectionchange"&&(dR.has(u)||Gf(u,!1,s),Gf(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Jc]||(a[Jc]=!0,Gf("selectionchange",!1,a))}}function p0(s,a,u,p){switch(Vl(a)){case 1:var y=it;break;case 4:y=Ff;break;default:y=Ll}u=y.bind(null,a,u,s),y=void 0,!Wo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(a,u,{capture:!0,passive:y}):s.addEventListener(a,u,!0):y!==void 0?s.addEventListener(a,u,{passive:y}):s.addEventListener(a,u,!1)}function Qf(s,a,u,p,y){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var O=p.stateNode.containerInfo;if(O===y||O.nodeType===8&&O.parentNode===y)break;if(S===4)for(S=p.return;S!==null;){var j=S.tag;if((j===3||j===4)&&(j=S.stateNode.containerInfo,j===y||j.nodeType===8&&j.parentNode===y))return;S=S.return}for(;O!==null;){if(S=eo(O),S===null)return;if(j=S.tag,j===5||j===6){p=_=S;continue e}O=O.parentNode}}p=p.return}Al(function(){var G=_,ne=Bo(u),ie=[];e:{var te=c0.get(s);if(te!==void 0){var ce=ta,me=s;switch(s){case"keypress":if(ea(u)===0)break e;case"keydown":case"keyup":ce=v;break;case"focusin":me="focus",ce=sa;break;case"focusout":me="blur",ce=sa;break;case"beforeblur":case"afterblur":ce=sa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Y;break;case o0:case a0:case l0:ce=ti;break;case u0:ce=Qe;break;case"scroll":ce=jf;break;case"wheel":ce=ze;break;case"copy":case"cut":case"paste":ce=Hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=C}var ge=(a&4)!==0,yt=!ge&&s==="scroll",H=ge?te!==null?te+"Capture":null:te;ge=[];for(var B=G,q;B!==null;){q=B;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,H!==null&&(oe=gt(B,H),oe!=null&&ge.push(Kl(B,oe,q)))),yt)break;B=B.return}0<ge.length&&(te=new ce(te,me,null,u,ne),ie.push({event:te,listeners:ge}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",te&&u!==Bs&&(me=u.relatedTarget||u.fromElement)&&(eo(me)||me[ni]))break e;if((ce||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(me=u.relatedTarget||u.toElement,ce=G,me=me?eo(me):null,me!==null&&(yt=ir(me),me!==yt||me.tag!==5&&me.tag!==6)&&(me=null)):(ce=null,me=G),ce!==me)){if(ge=ra,oe="onMouseLeave",H="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(ge=C,oe="onPointerLeave",H="onPointerEnter",B="pointer"),yt=ce==null?te:fa(ce),q=me==null?te:fa(me),te=new ge(oe,B+"leave",ce,u,ne),te.target=yt,te.relatedTarget=q,oe=null,eo(ne)===G&&(ge=new ge(H,B+"enter",me,u,ne),ge.target=q,ge.relatedTarget=yt,oe=ge),yt=oe,ce&&me)t:{for(ge=ce,H=me,B=0,q=ge;q;q=da(q))B++;for(q=0,oe=H;oe;oe=da(oe))q++;for(;0<B-q;)ge=da(ge),B--;for(;0<q-B;)H=da(H),q--;for(;B--;){if(ge===H||H!==null&&ge===H.alternate)break t;ge=da(ge),H=da(H)}ge=null}else ge=null;ce!==null&&m0(ie,te,ce,ge,!1),me!==null&&yt!==null&&m0(ie,yt,me,ge,!0)}}e:{if(te=G?fa(G):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var ye=tR;else if(Gv(te))if(Yv)ye=sR;else{ye=rR;var we=nR}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ye=iR);if(ye&&(ye=ye(s,G))){Qv(ie,ye,u,ne);break e}we&&we(s,te,G),s==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&ki(te,"number",te.value)}switch(we=G?fa(G):window,s){case"focusin":(Gv(we)||we.contentEditable==="true")&&(ua=we,zf=G,Wl=null);break;case"focusout":Wl=zf=ua=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,i0(ie,u,ne);break;case"selectionchange":if(lR)break;case"keydown":case"keyup":i0(ie,u,ne)}var Ee;if(Tt)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else la?qv(s,u)&&(Ce="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(Zs&&u.locale!=="ko"&&(la||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&la&&(Ee=Ml()):(Cn=ne,Zo="value"in Cn?Cn.value:Cn.textContent,la=!0)),we=Zc(G,Ce),0<we.length&&(Ce=new Ul(Ce,s,null,u,ne),ie.push({event:Ce,listeners:we}),Ee?Ce.data=Ee:(Ee=Kv(u),Ee!==null&&(Ce.data=Ee)))),(Ee=An?XA(s,u):JA(s,u))&&(G=Zc(G,"onBeforeInput"),0<G.length&&(ne=new Ul("onBeforeInput","beforeinput",null,u,ne),ie.push({event:ne,listeners:G}),ne.data=Ee))}f0(ie,a)})}function Kl(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Zc(s,a){for(var u=a+"Capture",p=[];s!==null;){var y=s,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=gt(s,u),_!=null&&p.unshift(Kl(s,_,y)),_=gt(s,a),_!=null&&p.push(Kl(s,_,y))),s=s.return}return p}function da(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function m0(s,a,u,p,y){for(var _=a._reactName,S=[];u!==null&&u!==p;){var O=u,j=O.alternate,G=O.stateNode;if(j!==null&&j===p)break;O.tag===5&&G!==null&&(O=G,y?(j=gt(u,_),j!=null&&S.unshift(Kl(u,j,O))):y||(j=gt(u,_),j!=null&&S.push(Kl(u,j,O)))),u=u.return}S.length!==0&&s.push({event:a,listeners:S})}var hR=/\r\n?/g,fR=/\u0000|\uFFFD/g;function g0(s){return(typeof s=="string"?s:""+s).replace(hR,`
`).replace(fR,"")}function ed(s,a,u){if(a=g0(a),g0(s)!==a&&u)throw Error(t(425))}function td(){}var Yf=null,Xf=null;function Jf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Zf=typeof setTimeout=="function"?setTimeout:void 0,pR=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,mR=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(s){return y0.resolve(null).then(s).catch(gR)}:Zf;function gR(s){setTimeout(function(){throw s})}function ep(s,a){var u=a,p=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(p===0){s.removeChild(y),ur(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=y}while(u);ur(a)}function Wi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function v0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var ha=Math.random().toString(36).slice(2),kr="__reactFiber$"+ha,Gl="__reactProps$"+ha,ni="__reactContainer$"+ha,tp="__reactEvents$"+ha,yR="__reactListeners$"+ha,vR="__reactHandles$"+ha;function eo(s){var a=s[kr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[ni]||u[kr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=v0(s);s!==null;){if(u=s[kr])return u;s=v0(s)}return a}s=u,u=s.parentNode}return null}function Ql(s){return s=s[kr]||s[ni],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function fa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function nd(s){return s[Gl]||null}var np=[],pa=-1;function Hi(s){return{current:s}}function tt(s){0>pa||(s.current=np[pa],np[pa]=null,pa--)}function Je(s,a){pa++,np[pa]=s.current,s.current=a}var qi={},qt=Hi(qi),fn=Hi(!1),to=qi;function ma(s,a){var u=s.type.contextTypes;if(!u)return qi;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in u)y[_]=a[_];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function pn(s){return s=s.childContextTypes,s!=null}function rd(){tt(fn),tt(qt)}function _0(s,a,u){if(qt.current!==qi)throw Error(t(168));Je(qt,a),Je(fn,u)}function w0(s,a,u){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,je(s)||"Unknown",y));return se({},u,p)}function id(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||qi,to=qt.current,Je(qt,s),Je(fn,fn.current),!0}function E0(s,a,u){var p=s.stateNode;if(!p)throw Error(t(169));u?(s=w0(s,a,to),p.__reactInternalMemoizedMergedChildContext=s,tt(fn),tt(qt),Je(qt,s)):tt(fn),Je(fn,u)}var ri=null,sd=!1,rp=!1;function T0(s){ri===null?ri=[s]:ri.push(s)}function _R(s){sd=!0,T0(s)}function Ki(){if(!rp&&ri!==null){rp=!0;var s=0,a=$e;try{var u=ri;for($e=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}ri=null,sd=!1}catch(y){throw ri!==null&&(ri=ri.slice(s+1)),Go(qs,Ki),y}finally{$e=a,rp=!1}}return null}var ga=[],ya=0,od=null,ad=0,Bn=[],$n=0,no=null,ii=1,si="";function ro(s,a){ga[ya++]=ad,ga[ya++]=od,od=s,ad=a}function S0(s,a,u){Bn[$n++]=ii,Bn[$n++]=si,Bn[$n++]=no,no=s;var p=ii;s=si;var y=32-sn(p)-1;p&=~(1<<y),u+=1;var _=32-sn(a)+y;if(30<_){var S=y-y%5;_=(p&(1<<S)-1).toString(32),p>>=S,y-=S,ii=1<<32-sn(a)+y|u<<y|p,si=_+s}else ii=1<<_|u<<y|p,si=s}function ip(s){s.return!==null&&(ro(s,1),S0(s,1,0))}function sp(s){for(;s===od;)od=ga[--ya],ga[ya]=null,ad=ga[--ya],ga[ya]=null;for(;s===no;)no=Bn[--$n],Bn[$n]=null,si=Bn[--$n],Bn[$n]=null,ii=Bn[--$n],Bn[$n]=null}var Rn=null,kn=null,st=!1,hr=null;function x0(s,a){var u=qn(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function I0(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Rn=s,kn=Wi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Rn=s,kn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=no!==null?{id:ii,overflow:si}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=qn(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Rn=s,kn=null,!0):!1;default:return!1}}function op(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ap(s){if(st){var a=kn;if(a){var u=a;if(!I0(s,a)){if(op(s))throw Error(t(418));a=Wi(u.nextSibling);var p=Rn;a&&I0(s,a)?x0(p,u):(s.flags=s.flags&-4097|2,st=!1,Rn=s)}}else{if(op(s))throw Error(t(418));s.flags=s.flags&-4097|2,st=!1,Rn=s}}}function P0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Rn=s}function ld(s){if(s!==Rn)return!1;if(!st)return P0(s),st=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Jf(s.type,s.memoizedProps)),a&&(a=kn)){if(op(s))throw C0(),Error(t(418));for(;a;)x0(s,a),a=Wi(a.nextSibling)}if(P0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){kn=Wi(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}kn=null}}else kn=Rn?Wi(s.stateNode.nextSibling):null;return!0}function C0(){for(var s=kn;s;)s=Wi(s.nextSibling)}function va(){kn=Rn=null,st=!1}function lp(s){hr===null?hr=[s]:hr.push(s)}var wR=z.ReactCurrentBatchConfig;function Yl(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,s));var y=p,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(S){var O=y.refs;S===null?delete O[_]:O[_]=S},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function ud(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function A0(s){var a=s._init;return a(s._payload)}function R0(s){function a(H,B){if(s){var q=H.deletions;q===null?(H.deletions=[B],H.flags|=16):q.push(B)}}function u(H,B){if(!s)return null;for(;B!==null;)a(H,B),B=B.sibling;return null}function p(H,B){for(H=new Map;B!==null;)B.key!==null?H.set(B.key,B):H.set(B.index,B),B=B.sibling;return H}function y(H,B){return H=ts(H,B),H.index=0,H.sibling=null,H}function _(H,B,q){return H.index=q,s?(q=H.alternate,q!==null?(q=q.index,q<B?(H.flags|=2,B):q):(H.flags|=2,B)):(H.flags|=1048576,B)}function S(H){return s&&H.alternate===null&&(H.flags|=2),H}function O(H,B,q,oe){return B===null||B.tag!==6?(B=Zp(q,H.mode,oe),B.return=H,B):(B=y(B,q),B.return=H,B)}function j(H,B,q,oe){var ye=q.type;return ye===D?ne(H,B,q.props.children,oe,q.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Re&&A0(ye)===B.type)?(oe=y(B,q.props),oe.ref=Yl(H,B,q),oe.return=H,oe):(oe=Od(q.type,q.key,q.props,null,H.mode,oe),oe.ref=Yl(H,B,q),oe.return=H,oe)}function G(H,B,q,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=em(q,H.mode,oe),B.return=H,B):(B=y(B,q.children||[]),B.return=H,B)}function ne(H,B,q,oe,ye){return B===null||B.tag!==7?(B=ho(q,H.mode,oe,ye),B.return=H,B):(B=y(B,q),B.return=H,B)}function ie(H,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Zp(""+B,H.mode,q),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Q:return q=Od(B.type,B.key,B.props,null,H.mode,q),q.ref=Yl(H,null,B),q.return=H,q;case X:return B=em(B,H.mode,q),B.return=H,B;case Re:var oe=B._init;return ie(H,oe(B._payload),q)}if(Mt(B)||le(B))return B=ho(B,H.mode,q,null),B.return=H,B;ud(H,B)}return null}function te(H,B,q,oe){var ye=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ye!==null?null:O(H,B,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Q:return q.key===ye?j(H,B,q,oe):null;case X:return q.key===ye?G(H,B,q,oe):null;case Re:return ye=q._init,te(H,B,ye(q._payload),oe)}if(Mt(q)||le(q))return ye!==null?null:ne(H,B,q,oe,null);ud(H,q)}return null}function ce(H,B,q,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(q)||null,O(B,H,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Q:return H=H.get(oe.key===null?q:oe.key)||null,j(B,H,oe,ye);case X:return H=H.get(oe.key===null?q:oe.key)||null,G(B,H,oe,ye);case Re:var we=oe._init;return ce(H,B,q,we(oe._payload),ye)}if(Mt(oe)||le(oe))return H=H.get(q)||null,ne(B,H,oe,ye,null);ud(B,oe)}return null}function me(H,B,q,oe){for(var ye=null,we=null,Ee=B,Ce=B=0,Lt=null;Ee!==null&&Ce<q.length;Ce++){Ee.index>Ce?(Lt=Ee,Ee=null):Lt=Ee.sibling;var qe=te(H,Ee,q[Ce],oe);if(qe===null){Ee===null&&(Ee=Lt);break}s&&Ee&&qe.alternate===null&&a(H,Ee),B=_(qe,B,Ce),we===null?ye=qe:we.sibling=qe,we=qe,Ee=Lt}if(Ce===q.length)return u(H,Ee),st&&ro(H,Ce),ye;if(Ee===null){for(;Ce<q.length;Ce++)Ee=ie(H,q[Ce],oe),Ee!==null&&(B=_(Ee,B,Ce),we===null?ye=Ee:we.sibling=Ee,we=Ee);return st&&ro(H,Ce),ye}for(Ee=p(H,Ee);Ce<q.length;Ce++)Lt=ce(Ee,H,Ce,q[Ce],oe),Lt!==null&&(s&&Lt.alternate!==null&&Ee.delete(Lt.key===null?Ce:Lt.key),B=_(Lt,B,Ce),we===null?ye=Lt:we.sibling=Lt,we=Lt);return s&&Ee.forEach(function(ns){return a(H,ns)}),st&&ro(H,Ce),ye}function ge(H,B,q,oe){var ye=le(q);if(typeof ye!="function")throw Error(t(150));if(q=ye.call(q),q==null)throw Error(t(151));for(var we=ye=null,Ee=B,Ce=B=0,Lt=null,qe=q.next();Ee!==null&&!qe.done;Ce++,qe=q.next()){Ee.index>Ce?(Lt=Ee,Ee=null):Lt=Ee.sibling;var ns=te(H,Ee,qe.value,oe);if(ns===null){Ee===null&&(Ee=Lt);break}s&&Ee&&ns.alternate===null&&a(H,Ee),B=_(ns,B,Ce),we===null?ye=ns:we.sibling=ns,we=ns,Ee=Lt}if(qe.done)return u(H,Ee),st&&ro(H,Ce),ye;if(Ee===null){for(;!qe.done;Ce++,qe=q.next())qe=ie(H,qe.value,oe),qe!==null&&(B=_(qe,B,Ce),we===null?ye=qe:we.sibling=qe,we=qe);return st&&ro(H,Ce),ye}for(Ee=p(H,Ee);!qe.done;Ce++,qe=q.next())qe=ce(Ee,H,Ce,qe.value,oe),qe!==null&&(s&&qe.alternate!==null&&Ee.delete(qe.key===null?Ce:qe.key),B=_(qe,B,Ce),we===null?ye=qe:we.sibling=qe,we=qe);return s&&Ee.forEach(function(ZR){return a(H,ZR)}),st&&ro(H,Ce),ye}function yt(H,B,q,oe){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Q:e:{for(var ye=q.key,we=B;we!==null;){if(we.key===ye){if(ye=q.type,ye===D){if(we.tag===7){u(H,we.sibling),B=y(we,q.props.children),B.return=H,H=B;break e}}else if(we.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Re&&A0(ye)===we.type){u(H,we.sibling),B=y(we,q.props),B.ref=Yl(H,we,q),B.return=H,H=B;break e}u(H,we);break}else a(H,we);we=we.sibling}q.type===D?(B=ho(q.props.children,H.mode,oe,q.key),B.return=H,H=B):(oe=Od(q.type,q.key,q.props,null,H.mode,oe),oe.ref=Yl(H,B,q),oe.return=H,H=oe)}return S(H);case X:e:{for(we=q.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){u(H,B.sibling),B=y(B,q.children||[]),B.return=H,H=B;break e}else{u(H,B);break}else a(H,B);B=B.sibling}B=em(q,H.mode,oe),B.return=H,H=B}return S(H);case Re:return we=q._init,yt(H,B,we(q._payload),oe)}if(Mt(q))return me(H,B,q,oe);if(le(q))return ge(H,B,q,oe);ud(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(u(H,B.sibling),B=y(B,q),B.return=H,H=B):(u(H,B),B=Zp(q,H.mode,oe),B.return=H,H=B),S(H)):u(H,B)}return yt}var _a=R0(!0),k0=R0(!1),cd=Hi(null),dd=null,wa=null,up=null;function cp(){up=wa=dd=null}function dp(s){var a=cd.current;tt(cd),s._currentValue=a}function hp(s,a,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===u)break;s=s.return}}function Ea(s,a){dd=s,up=wa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(mn=!0),s.firstContext=null)}function zn(s){var a=s._currentValue;if(up!==s)if(s={context:s,memoizedValue:a,next:null},wa===null){if(dd===null)throw Error(t(308));wa=s,dd.dependencies={lanes:0,firstContext:s}}else wa=wa.next=s;return a}var io=null;function fp(s){io===null?io=[s]:io.push(s)}function b0(s,a,u,p){var y=a.interleaved;return y===null?(u.next=u,fp(a)):(u.next=y.next,y.next=u),a.interleaved=u,oi(s,p)}function oi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Gi=!1;function pp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ai(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Qi(s,a,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(He&2)!==0){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,oi(s,u)}return y=p.interleaved,y===null?(a.next=a,fp(p)):(a.next=y.next,y.next=a),p.interleaved=a,oi(s,u)}function hd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Fi(s,u)}}function O0(s,a){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?y=_=S:_=_.next=S,u=u.next}while(u!==null);_===null?y=_=a:_=_.next=a}else y=_=a;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function fd(s,a,u,p){var y=s.updateQueue;Gi=!1;var _=y.firstBaseUpdate,S=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var j=O,G=j.next;j.next=null,S===null?_=G:S.next=G,S=j;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,O=ne.lastBaseUpdate,O!==S&&(O===null?ne.firstBaseUpdate=G:O.next=G,ne.lastBaseUpdate=j))}if(_!==null){var ie=y.baseState;S=0,ne=G=j=null,O=_;do{var te=O.lane,ce=O.eventTime;if((p&te)===te){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var me=s,ge=O;switch(te=a,ce=u,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ie=me.call(ce,ie,te);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,te=typeof me=="function"?me.call(ce,ie,te):me,te==null)break e;ie=se({},ie,te);break e;case 2:Gi=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,te=y.effects,te===null?y.effects=[O]:te.push(O))}else ce={eventTime:ce,lane:te,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ne===null?(G=ne=ce,j=ie):ne=ne.next=ce,S|=te;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;te=O,O=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);if(ne===null&&(j=ie),y.baseState=j,y.firstBaseUpdate=G,y.lastBaseUpdate=ne,a=y.shared.interleaved,a!==null){y=a;do S|=y.lane,y=y.next;while(y!==a)}else _===null&&(y.shared.lanes=0);ao|=S,s.lanes=S,s.memoizedState=ie}}function N0(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],y=p.callback;if(y!==null){if(p.callback=null,p=u,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var Xl={},br=Hi(Xl),Jl=Hi(Xl),Zl=Hi(Xl);function so(s){if(s===Xl)throw Error(t(174));return s}function mp(s,a){switch(Je(Zl,a),Je(Jl,s),Je(br,Xl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:dt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=dt(a,s)}tt(br),Je(br,a)}function Ta(){tt(br),tt(Jl),tt(Zl)}function L0(s){so(Zl.current);var a=so(br.current),u=dt(a,s.type);a!==u&&(Je(Jl,s),Je(br,u))}function gp(s){Jl.current===s&&(tt(br),tt(Jl))}var ot=Hi(0);function pd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var yp=[];function vp(){for(var s=0;s<yp.length;s++)yp[s]._workInProgressVersionPrimary=null;yp.length=0}var md=z.ReactCurrentDispatcher,_p=z.ReactCurrentBatchConfig,oo=0,at=null,Rt=null,Ot=null,gd=!1,eu=!1,tu=0,ER=0;function Kt(){throw Error(t(321))}function wp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!dr(s[u],a[u]))return!1;return!0}function Ep(s,a,u,p,y,_){if(oo=_,at=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,md.current=s===null||s.memoizedState===null?IR:PR,s=u(p,y),eu){_=0;do{if(eu=!1,tu=0,25<=_)throw Error(t(301));_+=1,Ot=Rt=null,a.updateQueue=null,md.current=CR,s=u(p,y)}while(eu)}if(md.current=_d,a=Rt!==null&&Rt.next!==null,oo=0,Ot=Rt=at=null,gd=!1,a)throw Error(t(300));return s}function Tp(){var s=tu!==0;return tu=0,s}function Dr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?at.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function Wn(){if(Rt===null){var s=at.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var a=Ot===null?at.memoizedState:Ot.next;if(a!==null)Ot=a,Rt=s;else{if(s===null)throw Error(t(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ot===null?at.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function nu(s,a){return typeof a=="function"?a(s):a}function Sp(s){var a=Wn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=Rt,y=p.baseQueue,_=u.pending;if(_!==null){if(y!==null){var S=y.next;y.next=_.next,_.next=S}p.baseQueue=y=_,u.pending=null}if(y!==null){_=y.next,p=p.baseState;var O=S=null,j=null,G=_;do{var ne=G.lane;if((oo&ne)===ne)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),p=G.hasEagerState?G.eagerState:s(p,G.action);else{var ie={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(O=j=ie,S=p):j=j.next=ie,at.lanes|=ne,ao|=ne}G=G.next}while(G!==null&&G!==_);j===null?S=p:j.next=O,dr(p,a.memoizedState)||(mn=!0),a.memoizedState=p,a.baseState=S,a.baseQueue=j,u.lastRenderedState=p}if(s=u.interleaved,s!==null){y=s;do _=y.lane,at.lanes|=_,ao|=_,y=y.next;while(y!==s)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function xp(s){var a=Wn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=u.dispatch,y=u.pending,_=a.memoizedState;if(y!==null){u.pending=null;var S=y=y.next;do _=s(_,S.action),S=S.next;while(S!==y);dr(_,a.memoizedState)||(mn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,p]}function V0(){}function M0(s,a){var u=at,p=Wn(),y=a(),_=!dr(p.memoizedState,y);if(_&&(p.memoizedState=y,mn=!0),p=p.queue,Ip(U0.bind(null,u,p,s),[s]),p.getSnapshot!==a||_||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,ru(9,j0.bind(null,u,p,y,a),void 0,null),Nt===null)throw Error(t(349));(oo&30)!==0||F0(u,a,y)}return y}function F0(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=at.updateQueue,a===null?(a={lastEffect:null,stores:null},at.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function j0(s,a,u,p){a.value=u,a.getSnapshot=p,B0(a)&&$0(s)}function U0(s,a,u){return u(function(){B0(a)&&$0(s)})}function B0(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!dr(s,u)}catch{return!0}}function $0(s){var a=oi(s,1);a!==null&&gr(a,s,1,-1)}function z0(s){var a=Dr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:s},a.queue=s,s=s.dispatch=xR.bind(null,at,s),[a.memoizedState,s]}function ru(s,a,u,p){return s={tag:s,create:a,destroy:u,deps:p,next:null},a=at.updateQueue,a===null?(a={lastEffect:null,stores:null},at.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,a.lastEffect=s)),s}function W0(){return Wn().memoizedState}function yd(s,a,u,p){var y=Dr();at.flags|=s,y.memoizedState=ru(1|a,u,void 0,p===void 0?null:p)}function vd(s,a,u,p){var y=Wn();p=p===void 0?null:p;var _=void 0;if(Rt!==null){var S=Rt.memoizedState;if(_=S.destroy,p!==null&&wp(p,S.deps)){y.memoizedState=ru(a,u,_,p);return}}at.flags|=s,y.memoizedState=ru(1|a,u,_,p)}function H0(s,a){return yd(8390656,8,s,a)}function Ip(s,a){return vd(2048,8,s,a)}function q0(s,a){return vd(4,2,s,a)}function K0(s,a){return vd(4,4,s,a)}function G0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Q0(s,a,u){return u=u!=null?u.concat([s]):null,vd(4,4,G0.bind(null,a,s),u)}function Pp(){}function Y0(s,a){var u=Wn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&wp(a,p[1])?p[0]:(u.memoizedState=[s,a],s)}function X0(s,a){var u=Wn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&wp(a,p[1])?p[0]:(s=s(),u.memoizedState=[s,a],s)}function J0(s,a,u){return(oo&21)===0?(s.baseState&&(s.baseState=!1,mn=!0),s.memoizedState=u):(dr(u,a)||(u=Qs(),at.lanes|=u,ao|=u,s.baseState=!0),a)}function TR(s,a){var u=$e;$e=u!==0&&4>u?u:4,s(!0);var p=_p.transition;_p.transition={};try{s(!1),a()}finally{$e=u,_p.transition=p}}function Z0(){return Wn().memoizedState}function SR(s,a,u){var p=Zi(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},e_(s))t_(a,u);else if(u=b0(s,a,u,p),u!==null){var y=ln();gr(u,s,p,y),n_(u,a,p)}}function xR(s,a,u){var p=Zi(s),y={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(e_(s))t_(a,y);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var S=a.lastRenderedState,O=_(S,u);if(y.hasEagerState=!0,y.eagerState=O,dr(O,S)){var j=a.interleaved;j===null?(y.next=y,fp(a)):(y.next=j.next,j.next=y),a.interleaved=y;return}}catch{}finally{}u=b0(s,a,y,p),u!==null&&(y=ln(),gr(u,s,p,y),n_(u,a,p))}}function e_(s){var a=s.alternate;return s===at||a!==null&&a===at}function t_(s,a){eu=gd=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function n_(s,a,u){if((u&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Fi(s,u)}}var _d={readContext:zn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},IR={readContext:zn,useCallback:function(s,a){return Dr().memoizedState=[s,a===void 0?null:a],s},useContext:zn,useEffect:H0,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,yd(4194308,4,G0.bind(null,a,s),u)},useLayoutEffect:function(s,a){return yd(4194308,4,s,a)},useInsertionEffect:function(s,a){return yd(4,2,s,a)},useMemo:function(s,a){var u=Dr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var p=Dr();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=SR.bind(null,at,s),[p.memoizedState,s]},useRef:function(s){var a=Dr();return s={current:s},a.memoizedState=s},useState:z0,useDebugValue:Pp,useDeferredValue:function(s){return Dr().memoizedState=s},useTransition:function(){var s=z0(!1),a=s[0];return s=TR.bind(null,s[1]),Dr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var p=at,y=Dr();if(st){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Nt===null)throw Error(t(349));(oo&30)!==0||F0(p,a,u)}y.memoizedState=u;var _={value:u,getSnapshot:a};return y.queue=_,H0(U0.bind(null,p,_,s),[s]),p.flags|=2048,ru(9,j0.bind(null,p,_,u,a),void 0,null),u},useId:function(){var s=Dr(),a=Nt.identifierPrefix;if(st){var u=si,p=ii;u=(p&~(1<<32-sn(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=tu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=ER++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},PR={readContext:zn,useCallback:Y0,useContext:zn,useEffect:Ip,useImperativeHandle:Q0,useInsertionEffect:q0,useLayoutEffect:K0,useMemo:X0,useReducer:Sp,useRef:W0,useState:function(){return Sp(nu)},useDebugValue:Pp,useDeferredValue:function(s){var a=Wn();return J0(a,Rt.memoizedState,s)},useTransition:function(){var s=Sp(nu)[0],a=Wn().memoizedState;return[s,a]},useMutableSource:V0,useSyncExternalStore:M0,useId:Z0,unstable_isNewReconciler:!1},CR={readContext:zn,useCallback:Y0,useContext:zn,useEffect:Ip,useImperativeHandle:Q0,useInsertionEffect:q0,useLayoutEffect:K0,useMemo:X0,useReducer:xp,useRef:W0,useState:function(){return xp(nu)},useDebugValue:Pp,useDeferredValue:function(s){var a=Wn();return Rt===null?a.memoizedState=s:J0(a,Rt.memoizedState,s)},useTransition:function(){var s=xp(nu)[0],a=Wn().memoizedState;return[s,a]},useMutableSource:V0,useSyncExternalStore:M0,useId:Z0,unstable_isNewReconciler:!1};function fr(s,a){if(s&&s.defaultProps){a=se({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Cp(s,a,u,p){a=s.memoizedState,u=u(p,a),u=u==null?a:se({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var wd={isMounted:function(s){return(s=s._reactInternals)?ir(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var p=ln(),y=Zi(s),_=ai(p,y);_.payload=a,u!=null&&(_.callback=u),a=Qi(s,_,y),a!==null&&(gr(a,s,y,p),hd(a,s,y))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var p=ln(),y=Zi(s),_=ai(p,y);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=Qi(s,_,y),a!==null&&(gr(a,s,y,p),hd(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=ln(),p=Zi(s),y=ai(u,p);y.tag=2,a!=null&&(y.callback=a),a=Qi(s,y,p),a!==null&&(gr(a,s,p,u),hd(a,s,p))}};function r_(s,a,u,p,y,_,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,S):a.prototype&&a.prototype.isPureReactComponent?!zl(u,p)||!zl(y,_):!0}function i_(s,a,u){var p=!1,y=qi,_=a.contextType;return typeof _=="object"&&_!==null?_=zn(_):(y=pn(a)?to:qt.current,p=a.contextTypes,_=(p=p!=null)?ma(s,y):qi),a=new a(u,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=wd,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=_),a}function s_(s,a,u,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==s&&wd.enqueueReplaceState(a,a.state,null)}function Ap(s,a,u,p){var y=s.stateNode;y.props=u,y.state=s.memoizedState,y.refs={},pp(s);var _=a.contextType;typeof _=="object"&&_!==null?y.context=zn(_):(_=pn(a)?to:qt.current,y.context=ma(s,_)),y.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Cp(s,a,_,u),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&wd.enqueueReplaceState(y,y.state,null),fd(s,u,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Sa(s,a){try{var u="",p=a;do u+=Pe(p),p=p.return;while(p);var y=u}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:y,digest:null}}function Rp(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function kp(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var AR=typeof WeakMap=="function"?WeakMap:Map;function o_(s,a,u){u=ai(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){Cd||(Cd=!0,Hp=p),kp(s,a)},u}function a_(s,a,u){u=ai(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;u.payload=function(){return p(y)},u.callback=function(){kp(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){kp(s,a),typeof p!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),u}function l_(s,a,u){var p=s.pingCache;if(p===null){p=s.pingCache=new AR;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(u)||(y.add(u),s=$R.bind(null,s,a,u),a.then(s,s))}function u_(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function c_(s,a,u,p,y){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=ai(-1,1),a.tag=2,Qi(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var RR=z.ReactCurrentOwner,mn=!1;function an(s,a,u,p){a.child=s===null?k0(a,null,u,p):_a(a,s.child,u,p)}function d_(s,a,u,p,y){u=u.render;var _=a.ref;return Ea(a,y),p=Ep(s,a,u,p,_,y),u=Tp(),s!==null&&!mn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,li(s,a,y)):(st&&u&&ip(a),a.flags|=1,an(s,a,p,y),a.child)}function h_(s,a,u,p,y){if(s===null){var _=u.type;return typeof _=="function"&&!Jp(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,f_(s,a,_,p,y)):(s=Od(u.type,null,p,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&y)===0){var S=_.memoizedProps;if(u=u.compare,u=u!==null?u:zl,u(S,p)&&s.ref===a.ref)return li(s,a,y)}return a.flags|=1,s=ts(_,p),s.ref=a.ref,s.return=a,a.child=s}function f_(s,a,u,p,y){if(s!==null){var _=s.memoizedProps;if(zl(_,p)&&s.ref===a.ref)if(mn=!1,a.pendingProps=p=_,(s.lanes&y)!==0)(s.flags&131072)!==0&&(mn=!0);else return a.lanes=s.lanes,li(s,a,y)}return bp(s,a,u,p,y)}function p_(s,a,u){var p=a.pendingProps,y=p.children,_=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Ia,bn),bn|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Je(Ia,bn),bn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:u,Je(Ia,bn),bn|=p}else _!==null?(p=_.baseLanes|u,a.memoizedState=null):p=u,Je(Ia,bn),bn|=p;return an(s,a,y,u),a.child}function m_(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function bp(s,a,u,p,y){var _=pn(u)?to:qt.current;return _=ma(a,_),Ea(a,y),u=Ep(s,a,u,p,_,y),p=Tp(),s!==null&&!mn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,li(s,a,y)):(st&&p&&ip(a),a.flags|=1,an(s,a,u,y),a.child)}function g_(s,a,u,p,y){if(pn(u)){var _=!0;id(a)}else _=!1;if(Ea(a,y),a.stateNode===null)Td(s,a),i_(a,u,p),Ap(a,u,p,y),p=!0;else if(s===null){var S=a.stateNode,O=a.memoizedProps;S.props=O;var j=S.context,G=u.contextType;typeof G=="object"&&G!==null?G=zn(G):(G=pn(u)?to:qt.current,G=ma(a,G));var ne=u.getDerivedStateFromProps,ie=typeof ne=="function"||typeof S.getSnapshotBeforeUpdate=="function";ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==p||j!==G)&&s_(a,S,p,G),Gi=!1;var te=a.memoizedState;S.state=te,fd(a,p,S,y),j=a.memoizedState,O!==p||te!==j||fn.current||Gi?(typeof ne=="function"&&(Cp(a,u,ne,p),j=a.memoizedState),(O=Gi||r_(a,u,O,p,te,j,G))?(ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=j),S.props=p,S.state=j,S.context=G,p=O):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{S=a.stateNode,D0(s,a),O=a.memoizedProps,G=a.type===a.elementType?O:fr(a.type,O),S.props=G,ie=a.pendingProps,te=S.context,j=u.contextType,typeof j=="object"&&j!==null?j=zn(j):(j=pn(u)?to:qt.current,j=ma(a,j));var ce=u.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==ie||te!==j)&&s_(a,S,p,j),Gi=!1,te=a.memoizedState,S.state=te,fd(a,p,S,y);var me=a.memoizedState;O!==ie||te!==me||fn.current||Gi?(typeof ce=="function"&&(Cp(a,u,ce,p),me=a.memoizedState),(G=Gi||r_(a,u,G,p,te,me,j)||!1)?(ne||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,me,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,me,j)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=me),S.props=p,S.state=me,S.context=j,p=G):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),p=!1)}return Dp(s,a,u,p,_,y)}function Dp(s,a,u,p,y,_){m_(s,a);var S=(a.flags&128)!==0;if(!p&&!S)return y&&E0(a,u,!1),li(s,a,_);p=a.stateNode,RR.current=a;var O=S&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&S?(a.child=_a(a,s.child,null,_),a.child=_a(a,null,O,_)):an(s,a,O,_),a.memoizedState=p.state,y&&E0(a,u,!0),a.child}function y_(s){var a=s.stateNode;a.pendingContext?_0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&_0(s,a.context,!1),mp(s,a.containerInfo)}function v_(s,a,u,p,y){return va(),lp(y),a.flags|=256,an(s,a,u,p),a.child}var Op={dehydrated:null,treeContext:null,retryLane:0};function Np(s){return{baseLanes:s,cachePool:null,transitions:null}}function __(s,a,u){var p=a.pendingProps,y=ot.current,_=!1,S=(a.flags&128)!==0,O;if((O=S)||(O=s!==null&&s.memoizedState===null?!1:(y&2)!==0),O?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),Je(ot,y&1),s===null)return ap(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=p.children,s=p.fallback,_?(p=a.mode,_=a.child,S={mode:"hidden",children:S},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=S):_=Nd(S,p,0,null),s=ho(s,p,u,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=Np(u),a.memoizedState=Op,s):Lp(a,S));if(y=s.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return kR(s,a,S,p,O,y,u);if(_){_=p.fallback,S=a.mode,y=s.child,O=y.sibling;var j={mode:"hidden",children:p.children};return(S&1)===0&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=j,a.deletions=null):(p=ts(y,j),p.subtreeFlags=y.subtreeFlags&14680064),O!==null?_=ts(O,_):(_=ho(_,S,u,null),_.flags|=2),_.return=a,p.return=a,p.sibling=_,a.child=p,p=_,_=a.child,S=s.child.memoizedState,S=S===null?Np(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},_.memoizedState=S,_.childLanes=s.childLanes&~u,a.memoizedState=Op,p}return _=s.child,s=_.sibling,p=ts(_,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=p,a.memoizedState=null,p}function Lp(s,a){return a=Nd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ed(s,a,u,p){return p!==null&&lp(p),_a(a,s.child,null,u),s=Lp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function kR(s,a,u,p,y,_,S){if(u)return a.flags&256?(a.flags&=-257,p=Rp(Error(t(422))),Ed(s,a,S,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=p.fallback,y=a.mode,p=Nd({mode:"visible",children:p.children},y,0,null),_=ho(_,y,S,null),_.flags|=2,p.return=a,_.return=a,p.sibling=_,a.child=p,(a.mode&1)!==0&&_a(a,s.child,null,S),a.child.memoizedState=Np(S),a.memoizedState=Op,_);if((a.mode&1)===0)return Ed(s,a,S,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var O=p.dgst;return p=O,_=Error(t(419)),p=Rp(_,p,void 0),Ed(s,a,S,p)}if(O=(S&s.childLanes)!==0,mn||O){if(p=Nt,p!==null){switch(S&-S){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|S))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,oi(s,y),gr(p,s,y,-1))}return Xp(),p=Rp(Error(t(421))),Ed(s,a,S,p)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=zR.bind(null,s),y._reactRetry=a,null):(s=_.treeContext,kn=Wi(y.nextSibling),Rn=a,st=!0,hr=null,s!==null&&(Bn[$n++]=ii,Bn[$n++]=si,Bn[$n++]=no,ii=s.id,si=s.overflow,no=a),a=Lp(a,p.children),a.flags|=4096,a)}function w_(s,a,u){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),hp(s.return,a,u)}function Vp(s,a,u,p,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=u,_.tailMode=y)}function E_(s,a,u){var p=a.pendingProps,y=p.revealOrder,_=p.tail;if(an(s,a,p.children,u),p=ot.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&w_(s,u,a);else if(s.tag===19)w_(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Je(ot,p),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)s=u.alternate,s!==null&&pd(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Vp(a,!1,y,u,_);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&pd(s)===null){a.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Vp(a,!0,u,null,_);break;case"together":Vp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Td(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function li(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),ao|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=ts(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=ts(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function bR(s,a,u){switch(a.tag){case 3:y_(a),va();break;case 5:L0(a);break;case 1:pn(a.type)&&id(a);break;case 4:mp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;Je(cd,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Je(ot,ot.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?__(s,a,u):(Je(ot,ot.current&1),s=li(s,a,u),s!==null?s.sibling:null);Je(ot,ot.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(s.flags&128)!==0){if(p)return E_(s,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Je(ot,ot.current),p)break;return null;case 22:case 23:return a.lanes=0,p_(s,a,u)}return li(s,a,u)}var T_,Mp,S_,x_;T_=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Mp=function(){},S_=function(s,a,u,p){var y=s.memoizedProps;if(y!==p){s=a.stateNode,so(br.current);var _=null;switch(u){case"input":y=Gr(s,y),p=Gr(s,p),_=[];break;case"select":y=se({},y,{value:void 0}),p=se({},p,{value:void 0}),_=[];break;case"textarea":y=bi(s,y),p=bi(s,p),_=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=td)}xl(u,p);var S;u=null;for(G in y)if(!p.hasOwnProperty(G)&&y.hasOwnProperty(G)&&y[G]!=null)if(G==="style"){var O=y[G];for(S in O)O.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?_||(_=[]):(_=_||[]).push(G,null));for(G in p){var j=p[G];if(O=y?.[G],p.hasOwnProperty(G)&&j!==O&&(j!=null||O!=null))if(G==="style")if(O){for(S in O)!O.hasOwnProperty(S)||j&&j.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in j)j.hasOwnProperty(S)&&O[S]!==j[S]&&(u||(u={}),u[S]=j[S])}else u||(_||(_=[]),_.push(G,u)),u=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,O=O?O.__html:void 0,j!=null&&O!==j&&(_=_||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(_=_||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&et("scroll",s),_||O===j||(_=[])):(_=_||[]).push(G,j))}u&&(_=_||[]).push("style",u);var G=_;(a.updateQueue=G)&&(a.flags|=4)}},x_=function(s,a,u,p){u!==p&&(a.flags|=4)};function iu(s,a){if(!st)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Gt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(a)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=u,a}function DR(s,a,u){var p=a.pendingProps;switch(sp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(a),null;case 1:return pn(a.type)&&rd(),Gt(a),null;case 3:return p=a.stateNode,Ta(),tt(fn),tt(qt),vp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(ld(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,hr!==null&&(Gp(hr),hr=null))),Mp(s,a),Gt(a),null;case 5:gp(a);var y=so(Zl.current);if(u=a.type,s!==null&&a.stateNode!=null)S_(s,a,u,p,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Gt(a),null}if(s=so(br.current),ld(a)){p=a.stateNode,u=a.type;var _=a.memoizedProps;switch(p[kr]=a,p[Gl]=_,s=(a.mode&1)!==0,u){case"dialog":et("cancel",p),et("close",p);break;case"iframe":case"object":case"embed":et("load",p);break;case"video":case"audio":for(y=0;y<Hl.length;y++)et(Hl[y],p);break;case"source":et("error",p);break;case"img":case"image":case"link":et("error",p),et("load",p);break;case"details":et("toggle",p);break;case"input":Ci(p,_),et("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},et("invalid",p);break;case"textarea":Qr(p,_),et("invalid",p)}xl(u,_),y=null;for(var S in _)if(_.hasOwnProperty(S)){var O=_[S];S==="children"?typeof O=="string"?p.textContent!==O&&(_.suppressHydrationWarning!==!0&&ed(p.textContent,O,s),y=["children",O]):typeof O=="number"&&p.textContent!==""+O&&(_.suppressHydrationWarning!==!0&&ed(p.textContent,O,s),y=["children",""+O]):i.hasOwnProperty(S)&&O!=null&&S==="onScroll"&&et("scroll",p)}switch(u){case"input":xn(p),Uo(p,_,!0);break;case"textarea":xn(p),Di(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=td)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{S=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ct(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=S.createElement(u,{is:p.is}):(s=S.createElement(u),u==="select"&&(S=s,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):s=S.createElementNS(s,u),s[kr]=a,s[Gl]=p,T_(s,a,!1,!1),a.stateNode=s;e:{switch(S=Il(u,p),u){case"dialog":et("cancel",s),et("close",s),y=p;break;case"iframe":case"object":case"embed":et("load",s),y=p;break;case"video":case"audio":for(y=0;y<Hl.length;y++)et(Hl[y],s);y=p;break;case"source":et("error",s),y=p;break;case"img":case"image":case"link":et("error",s),et("load",s),y=p;break;case"details":et("toggle",s),y=p;break;case"input":Ci(s,p),y=Gr(s,p),et("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=se({},p,{value:void 0}),et("invalid",s);break;case"textarea":Qr(s,p),y=bi(s,p),et("invalid",s);break;default:y=p}xl(u,y),O=y;for(_ in O)if(O.hasOwnProperty(_)){var j=O[_];_==="style"?Tl(s,j):_==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&wl(s,j)):_==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&Oi(s,j):typeof j=="number"&&Oi(s,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?j!=null&&_==="onScroll"&&et("scroll",s):j!=null&&F(s,_,j,S))}switch(u){case"input":xn(s),Uo(s,p,!1);break;case"textarea":xn(s),Di(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Le(p.value));break;case"select":s.multiple=!!p.multiple,_=p.value,_!=null?cn(s,!!p.multiple,_,!1):p.defaultValue!=null&&cn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=td)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Gt(a),null;case 6:if(s&&a.stateNode!=null)x_(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(u=so(Zl.current),so(br.current),ld(a)){if(p=a.stateNode,u=a.memoizedProps,p[kr]=a,(_=p.nodeValue!==u)&&(s=Rn,s!==null))switch(s.tag){case 3:ed(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ed(p.nodeValue,u,(s.mode&1)!==0)}_&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[kr]=a,a.stateNode=p}return Gt(a),null;case 13:if(tt(ot),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(st&&kn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)C0(),va(),a.flags|=98560,_=!1;else if(_=ld(a),p!==null&&p.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[kr]=a}else va(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Gt(a),_=!1}else hr!==null&&(Gp(hr),hr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ot.current&1)!==0?kt===0&&(kt=3):Xp())),a.updateQueue!==null&&(a.flags|=4),Gt(a),null);case 4:return Ta(),Mp(s,a),s===null&&ql(a.stateNode.containerInfo),Gt(a),null;case 10:return dp(a.type._context),Gt(a),null;case 17:return pn(a.type)&&rd(),Gt(a),null;case 19:if(tt(ot),_=a.memoizedState,_===null)return Gt(a),null;if(p=(a.flags&128)!==0,S=_.rendering,S===null)if(p)iu(_,!1);else{if(kt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=pd(s),S!==null){for(a.flags|=128,iu(_,!1),p=S.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)_=u,s=p,_.flags&=14680066,S=_.alternate,S===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=S.childLanes,_.lanes=S.lanes,_.child=S.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=S.memoizedProps,_.memoizedState=S.memoizedState,_.updateQueue=S.updateQueue,_.type=S.type,s=S.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Je(ot,ot.current&1|2),a.child}s=s.sibling}_.tail!==null&&Xe()>Pa&&(a.flags|=128,p=!0,iu(_,!1),a.lanes=4194304)}else{if(!p)if(s=pd(S),s!==null){if(a.flags|=128,p=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),iu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!st)return Gt(a),null}else 2*Xe()-_.renderingStartTime>Pa&&u!==1073741824&&(a.flags|=128,p=!0,iu(_,!1),a.lanes=4194304);_.isBackwards?(S.sibling=a.child,a.child=S):(u=_.last,u!==null?u.sibling=S:a.child=S,_.last=S)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Xe(),a.sibling=null,u=ot.current,Je(ot,p?u&1|2:u&1),a):(Gt(a),null);case 22:case 23:return Yp(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(bn&1073741824)!==0&&(Gt(a),a.subtreeFlags&6&&(a.flags|=8192)):Gt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function OR(s,a){switch(sp(a),a.tag){case 1:return pn(a.type)&&rd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ta(),tt(fn),tt(qt),vp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return gp(a),null;case 13:if(tt(ot),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));va()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return tt(ot),null;case 4:return Ta(),null;case 10:return dp(a.type._context),null;case 22:case 23:return Yp(),null;case 24:return null;default:return null}}var Sd=!1,Qt=!1,NR=typeof WeakSet=="function"?WeakSet:Set,pe=null;function xa(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){ht(s,a,p)}else u.current=null}function Fp(s,a,u){try{u()}catch(p){ht(s,a,p)}}var I_=!1;function LR(s,a){if(Yf=Bi,s=r0(),$f(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var S=0,O=-1,j=-1,G=0,ne=0,ie=s,te=null;t:for(;;){for(var ce;ie!==u||y!==0&&ie.nodeType!==3||(O=S+y),ie!==_||p!==0&&ie.nodeType!==3||(j=S+p),ie.nodeType===3&&(S+=ie.nodeValue.length),(ce=ie.firstChild)!==null;)te=ie,ie=ce;for(;;){if(ie===s)break t;if(te===u&&++G===y&&(O=S),te===_&&++ne===p&&(j=S),(ce=ie.nextSibling)!==null)break;ie=te,te=ie.parentNode}ie=ce}u=O===-1||j===-1?null:{start:O,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Xf={focusedElem:s,selectionRange:u},Bi=!1,pe=a;pe!==null;)if(a=pe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,pe=s;else for(;pe!==null;){a=pe;try{var me=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,yt=me.memoizedState,H=a.stateNode,B=H.getSnapshotBeforeUpdate(a.elementType===a.type?ge:fr(a.type,ge),yt);H.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=a.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){ht(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,pe=s;break}pe=a.return}return me=I_,I_=!1,me}function su(s,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var _=y.destroy;y.destroy=void 0,_!==void 0&&Fp(a,u,_)}y=y.next}while(y!==p)}}function xd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function jp(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function P_(s){var a=s.alternate;a!==null&&(s.alternate=null,P_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[kr],delete a[Gl],delete a[tp],delete a[yR],delete a[vR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function C_(s){return s.tag===5||s.tag===3||s.tag===4}function A_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||C_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Up(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=td));else if(p!==4&&(s=s.child,s!==null))for(Up(s,a,u),s=s.sibling;s!==null;)Up(s,a,u),s=s.sibling}function Bp(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Bp(s,a,u),s=s.sibling;s!==null;)Bp(s,a,u),s=s.sibling}var Ut=null,pr=!1;function Yi(s,a,u){for(u=u.child;u!==null;)R_(s,a,u),u=u.sibling}function R_(s,a,u){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Ks,u)}catch{}switch(u.tag){case 5:Qt||xa(u,a);case 6:var p=Ut,y=pr;Ut=null,Yi(s,a,u),Ut=p,pr=y,Ut!==null&&(pr?(s=Ut,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Ut.removeChild(u.stateNode));break;case 18:Ut!==null&&(pr?(s=Ut,u=u.stateNode,s.nodeType===8?ep(s.parentNode,u):s.nodeType===1&&ep(s,u),ur(s)):ep(Ut,u.stateNode));break;case 4:p=Ut,y=pr,Ut=u.stateNode.containerInfo,pr=!0,Yi(s,a,u),Ut=p,pr=y;break;case 0:case 11:case 14:case 15:if(!Qt&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var _=y,S=_.destroy;_=_.tag,S!==void 0&&((_&2)!==0||(_&4)!==0)&&Fp(u,a,S),y=y.next}while(y!==p)}Yi(s,a,u);break;case 1:if(!Qt&&(xa(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(O){ht(u,a,O)}Yi(s,a,u);break;case 21:Yi(s,a,u);break;case 22:u.mode&1?(Qt=(p=Qt)||u.memoizedState!==null,Yi(s,a,u),Qt=p):Yi(s,a,u);break;default:Yi(s,a,u)}}function k_(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new NR),a.forEach(function(p){var y=WR.bind(null,s,p);u.has(p)||(u.add(p),p.then(y,y))})}}function mr(s,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];try{var _=s,S=a,O=S;e:for(;O!==null;){switch(O.tag){case 5:Ut=O.stateNode,pr=!1;break e;case 3:Ut=O.stateNode.containerInfo,pr=!0;break e;case 4:Ut=O.stateNode.containerInfo,pr=!0;break e}O=O.return}if(Ut===null)throw Error(t(160));R_(_,S,y),Ut=null,pr=!1;var j=y.alternate;j!==null&&(j.return=null),y.return=null}catch(G){ht(y,a,G)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)b_(a,s),a=a.sibling}function b_(s,a){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(mr(a,s),Or(s),p&4){try{su(3,s,s.return),xd(3,s)}catch(ge){ht(s,s.return,ge)}try{su(5,s,s.return)}catch(ge){ht(s,s.return,ge)}}break;case 1:mr(a,s),Or(s),p&512&&u!==null&&xa(u,u.return);break;case 5:if(mr(a,s),Or(s),p&512&&u!==null&&xa(u,u.return),s.flags&32){var y=s.stateNode;try{Oi(y,"")}catch(ge){ht(s,s.return,ge)}}if(p&4&&(y=s.stateNode,y!=null)){var _=s.memoizedProps,S=u!==null?u.memoizedProps:_,O=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{O==="input"&&_.type==="radio"&&_.name!=null&&Ai(y,_),Il(O,S);var G=Il(O,_);for(S=0;S<j.length;S+=2){var ne=j[S],ie=j[S+1];ne==="style"?Tl(y,ie):ne==="dangerouslySetInnerHTML"?wl(y,ie):ne==="children"?Oi(y,ie):F(y,ne,ie,G)}switch(O){case"input":Ri(y,_);break;case"textarea":Tr(y,_);break;case"select":var te=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var ce=_.value;ce!=null?cn(y,!!_.multiple,ce,!1):te!==!!_.multiple&&(_.defaultValue!=null?cn(y,!!_.multiple,_.defaultValue,!0):cn(y,!!_.multiple,_.multiple?[]:"",!1))}y[Gl]=_}catch(ge){ht(s,s.return,ge)}}break;case 6:if(mr(a,s),Or(s),p&4){if(s.stateNode===null)throw Error(t(162));y=s.stateNode,_=s.memoizedProps;try{y.nodeValue=_}catch(ge){ht(s,s.return,ge)}}break;case 3:if(mr(a,s),Or(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{ur(a.containerInfo)}catch(ge){ht(s,s.return,ge)}break;case 4:mr(a,s),Or(s);break;case 13:mr(a,s),Or(s),y=s.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(Wp=Xe())),p&4&&k_(s);break;case 22:if(ne=u!==null&&u.memoizedState!==null,s.mode&1?(Qt=(G=Qt)||ne,mr(a,s),Qt=G):mr(a,s),Or(s),p&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!ne&&(s.mode&1)!==0)for(pe=s,ne=s.child;ne!==null;){for(ie=pe=ne;pe!==null;){switch(te=pe,ce=te.child,te.tag){case 0:case 11:case 14:case 15:su(4,te,te.return);break;case 1:xa(te,te.return);var me=te.stateNode;if(typeof me.componentWillUnmount=="function"){p=te,u=te.return;try{a=p,me.props=a.memoizedProps,me.state=a.memoizedState,me.componentWillUnmount()}catch(ge){ht(p,u,ge)}}break;case 5:xa(te,te.return);break;case 22:if(te.memoizedState!==null){N_(ie);continue}}ce!==null?(ce.return=te,pe=ce):N_(ie)}ne=ne.sibling}e:for(ne=null,ie=s;;){if(ie.tag===5){if(ne===null){ne=ie;try{y=ie.stateNode,G?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(O=ie.stateNode,j=ie.memoizedProps.style,S=j!=null&&j.hasOwnProperty("display")?j.display:null,O.style.display=El("display",S))}catch(ge){ht(s,s.return,ge)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(ge){ht(s,s.return,ge)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===s)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===s)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===s)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:mr(a,s),Or(s),p&4&&k_(s);break;case 21:break;default:mr(a,s),Or(s)}}function Or(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(C_(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Oi(y,""),p.flags&=-33);var _=A_(s);Bp(s,_,y);break;case 3:case 4:var S=p.stateNode.containerInfo,O=A_(s);Up(s,O,S);break;default:throw Error(t(161))}}catch(j){ht(s,s.return,j)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function VR(s,a,u){pe=s,D_(s)}function D_(s,a,u){for(var p=(s.mode&1)!==0;pe!==null;){var y=pe,_=y.child;if(y.tag===22&&p){var S=y.memoizedState!==null||Sd;if(!S){var O=y.alternate,j=O!==null&&O.memoizedState!==null||Qt;O=Sd;var G=Qt;if(Sd=S,(Qt=j)&&!G)for(pe=y;pe!==null;)S=pe,j=S.child,S.tag===22&&S.memoizedState!==null?L_(y):j!==null?(j.return=S,pe=j):L_(y);for(;_!==null;)pe=_,D_(_),_=_.sibling;pe=y,Sd=O,Qt=G}O_(s)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,pe=_):O_(s)}}function O_(s){for(;pe!==null;){var a=pe;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Qt||xd(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Qt)if(u===null)p.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:fr(a.type,u.memoizedProps);p.componentDidUpdate(y,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&N0(a,_,p);break;case 3:var S=a.updateQueue;if(S!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}N0(a,S,u)}break;case 5:var O=a.stateNode;if(u===null&&a.flags&4){u=O;var j=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var G=a.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&ur(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qt||a.flags&512&&jp(a)}catch(te){ht(a,a.return,te)}}if(a===s){pe=null;break}if(u=a.sibling,u!==null){u.return=a.return,pe=u;break}pe=a.return}}function N_(s){for(;pe!==null;){var a=pe;if(a===s){pe=null;break}var u=a.sibling;if(u!==null){u.return=a.return,pe=u;break}pe=a.return}}function L_(s){for(;pe!==null;){var a=pe;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{xd(4,a)}catch(j){ht(a,u,j)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(j){ht(a,y,j)}}var _=a.return;try{jp(a)}catch(j){ht(a,_,j)}break;case 5:var S=a.return;try{jp(a)}catch(j){ht(a,S,j)}}}catch(j){ht(a,a.return,j)}if(a===s){pe=null;break}var O=a.sibling;if(O!==null){O.return=a.return,pe=O;break}pe=a.return}}var MR=Math.ceil,Id=z.ReactCurrentDispatcher,$p=z.ReactCurrentOwner,Hn=z.ReactCurrentBatchConfig,He=0,Nt=null,St=null,Bt=0,bn=0,Ia=Hi(0),kt=0,ou=null,ao=0,Pd=0,zp=0,au=null,gn=null,Wp=0,Pa=1/0,ui=null,Cd=!1,Hp=null,Xi=null,Ad=!1,Ji=null,Rd=0,lu=0,qp=null,kd=-1,bd=0;function ln(){return(He&6)!==0?Xe():kd!==-1?kd:kd=Xe()}function Zi(s){return(s.mode&1)===0?1:(He&2)!==0&&Bt!==0?Bt&-Bt:wR.transition!==null?(bd===0&&(bd=Qs()),bd):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Vl(s.type)),s)}function gr(s,a,u,p){if(50<lu)throw lu=0,qp=null,Error(t(185));Mi(s,u,p),((He&2)===0||s!==Nt)&&(s===Nt&&((He&2)===0&&(Pd|=u),kt===4&&es(s,Bt)),yn(s,p),u===1&&He===0&&(a.mode&1)===0&&(Pa=Xe()+500,sd&&Ki()))}function yn(s,a){var u=s.callbackNode;Xr(s,a);var p=Gs(s,s===Nt?Bt:0);if(p===0)u!==null&&bl(u),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(u!=null&&bl(u),a===1)s.tag===0?_R(M_.bind(null,s)):T0(M_.bind(null,s)),mR(function(){(He&6)===0&&Ki()}),u=null;else{switch(ji(p)){case 1:u=qs;break;case 4:u=Ni;break;case 16:u=Fn;break;case 536870912:u=bc;break;default:u=Fn}u=H_(u,V_.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function V_(s,a){if(kd=-1,bd=0,(He&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Ca()&&s.callbackNode!==u)return null;var p=Gs(s,s===Nt?Bt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=Dd(s,p);else{a=p;var y=He;He|=2;var _=j_();(Nt!==s||Bt!==a)&&(ui=null,Pa=Xe()+500,uo(s,a));do try{UR();break}catch(O){F_(s,O)}while(!0);cp(),Id.current=_,He=y,St!==null?a=0:(Nt=null,Bt=0,a=kt)}if(a!==0){if(a===2&&(y=Pn(s),y!==0&&(p=y,a=Kp(s,y))),a===1)throw u=ou,uo(s,0),es(s,p),yn(s,Xe()),u;if(a===6)es(s,p);else{if(y=s.current.alternate,(p&30)===0&&!FR(y)&&(a=Dd(s,p),a===2&&(_=Pn(s),_!==0&&(p=_,a=Kp(s,_))),a===1))throw u=ou,uo(s,0),es(s,p),yn(s,Xe()),u;switch(s.finishedWork=y,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:co(s,gn,ui);break;case 3:if(es(s,p),(p&130023424)===p&&(a=Wp+500-Xe(),10<a)){if(Gs(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){ln(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Zf(co.bind(null,s,gn,ui),a);break}co(s,gn,ui);break;case 4:if(es(s,p),(p&4194240)===p)break;for(a=s.eventTimes,y=-1;0<p;){var S=31-sn(p);_=1<<S,S=a[S],S>y&&(y=S),p&=~_}if(p=y,p=Xe()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*MR(p/1960))-p,10<p){s.timeoutHandle=Zf(co.bind(null,s,gn,ui),p);break}co(s,gn,ui);break;case 5:co(s,gn,ui);break;default:throw Error(t(329))}}}return yn(s,Xe()),s.callbackNode===u?V_.bind(null,s):null}function Kp(s,a){var u=au;return s.current.memoizedState.isDehydrated&&(uo(s,a).flags|=256),s=Dd(s,a),s!==2&&(a=gn,gn=u,a!==null&&Gp(a)),s}function Gp(s){gn===null?gn=s:gn.push.apply(gn,s)}function FR(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var y=u[p],_=y.getSnapshot;y=y.value;try{if(!dr(_(),y))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function es(s,a){for(a&=~zp,a&=~Pd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-sn(a),p=1<<u;s[u]=-1,a&=~p}}function M_(s){if((He&6)!==0)throw Error(t(327));Ca();var a=Gs(s,0);if((a&1)===0)return yn(s,Xe()),null;var u=Dd(s,a);if(s.tag!==0&&u===2){var p=Pn(s);p!==0&&(a=p,u=Kp(s,p))}if(u===1)throw u=ou,uo(s,0),es(s,a),yn(s,Xe()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,co(s,gn,ui),yn(s,Xe()),null}function Qp(s,a){var u=He;He|=1;try{return s(a)}finally{He=u,He===0&&(Pa=Xe()+500,sd&&Ki())}}function lo(s){Ji!==null&&Ji.tag===0&&(He&6)===0&&Ca();var a=He;He|=1;var u=Hn.transition,p=$e;try{if(Hn.transition=null,$e=1,s)return s()}finally{$e=p,Hn.transition=u,He=a,(He&6)===0&&Ki()}}function Yp(){bn=Ia.current,tt(Ia)}function uo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,pR(u)),St!==null)for(u=St.return;u!==null;){var p=u;switch(sp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&rd();break;case 3:Ta(),tt(fn),tt(qt),vp();break;case 5:gp(p);break;case 4:Ta();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:dp(p.type._context);break;case 22:case 23:Yp()}u=u.return}if(Nt=s,St=s=ts(s.current,null),Bt=bn=a,kt=0,ou=null,zp=Pd=ao=0,gn=au=null,io!==null){for(a=0;a<io.length;a++)if(u=io[a],p=u.interleaved,p!==null){u.interleaved=null;var y=p.next,_=u.pending;if(_!==null){var S=_.next;_.next=y,p.next=S}u.pending=p}io=null}return s}function F_(s,a){do{var u=St;try{if(cp(),md.current=_d,gd){for(var p=at.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}gd=!1}if(oo=0,Ot=Rt=at=null,eu=!1,tu=0,$p.current=null,u===null||u.return===null){kt=1,ou=a,St=null;break}e:{var _=s,S=u.return,O=u,j=a;if(a=Bt,O.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,ne=O,ie=ne.tag;if((ne.mode&1)===0&&(ie===0||ie===11||ie===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=u_(S);if(ce!==null){ce.flags&=-257,c_(ce,S,O,_,a),ce.mode&1&&l_(_,G,a),a=ce,j=G;var me=a.updateQueue;if(me===null){var ge=new Set;ge.add(j),a.updateQueue=ge}else me.add(j);break e}else{if((a&1)===0){l_(_,G,a),Xp();break e}j=Error(t(426))}}else if(st&&O.mode&1){var yt=u_(S);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),c_(yt,S,O,_,a),lp(Sa(j,O));break e}}_=j=Sa(j,O),kt!==4&&(kt=2),au===null?au=[_]:au.push(_),_=S;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var H=o_(_,j,a);O0(_,H);break e;case 1:O=j;var B=_.type,q=_.stateNode;if((_.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Xi===null||!Xi.has(q)))){_.flags|=65536,a&=-a,_.lanes|=a;var oe=a_(_,O,a);O0(_,oe);break e}}_=_.return}while(_!==null)}B_(u)}catch(ye){a=ye,St===u&&u!==null&&(St=u=u.return);continue}break}while(!0)}function j_(){var s=Id.current;return Id.current=_d,s===null?_d:s}function Xp(){(kt===0||kt===3||kt===2)&&(kt=4),Nt===null||(ao&268435455)===0&&(Pd&268435455)===0||es(Nt,Bt)}function Dd(s,a){var u=He;He|=2;var p=j_();(Nt!==s||Bt!==a)&&(ui=null,uo(s,a));do try{jR();break}catch(y){F_(s,y)}while(!0);if(cp(),He=u,Id.current=p,St!==null)throw Error(t(261));return Nt=null,Bt=0,kt}function jR(){for(;St!==null;)U_(St)}function UR(){for(;St!==null&&!Rc();)U_(St)}function U_(s){var a=W_(s.alternate,s,bn);s.memoizedProps=s.pendingProps,a===null?B_(s):St=a,$p.current=null}function B_(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=DR(u,a,bn),u!==null){St=u;return}}else{if(u=OR(u,a),u!==null){u.flags&=32767,St=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{kt=6,St=null;return}}if(a=a.sibling,a!==null){St=a;return}St=a=s}while(a!==null);kt===0&&(kt=5)}function co(s,a,u){var p=$e,y=Hn.transition;try{Hn.transition=null,$e=1,BR(s,a,u,p)}finally{Hn.transition=y,$e=p}return null}function BR(s,a,u,p){do Ca();while(Ji!==null);if((He&6)!==0)throw Error(t(327));u=s.finishedWork;var y=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(Ye(s,_),s===Nt&&(St=Nt=null,Bt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ad||(Ad=!0,H_(Fn,function(){return Ca(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Hn.transition,Hn.transition=null;var S=$e;$e=1;var O=He;He|=4,$p.current=null,LR(s,u),b_(u,s),aR(Xf),Bi=!!Yf,Xf=Yf=null,s.current=u,VR(u),Nf(),He=O,$e=S,Hn.transition=_}else s.current=u;if(Ad&&(Ad=!1,Ji=s,Rd=y),_=s.pendingLanes,_===0&&(Xi=null),Dc(u.stateNode),yn(s,Xe()),a!==null)for(p=s.onRecoverableError,u=0;u<a.length;u++)y=a[u],p(y.value,{componentStack:y.stack,digest:y.digest});if(Cd)throw Cd=!1,s=Hp,Hp=null,s;return(Rd&1)!==0&&s.tag!==0&&Ca(),_=s.pendingLanes,(_&1)!==0?s===qp?lu++:(lu=0,qp=s):lu=0,Ki(),null}function Ca(){if(Ji!==null){var s=ji(Rd),a=Hn.transition,u=$e;try{if(Hn.transition=null,$e=16>s?16:s,Ji===null)var p=!1;else{if(s=Ji,Ji=null,Rd=0,(He&6)!==0)throw Error(t(331));var y=He;for(He|=4,pe=s.current;pe!==null;){var _=pe,S=_.child;if((pe.flags&16)!==0){var O=_.deletions;if(O!==null){for(var j=0;j<O.length;j++){var G=O[j];for(pe=G;pe!==null;){var ne=pe;switch(ne.tag){case 0:case 11:case 15:su(8,ne,_)}var ie=ne.child;if(ie!==null)ie.return=ne,pe=ie;else for(;pe!==null;){ne=pe;var te=ne.sibling,ce=ne.return;if(P_(ne),ne===G){pe=null;break}if(te!==null){te.return=ce,pe=te;break}pe=ce}}}var me=_.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var yt=ge.sibling;ge.sibling=null,ge=yt}while(ge!==null)}}pe=_}}if((_.subtreeFlags&2064)!==0&&S!==null)S.return=_,pe=S;else e:for(;pe!==null;){if(_=pe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:su(9,_,_.return)}var H=_.sibling;if(H!==null){H.return=_.return,pe=H;break e}pe=_.return}}var B=s.current;for(pe=B;pe!==null;){S=pe;var q=S.child;if((S.subtreeFlags&2064)!==0&&q!==null)q.return=S,pe=q;else e:for(S=B;pe!==null;){if(O=pe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:xd(9,O)}}catch(ye){ht(O,O.return,ye)}if(O===S){pe=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,pe=oe;break e}pe=O.return}}if(He=y,Ki(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Ks,s)}catch{}p=!0}return p}finally{$e=u,Hn.transition=a}}return!1}function $_(s,a,u){a=Sa(u,a),a=o_(s,a,1),s=Qi(s,a,1),a=ln(),s!==null&&(Mi(s,1,a),yn(s,a))}function ht(s,a,u){if(s.tag===3)$_(s,s,u);else for(;a!==null;){if(a.tag===3){$_(a,s,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Xi===null||!Xi.has(p))){s=Sa(u,s),s=a_(a,s,1),a=Qi(a,s,1),s=ln(),a!==null&&(Mi(a,1,s),yn(a,s));break}}a=a.return}}function $R(s,a,u){var p=s.pingCache;p!==null&&p.delete(a),a=ln(),s.pingedLanes|=s.suspendedLanes&u,Nt===s&&(Bt&u)===u&&(kt===4||kt===3&&(Bt&130023424)===Bt&&500>Xe()-Wp?uo(s,0):zp|=u),yn(s,a)}function z_(s,a){a===0&&((s.mode&1)===0?a=1:(a=Yo,Yo<<=1,(Yo&130023424)===0&&(Yo=4194304)));var u=ln();s=oi(s,a),s!==null&&(Mi(s,a,u),yn(s,u))}function zR(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),z_(s,u)}function WR(s,a){var u=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),z_(s,u)}var W_;W_=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||fn.current)mn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return mn=!1,bR(s,a,u);mn=(s.flags&131072)!==0}else mn=!1,st&&(a.flags&1048576)!==0&&S0(a,ad,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Td(s,a),s=a.pendingProps;var y=ma(a,qt.current);Ea(a,u),y=Ep(null,a,p,s,y,u);var _=Tp();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,pn(p)?(_=!0,id(a)):_=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,pp(a),y.updater=wd,a.stateNode=y,y._reactInternals=a,Ap(a,p,s,u),a=Dp(null,a,p,!0,_,u)):(a.tag=0,st&&_&&ip(a),an(null,a,y,u),a=a.child),a;case 16:p=a.elementType;e:{switch(Td(s,a),s=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=qR(p),s=fr(p,s),y){case 0:a=bp(null,a,p,s,u);break e;case 1:a=g_(null,a,p,s,u);break e;case 11:a=d_(null,a,p,s,u);break e;case 14:a=h_(null,a,p,fr(p.type,s),u);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:fr(p,y),bp(s,a,p,y,u);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:fr(p,y),g_(s,a,p,y,u);case 3:e:{if(y_(a),s===null)throw Error(t(387));p=a.pendingProps,_=a.memoizedState,y=_.element,D0(s,a),fd(a,p,null,u);var S=a.memoizedState;if(p=S.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){y=Sa(Error(t(423)),a),a=v_(s,a,p,u,y);break e}else if(p!==y){y=Sa(Error(t(424)),a),a=v_(s,a,p,u,y);break e}else for(kn=Wi(a.stateNode.containerInfo.firstChild),Rn=a,st=!0,hr=null,u=k0(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(va(),p===y){a=li(s,a,u);break e}an(s,a,p,u)}a=a.child}return a;case 5:return L0(a),s===null&&ap(a),p=a.type,y=a.pendingProps,_=s!==null?s.memoizedProps:null,S=y.children,Jf(p,y)?S=null:_!==null&&Jf(p,_)&&(a.flags|=32),m_(s,a),an(s,a,S,u),a.child;case 6:return s===null&&ap(a),null;case 13:return __(s,a,u);case 4:return mp(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=_a(a,null,p,u):an(s,a,p,u),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:fr(p,y),d_(s,a,p,y,u);case 7:return an(s,a,a.pendingProps,u),a.child;case 8:return an(s,a,a.pendingProps.children,u),a.child;case 12:return an(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,_=a.memoizedProps,S=y.value,Je(cd,p._currentValue),p._currentValue=S,_!==null)if(dr(_.value,S)){if(_.children===y.children&&!fn.current){a=li(s,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var O=_.dependencies;if(O!==null){S=_.child;for(var j=O.firstContext;j!==null;){if(j.context===p){if(_.tag===1){j=ai(-1,u&-u),j.tag=2;var G=_.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?j.next=j:(j.next=ne.next,ne.next=j),G.pending=j}}_.lanes|=u,j=_.alternate,j!==null&&(j.lanes|=u),hp(_.return,u,a),O.lanes|=u;break}j=j.next}}else if(_.tag===10)S=_.type===a.type?null:_.child;else if(_.tag===18){if(S=_.return,S===null)throw Error(t(341));S.lanes|=u,O=S.alternate,O!==null&&(O.lanes|=u),hp(S,u,a),S=_.sibling}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===a){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}an(s,a,y.children,u),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Ea(a,u),y=zn(y),p=p(y),a.flags|=1,an(s,a,p,u),a.child;case 14:return p=a.type,y=fr(p,a.pendingProps),y=fr(p.type,y),h_(s,a,p,y,u);case 15:return f_(s,a,a.type,a.pendingProps,u);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:fr(p,y),Td(s,a),a.tag=1,pn(p)?(s=!0,id(a)):s=!1,Ea(a,u),i_(a,p,y),Ap(a,p,y,u),Dp(null,a,p,!0,s,u);case 19:return E_(s,a,u);case 22:return p_(s,a,u)}throw Error(t(156,a.tag))};function H_(s,a){return Go(s,a)}function HR(s,a,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(s,a,u,p){return new HR(s,a,u,p)}function Jp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qR(s){if(typeof s=="function")return Jp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Fe)return 14}return 2}function ts(s,a){var u=s.alternate;return u===null?(u=qn(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Od(s,a,u,p,y,_){var S=2;if(p=s,typeof s=="function")Jp(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case D:return ho(u.children,y,_,a);case P:S=8,y|=8;break;case k:return s=qn(12,u,a,y|2),s.elementType=k,s.lanes=_,s;case b:return s=qn(13,u,a,y),s.elementType=b,s.lanes=_,s;case ve:return s=qn(19,u,a,y),s.elementType=ve,s.lanes=_,s;case he:return Nd(u,y,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:S=10;break e;case L:S=9;break e;case U:S=11;break e;case Fe:S=14;break e;case Re:S=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=qn(S,u,a,y),a.elementType=s,a.type=p,a.lanes=_,a}function ho(s,a,u,p){return s=qn(7,s,p,a),s.lanes=u,s}function Nd(s,a,u,p){return s=qn(22,s,p,a),s.elementType=he,s.lanes=u,s.stateNode={isHidden:!1},s}function Zp(s,a,u){return s=qn(6,s,null,a),s.lanes=u,s}function em(s,a,u){return a=qn(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function KR(s,a,u,p,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function tm(s,a,u,p,y,_,S,O,j){return s=new KR(s,a,u,O,j),a===1?(a=1,_===!0&&(a|=8)):a=0,_=qn(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},pp(_),s}function GR(s,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:p==null?null:""+p,children:s,containerInfo:a,implementation:u}}function q_(s){if(!s)return qi;s=s._reactInternals;e:{if(ir(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(pn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(pn(u))return w0(s,u,a)}return a}function K_(s,a,u,p,y,_,S,O,j){return s=tm(u,p,!0,s,y,_,S,O,j),s.context=q_(null),u=s.current,p=ln(),y=Zi(u),_=ai(p,y),_.callback=a??null,Qi(u,_,y),s.current.lanes=y,Mi(s,y,p),yn(s,p),s}function Ld(s,a,u,p){var y=a.current,_=ln(),S=Zi(y);return u=q_(u),a.context===null?a.context=u:a.pendingContext=u,a=ai(_,S),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Qi(y,a,S),s!==null&&(gr(s,y,S,_),hd(s,y,S)),S}function Vd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function G_(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function nm(s,a){G_(s,a),(s=s.alternate)&&G_(s,a)}function QR(){return null}var Q_=typeof reportError=="function"?reportError:function(s){console.error(s)};function rm(s){this._internalRoot=s}Md.prototype.render=rm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Ld(s,a,null,null)},Md.prototype.unmount=rm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;lo(function(){Ld(null,s,null,null)}),a[ni]=null}};function Md(s){this._internalRoot=s}Md.prototype.unstable_scheduleHydration=function(s){if(s){var a=Mc();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Pr.length&&a!==0&&a<Pr[u].priority;u++);Pr.splice(u,0,s),u===0&&Uc(s)}};function im(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Fd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Y_(){}function YR(s,a,u,p,y){if(y){if(typeof p=="function"){var _=p;p=function(){var G=Vd(S);_.call(G)}}var S=K_(a,p,s,0,null,!1,!1,"",Y_);return s._reactRootContainer=S,s[ni]=S.current,ql(s.nodeType===8?s.parentNode:s),lo(),S}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var O=p;p=function(){var G=Vd(j);O.call(G)}}var j=tm(s,0,!1,null,null,!1,!1,"",Y_);return s._reactRootContainer=j,s[ni]=j.current,ql(s.nodeType===8?s.parentNode:s),lo(function(){Ld(a,j,u,p)}),j}function jd(s,a,u,p,y){var _=u._reactRootContainer;if(_){var S=_;if(typeof y=="function"){var O=y;y=function(){var j=Vd(S);O.call(j)}}Ld(a,S,s,y)}else S=YR(u,a,s,y,p);return Vd(S)}Lc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=Li(a.pendingLanes);u!==0&&(Fi(a,u|1),yn(a,Xe()),(He&6)===0&&(Pa=Xe()+500,Ki()))}break;case 13:lo(function(){var p=oi(s,1);if(p!==null){var y=ln();gr(p,s,1,y)}}),nm(s,1)}},Xo=function(s){if(s.tag===13){var a=oi(s,134217728);if(a!==null){var u=ln();gr(a,s,134217728,u)}nm(s,134217728)}},Vc=function(s){if(s.tag===13){var a=Zi(s),u=oi(s,a);if(u!==null){var p=ln();gr(u,s,a,p)}nm(s,a)}},Mc=function(){return $e},Fc=function(s,a){var u=$e;try{return $e=s,a()}finally{$e=u}},$o=function(s,a,u){switch(a){case"input":if(Ri(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==s&&p.form===s.form){var y=nd(p);if(!y)throw Error(t(90));Pi(p),Ri(p,y)}}}break;case"textarea":Tr(s,u);break;case"select":a=u.value,a!=null&&cn(s,!!u.multiple,a,!1)}},$s=Qp,Cl=lo;var XR={usingClientEntryPoint:!1,Events:[Ql,fa,nd,xr,Pl,Qp]},uu={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JR={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=kl(s),s===null?null:s.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||QR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{Ks=Ud.inject(JR),In=Ud}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XR,vn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!im(a))throw Error(t(200));return GR(s,a,null,u)},vn.createRoot=function(s,a){if(!im(s))throw Error(t(299));var u=!1,p="",y=Q_;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=tm(s,1,!1,null,null,u,!1,p,y),s[ni]=a.current,ql(s.nodeType===8?s.parentNode:s),new rm(a)},vn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=kl(a),s=s===null?null:s.stateNode,s},vn.flushSync=function(s){return lo(s)},vn.hydrate=function(s,a,u){if(!Fd(a))throw Error(t(200));return jd(null,s,a,!0,u)},vn.hydrateRoot=function(s,a,u){if(!im(s))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,y=!1,_="",S=Q_;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),a=K_(a,null,s,1,u??null,y,!1,_,S),s[ni]=a.current,ql(s),p)for(s=0;s<p.length;s++)u=p[s],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new Md(a)},vn.render=function(s,a,u){if(!Fd(a))throw Error(t(200));return jd(null,s,a,!1,u)},vn.unmountComponentAtNode=function(s){if(!Fd(s))throw Error(t(40));return s._reactRootContainer?(lo(function(){jd(null,null,s,!1,function(){s._reactRootContainer=null,s[ni]=null})}),!0):!1},vn.unstable_batchedUpdates=Qp,vn.unstable_renderSubtreeIntoContainer=function(s,a,u,p){if(!Fd(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return jd(s,a,u,!1,p)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var iw;function sS(){if(iw)return am.exports;iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),am.exports=ok(),am.exports}var sw;function ak(){if(sw)return Bd;sw=1;var n=sS();return Bd.createRoot=n.createRoot,Bd.hydrateRoot=n.hydrateRoot,Bd}var lk=ak();const uk=Oo(lk);var A=ty();const pt=Oo(A),ck=ek({__proto__:null,default:pt},[A]);var cm={exports:{}},dm,ow;function dk(){if(ow)return dm;ow=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dm=n,dm}var hm,aw;function hk(){if(aw)return hm;aw=1;var n=dk();function e(){}function t(){}return t.resetWarningCache=e,hm=function(){function r(l,c,d,f,m,g){if(g!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},hm}var lw;function fk(){return lw||(lw=1,cm.exports=hk()()),cm.exports}var pk=fk();const be=Oo(pk),oS=A.createContext(),dz=()=>A.useContext(oS),mk=n=>{const e=document.documentElement;n?(e.style.setProperty("--background-primary","#0f172a"),e.style.setProperty("--background-secondary","#1e293b"),e.style.setProperty("--surface-primary","#334155"),e.style.setProperty("--surface-secondary","#475569"),e.style.setProperty("--text-primary","#f8fafc"),e.style.setProperty("--text-secondary","#cbd5e1"),e.style.setProperty("--text-muted","#94a3b8"),e.style.setProperty("--border-primary","#475569"),e.style.setProperty("--border-secondary","#64748b"),e.style.setProperty("--glass-bg","rgba(51, 65, 85, 0.8)"),e.style.setProperty("--glass-border","rgba(148, 163, 184, 0.2)"),e.style.setProperty("--accent-success","#10b981"),e.style.setProperty("--accent-error","#ef4444"),e.style.setProperty("--accent-warning","#f59e0b"),e.style.setProperty("--accent-info","#3b82f6"),e.style.setProperty("--pastel-mint","rgba(16, 185, 129, 0.15)"),e.style.setProperty("--pastel-coral","rgba(239, 68, 68, 0.15)"),e.style.setProperty("--pastel-cream","rgba(245, 158, 11, 0.15)"),e.style.setProperty("--pastel-sky","rgba(59, 130, 246, 0.15)"),e.style.setProperty("--pastel-lavender","rgba(139, 92, 246, 0.15)"),e.style.setProperty("--pastel-rose","rgba(236, 72, 153, 0.15)"),e.style.setProperty("--gradient-soft-blue","linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(147, 197, 253, 0.08) 100%)"),e.style.setProperty("--gradient-soft-purple","linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(196, 181, 253, 0.08) 100%)"),e.style.setProperty("--primary-400","#60a5fa"),e.style.setProperty("--primary-500","#3b82f6"),e.style.setProperty("--primary-600","#2563eb"),document.querySelector('meta[name="theme-color"]')?.setAttribute("content","#0f172a")):(e.style.setProperty("--background-primary","#f8fafc"),e.style.setProperty("--background-secondary","#f1f5f9"),e.style.setProperty("--surface-primary","#ffffff"),e.style.setProperty("--surface-secondary","#f8fafc"),e.style.setProperty("--text-primary","#0f172a"),e.style.setProperty("--text-secondary","#334155"),e.style.setProperty("--text-muted","#64748b"),e.style.setProperty("--border-primary","#e2e8f0"),e.style.setProperty("--border-secondary","#cbd5e1"),e.style.setProperty("--glass-bg","rgba(255, 255, 255, 0.8)"),e.style.setProperty("--glass-border","rgba(148, 163, 184, 0.2)"),e.style.setProperty("--accent-success","#10b981"),e.style.setProperty("--accent-error","#ef4444"),e.style.setProperty("--accent-warning","#f59e0b"),e.style.setProperty("--accent-info","#3b82f6"),e.style.setProperty("--pastel-mint","rgba(16, 185, 129, 0.1)"),e.style.setProperty("--pastel-coral","rgba(239, 68, 68, 0.1)"),e.style.setProperty("--pastel-cream","rgba(245, 158, 11, 0.1)"),e.style.setProperty("--pastel-sky","rgba(59, 130, 246, 0.1)"),e.style.setProperty("--pastel-lavender","rgba(139, 92, 246, 0.1)"),e.style.setProperty("--pastel-rose","rgba(236, 72, 153, 0.1)"),e.style.setProperty("--gradient-soft-blue","linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(147, 197, 253, 0.05) 100%)"),e.style.setProperty("--gradient-soft-purple","linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(196, 181, 253, 0.05) 100%)"),e.style.setProperty("--primary-400","#60a5fa"),e.style.setProperty("--primary-500","#3b82f6"),e.style.setProperty("--primary-600","#2563eb"),document.querySelector('meta[name="theme-color"]')?.setAttribute("content","#f8fafc")),document.body.classList.toggle("dark-theme",n),document.body.classList.toggle("light-theme",!n),document.documentElement.classList.toggle("dark-theme",n),document.documentElement.classList.toggle("light-theme",!n)},aS=({children:n})=>{aS.propTypes={children:be.node.isRequired};const[e,t]=A.useState(()=>localStorage.getItem("theme")||"system"),r=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,i=c=>{let d;return c==="system"?d=r():d=c==="dark",mk(d),d},o=c=>{t(c),localStorage.setItem("theme",c),i(c)},l=()=>e==="system"?r()?"dark":"light":e;return A.useEffect(()=>{i(e);const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{e==="system"&&i("system")};return c.addEventListener("change",d),()=>c.removeEventListener("change",d)},[e]),K.jsx(oS.Provider,{value:{theme:e,toggleTheme:o,currentEffectiveTheme:l(),isDarkMode:l()==="dark"},children:n})},gk=()=>{};var uw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},yk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},uS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,m=o>>2,g=(o&3)<<4|c>>4;let w=(c&15)<<2|f>>6,T=f&63;d||(T=64,l||(w=64)),r.push(t[m],t[g],t[w],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):yk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||f==null||g==null)throw new vk;const w=o<<2|c>>4;if(r.push(w),f!==64){const T=c<<4&240|f>>2;if(r.push(T),g!==64){const x=f<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _k=function(n){const e=lS(n);return uS.encodeByteArray(e,!0)},gh=function(n){return _k(n).replace(/\./g,"")},cS=function(n){try{return uS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=()=>wk().__FIREBASE_DEFAULTS__,Tk=()=>{if(typeof process>"u"||typeof uw>"u")return;const n=uw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Sk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cS(n[1]);return e&&JSON.parse(e)},Xh=()=>{try{return gk()||Ek()||Tk()||Sk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dS=n=>{var e,t;return(t=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},xk=n=>{const e=dS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},hS=()=>{var n;return(n=Xh())===null||n===void 0?void 0:n.config},fS=n=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gh(JSON.stringify(t)),gh(JSON.stringify(l)),""].join(".")}const Pu={};function Ck(){const n={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?n.emulator.push(e):n.prod.push(e);return n}function Ak(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let cw=!1;function mS(n,e){if(typeof window>"u"||typeof document>"u"||!ll(window.location.host)||Pu[n]===e||Pu[n]||cw)return;Pu[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=Ck().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function f(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{cw=!0,l()},w}function m(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){const w=Ak(r),T=t("text"),x=document.getElementById(T)||document.createElement("span"),R=t("learnmore"),I=document.getElementById(R)||document.createElement("a"),V=t("preprendIcon"),M=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;c(F),m(I,R);const z=f();d(M,V),F.append(M,x,I,z),document.body.appendChild(F)}o?(x.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function kk(){var n;const e=(n=Xh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ok(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nk(){const n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Lk(){return!kk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vk(){try{return typeof indexedDB=="object"}catch{return!1}}function Mk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="FirebaseError";class Ti extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Fk,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?jk(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ti(i,c,r)}}function jk(n,e){return n.replace(Uk,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Uk=/\{\$([^}]+)}/g;function Bk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Po(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(dw(o)&&dw(l)){if(!Po(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function dw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function gu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function $k(n,e){const t=new zk(n,e);return t.subscribe.bind(t)}class zk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Wk(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=fm),i.error===void 0&&(i.error=fm),i.complete===void 0&&(i.complete=fm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n){return n&&n._delegate?n._delegate:n}class Co{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hk=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ik;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kk(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qk(n){return n===mo?void 0:n}function Kk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Hk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const Qk={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Yk=Ue.INFO,Xk={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Jk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Xk[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let ny=class{constructor(e){this.name=e,this._logLevel=Yk,this._logHandler=Jk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};const Zk=(n,e)=>e.some(t=>n instanceof t);let hw,fw;function eb(){return hw||(hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tb(){return fw||(fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gS=new WeakMap,Gm=new WeakMap,yS=new WeakMap,pm=new WeakMap,ry=new WeakMap;function nb(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(hs(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&gS.set(t,n)}).catch(()=>{}),ry.set(e,n),e}function rb(n){if(Gm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Gm.set(n,e)}let Qm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ib(n){Qm=n(Qm)}function sb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(mm(this),e,...t);return yS.set(r,e.sort?e.sort():[e]),hs(r)}:tb().includes(n)?function(...e){return n.apply(mm(this),e),hs(gS.get(this))}:function(...e){return hs(n.apply(mm(this),e))}}function ob(n){return typeof n=="function"?sb(n):(n instanceof IDBTransaction&&rb(n),Zk(n,eb())?new Proxy(n,Qm):n)}function hs(n){if(n instanceof IDBRequest)return nb(n);if(pm.has(n))return pm.get(n);const e=ob(n);return e!==n&&(pm.set(n,e),ry.set(e,n)),e}const mm=n=>ry.get(n);function ab(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=hs(l);return r&&l.addEventListener("upgradeneeded",d=>{r(hs(l.result),d.oldVersion,d.newVersion,hs(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const lb=["get","getKey","getAll","getAllKeys","count"],ub=["put","add","delete","clear"],gm=new Map;function pw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ub.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lb.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&d.done]))[0]};return gm.set(e,o),o}ib(n=>({...n,get:(e,t,r)=>pw(e,t)||n.get(e,t,r),has:(e,t)=>!!pw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(db(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function db(n){const e=n.getComponent();return e?.type==="VERSION"}const Ym="@firebase/app",mw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new ny("@firebase/app"),hb="@firebase/app-compat",fb="@firebase/analytics-compat",pb="@firebase/analytics",mb="@firebase/app-check-compat",gb="@firebase/app-check",yb="@firebase/auth",vb="@firebase/auth-compat",_b="@firebase/database",wb="@firebase/data-connect",Eb="@firebase/database-compat",Tb="@firebase/functions",Sb="@firebase/functions-compat",xb="@firebase/installations",Ib="@firebase/installations-compat",Pb="@firebase/messaging",Cb="@firebase/messaging-compat",Ab="@firebase/performance",Rb="@firebase/performance-compat",kb="@firebase/remote-config",bb="@firebase/remote-config-compat",Db="@firebase/storage",Ob="@firebase/storage-compat",Nb="@firebase/firestore",Lb="@firebase/ai",Vb="@firebase/firestore-compat",Mb="firebase",Fb="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",jb={[Ym]:"fire-core",[hb]:"fire-core-compat",[pb]:"fire-analytics",[fb]:"fire-analytics-compat",[gb]:"fire-app-check",[mb]:"fire-app-check-compat",[yb]:"fire-auth",[vb]:"fire-auth-compat",[_b]:"fire-rtdb",[wb]:"fire-data-connect",[Eb]:"fire-rtdb-compat",[Tb]:"fire-fn",[Sb]:"fire-fn-compat",[xb]:"fire-iid",[Ib]:"fire-iid-compat",[Pb]:"fire-fcm",[Cb]:"fire-fcm-compat",[Ab]:"fire-perf",[Rb]:"fire-perf-compat",[kb]:"fire-rc",[bb]:"fire-rc-compat",[Db]:"fire-gcs",[Ob]:"fire-gcs-compat",[Nb]:"fire-fst",[Vb]:"fire-fst-compat",[Lb]:"fire-vertex","fire-js":"fire-js",[Mb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,Ub=new Map,Jm=new Map;function gw(n,e){try{n.container.addComponent(e)}catch(t){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ga(n){const e=n.name;if(Jm.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,n);for(const t of yh.values())gw(t,n);for(const t of Ub.values())gw(t,n);return!0}function iy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new oc("app","Firebase",Bb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=Fb;function vS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw fs.create("bad-app-name",{appName:String(i)});if(t||(t=hS()),!t)throw fs.create("no-options");const o=yh.get(i);if(o){if(Po(t,o.options)&&Po(r,o.config))return o;throw fs.create("duplicate-app",{appName:i})}const l=new Gk(i);for(const d of Jm.values())l.addComponent(d);const c=new $b(t,r,l);return yh.set(i,c),c}function _S(n=Xm){const e=yh.get(n);if(!e&&n===Xm&&hS())return vS();if(!e)throw fs.create("no-app",{appName:n});return e}function ps(n,e,t){var r;let i=(r=jb[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(c.join(" "));return}Ga(new Co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebase-heartbeat-database",Wb=1,Uu="firebase-heartbeat-store";let ym=null;function wS(){return ym||(ym=ab(zb,Wb,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw fs.create("idb-open",{originalErrorMessage:n.message})})),ym}async function Hb(n){try{const t=(await wS()).transaction(Uu),r=await t.objectStore(Uu).get(ES(n));return await t.done,r}catch(e){if(e instanceof Ti)gi.warn(e.message);else{const t=fs.create("idb-get",{originalErrorMessage:e?.message});gi.warn(t.message)}}}async function yw(n,e){try{const r=(await wS()).transaction(Uu,"readwrite");await r.objectStore(Uu).put(e,ES(n)),await r.done}catch(t){if(t instanceof Ti)gi.warn(t.message);else{const r=fs.create("idb-set",{originalErrorMessage:t?.message});gi.warn(r.message)}}}function ES(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=1024,Kb=30;class Gb{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Kb){const l=Xb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vw(),{heartbeatsToSend:r,unsentEntries:i}=Qb(this._heartbeatsCache.heartbeats),o=gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return gi.warn(t),""}}}function vw(){return new Date().toISOString().substring(0,10)}function Qb(n,e=qb){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),_w(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),_w(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Yb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vk()?Mk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Hb(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _w(n){return gh(JSON.stringify({version:2,heartbeats:n})).length}function Xb(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(n){Ga(new Co("platform-logger",e=>new cb(e),"PRIVATE")),Ga(new Co("heartbeat",e=>new Gb(e),"PRIVATE")),ps(Ym,mw,n),ps(Ym,mw,"esm2017"),ps("fire-js","")}Jb("");var Zb="firebase",e2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(Zb,e2,"app");function sy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function TS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t2=TS,SS=new oc("auth","Firebase",TS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new ny("@firebase/auth");function n2(n,...e){vh.logLevel<=Ue.WARN&&vh.warn(`Auth (${ul}): ${n}`,...e)}function th(n,...e){vh.logLevel<=Ue.ERROR&&vh.error(`Auth (${ul}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n,...e){throw oy(n,...e)}function Mr(n,...e){return oy(n,...e)}function xS(n,e,t){const r=Object.assign(Object.assign({},t2()),{[e]:t});return new oc("auth","Firebase",r).create(e,{appName:n.name})}function fi(n){return xS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return SS.create(n,...e)}function xe(n,e,...t){if(!n)throw oy(e,...t)}function di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw th(e),new Error(e)}function yi(n,e){n||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function r2(){return ww()==="http:"||ww()==="https:"}function ww(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r2()||Dk()||"connection"in navigator)?navigator.onLine:!0}function s2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t){this.shortDelay=e,this.longDelay=t,yi(t>e,"Short delay should be less than long delay!"),this.isMobile=Rk()||Ok()}get(){return i2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(n,e){yi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l2=new lc(3e4,6e4);function bs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Si(n,e,t,r,i={}){return PS(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=ac(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return bk()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&ll(n.emulatorConfig.host)&&(f.credentials="include"),IS.fetch()(await CS(n,n.config.apiHost,t,c),f)})}async function PS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},o2),e);try{const i=new c2(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw $d(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw $d(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw $d(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw $d(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw xS(n,m,f);wr(n,m)}}catch(i){if(i instanceof Ti)throw i;wr(n,"network-request-failed",{message:String(i)})}}async function uc(n,e,t,r,i={}){const o=await Si(n,e,t,r,i);return"mfaPendingCredential"in o&&wr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function CS(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?ay(n.config,i):`${n.config.apiScheme}://${i}`;return a2.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function u2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Mr(this.auth,"network-request-failed")),l2.get())})}}function $d(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Mr(n,e,r);return i.customData._tokenResponse=t,i}function Ew(n){return n!==void 0&&n.enterprise!==void 0}class d2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return u2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function h2(n,e){return Si(n,"GET","/v2/recaptchaConfig",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(n,e){return Si(n,"POST","/v1/accounts:delete",e)}async function _h(n,e){return Si(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p2(n,e=!1){const t=Ct(n),r=await t.getIdToken(e),i=ly(r);xe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Cu(vm(i.auth_time)),issuedAtTime:Cu(vm(i.iat)),expirationTime:Cu(vm(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function vm(n){return Number(n)*1e3}function ly(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const i=cS(t);return i?JSON.parse(i):(th("Failed to decode base64 JWT payload"),null)}catch(i){return th("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Tw(n){const e=ly(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ti&&m2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function m2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Qa(n,_h(t,{idToken:r}));xe(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?AS(o.providerUserInfo):[],c=v2(n.providerData,l),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!c?.length,m=d?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new eg(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function y2(n){const e=Ct(n);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AS(n){return n.map(e=>{var{providerId:t}=e,r=sy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(n,e){const t=await PS(n,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await CS(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return n.emulatorConfig&&ll(n.emulatorConfig.host)&&(d.credentials="include"),IS.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function w2(n,e){return Si(n,"POST","/v2/accounts:revokeToken",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=Tw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await _2(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new za;return r&&(xe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(xe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class _r{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Qa(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return p2(this,e)}reload(){return y2(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await Qa(this,f2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,c,d,f,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,I=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(f=t.createdAt)!==null&&f!==void 0?f:void 0,M=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:F,emailVerified:z,isAnonymous:Q,providerData:X,stsTokenManager:D}=t;xe(F&&D,e,"internal-error");const P=za.fromJSON(this.name,D);xe(typeof F=="string",e,"internal-error"),rs(g,e.name),rs(w,e.name),xe(typeof z=="boolean",e,"internal-error"),xe(typeof Q=="boolean",e,"internal-error"),rs(T,e.name),rs(x,e.name),rs(R,e.name),rs(I,e.name),rs(V,e.name),rs(M,e.name);const k=new _r({uid:F,auth:e,email:w,emailVerified:z,displayName:g,isAnonymous:Q,photoURL:x,phoneNumber:T,tenantId:R,stsTokenManager:P,createdAt:V,lastLoginAt:M});return X&&Array.isArray(X)&&(k.providerData=X.map(N=>Object.assign({},N))),I&&(k._redirectEventId=I),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new za;i.updateFromServerResponse(t);const o=new _r({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];xe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?AS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new za;c.updateFromIdToken(r);const d=new _r({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new eg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Map;function hi(n){yi(n instanceof Function,"Expected a class definition");let e=Sw.get(n);return e?(yi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Sw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RS.type="NONE";const xw=RS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(n,e,t){return`firebase:${n}:${e}:${t}`}class Wa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=nh(this.userKey,i.apiKey,o),this.fullPersistenceKey=nh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _h(this.auth,{idToken:e}).catch(()=>{});return t?_r._fromGetAccountInfoResponse(this.auth,t,e):null}return _r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Wa(hi(xw),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||hi(xw);const l=nh(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const m=await f._get(l);if(m){let g;if(typeof m=="string"){const w=await _h(e,{idToken:m}).catch(()=>{});if(!w)break;g=await _r._fromGetAccountInfoResponse(e,w,m)}else g=_r._fromJSON(e,m);f!==o&&(c=g),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Wa(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Wa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LS(e))return"Blackberry";if(VS(e))return"Webos";if(bS(e))return"Safari";if((e.includes("chrome/")||DS(e))&&!e.includes("edge/"))return"Chrome";if(NS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function kS(n=tn()){return/firefox\//i.test(n)}function bS(n=tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DS(n=tn()){return/crios\//i.test(n)}function OS(n=tn()){return/iemobile/i.test(n)}function NS(n=tn()){return/android/i.test(n)}function LS(n=tn()){return/blackberry/i.test(n)}function VS(n=tn()){return/webos/i.test(n)}function uy(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function E2(n=tn()){var e;return uy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T2(){return Nk()&&document.documentMode===10}function MS(n=tn()){return uy(n)||NS(n)||VS(n)||LS(n)||/windows phone/i.test(n)||OS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(n,e=[]){let t;switch(n){case"Browser":t=Iw(tn());break;case"Worker":t=`${Iw(tn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ul}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(n,e={}){return Si(n,"GET","/v2/passwordPolicy",bs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=6;class P2{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:I2,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pw(this),this.idTokenSubscription=new Pw(this),this.beforeStateQueue=new S2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _h(this,{idToken:e}),r=await _r._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(fi(this));const t=e?Ct(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x2(this),t=new P2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await w2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&n2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function No(n){return Ct(n)}class Pw{constructor(e){this.auth=e,this.observer=null,this.addObserver=$k(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A2(n){Jh=n}function jS(n){return Jh.loadJS(n)}function R2(){return Jh.recaptchaEnterpriseScript}function k2(){return Jh.gapiScript}function b2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class D2{constructor(){this.enterprise=new O2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class O2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const N2="recaptcha-enterprise",US="NO_RECAPTCHA";class L2{constructor(e){this.type=N2,this.auth=No(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{h2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new d2(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;Ew(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(US)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new D2().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&Ew(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=R2();d.length!==0&&(d+=c),jS(d).then(()=>{i(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Cw(n,e,t,r=!1,i=!1){const o=new L2(n);let l;if(i)l=US;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function tg(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Cw(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Cw(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(n,e){const t=iy(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Po(o,e??{}))return i;wr(i,"already-initialized")}return t.initialize({options:e})}function M2(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(hi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function F2(n,e,t){const r=No(n);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=BS(e),{host:l,port:c}=j2(e),d=c===null?"":`:${c}`,f={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Po(f,r.config.emulator)&&Po(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,ll(l)?(pS(`${o}//${l}${d}`),mS("Auth",!0)):U2()}function BS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function j2(n){const e=BS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Aw(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:Aw(l)}}}function Aw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function U2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,t){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function B2(n,e){return Si(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(n,e){return uc(n,"POST","/v1/accounts:signInWithPassword",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(n,e){return uc(n,"POST","/v1/accounts:signInWithEmailLink",bs(n,e))}async function W2(n,e){return uc(n,"POST","/v1/accounts:signInWithEmailLink",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends cy{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Bu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Bu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,t,"signInWithPassword",$2);case"emailLink":return z2(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,r,"signUpPassword",B2);case"emailLink":return W2(e,{idToken:t,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(n,e){return uc(n,"POST","/v1/accounts:signInWithIdp",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="http://localhost";class Ao extends cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=sy(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ao(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ha(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ha(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ha(e,t)}buildRequest(){const e={requestUri:H2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ac(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K2(n){const e=mu(gu(n)).link,t=e?mu(gu(e)).deep_link_id:null,r=mu(gu(n)).deep_link_id;return(r?mu(gu(r)).link:null)||r||t||e||n}class dy{constructor(e){var t,r,i,o,l,c;const d=mu(gu(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=q2((i=d.mode)!==null&&i!==void 0?i:null);xe(f&&m&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=K2(e);try{return new dy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,t){return Bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=dy.parseLink(t);return xe(r,"argument-error"),Bu._fromEmailAndCode(e,r.code,r.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends $S{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends cc{constructor(){super("facebook.com")}static credential(e){return Ao._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ao._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return as.credential(t,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends cc{constructor(){super("github.com")}static credential(e){return Ao._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends cc{constructor(){super("twitter.com")}static credential(e,t){return Ao._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return us.credential(t,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n,e){return uc(n,"POST","/v1/accounts:signUp",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await _r._fromIdTokenResponse(e,r,i),l=Rw(r);return new Ro({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Rw(r);return new Ro({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Rw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends Ti{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Eh(e,t,r,i)}}function zS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(n,o,e,r):o})}async function Q2(n,e,t=!1){const r=await Qa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ro._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(n,e,t=!1){const{auth:r}=n;if(Qn(r.app))return Promise.reject(fi(r));const i="reauthenticate";try{const o=await Qa(n,zS(r,i,e,n),t);xe(o.idToken,r,"internal-error");const l=ly(o.idToken);xe(l,r,"internal-error");const{sub:c}=l;return xe(n.uid===c,r,"user-mismatch"),Ro._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&wr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(n,e,t=!1){if(Qn(n.app))return Promise.reject(fi(n));const r="signIn",i=await zS(n,r,e),o=await Ro._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function X2(n,e){return WS(No(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(n){const e=No(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pz(n,e,t){if(Qn(n.app))return Promise.reject(fi(n));const r=No(n),l=await tg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",G2).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&HS(n),d}),c=await Ro._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function mz(n,e,t){return Qn(n.app)?Promise.reject(fi(n)):X2(Ct(n),cl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HS(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(n,e){return Si(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ct(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Qa(r,J2(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Z2(n,e,t,r){return Ct(n).onIdTokenChanged(e,t,r)}function eD(n,e,t){return Ct(n).beforeAuthStateChanged(e,t)}function tD(n,e,t,r){return Ct(n).onAuthStateChanged(e,t,r)}function nD(n){return Ct(n).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=1e3,iD=10;class KS extends qS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);T2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iD):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},rD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}KS.type="LOCAL";const sD=KS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends qS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GS.type="SESSION";const QS=GS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,o)),d=await oD(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const f=hy("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const w=g;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function lD(n){Fr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function uD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cD(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function dD(){return YS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firebaseLocalStorageDb",hD=1,Sh="firebaseLocalStorage",JS="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ef(n,e){return n.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function fD(){const n=indexedDB.deleteDatabase(XS);return new dc(n).toPromise()}function ng(){const n=indexedDB.open(XS,hD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Sh,{keyPath:JS})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Sh)?e(r):(r.close(),await fD(),e(await ng()))})})}async function kw(n,e,t){const r=ef(n,!0).put({[JS]:e,value:t});return new dc(r).toPromise()}async function pD(n,e){const t=ef(n,!1).get(e),r=await new dc(t).toPromise();return r===void 0?null:r.value}function bw(n,e){const t=ef(n,!0).delete(e);return new dc(t).toPromise()}const mD=800,gD=3;class ZS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>gD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(dD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await uD(),!this.activeServiceWorker)return;this.sender=new aD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ng();return await kw(e,Th,"1"),await bw(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>kw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>pD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ef(i,!1).getAll();return new dc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZS.type="LOCAL";const yD=ZS;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n,e){return e?hi(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy extends cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ha(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _D(n){return WS(n.auth,new fy(n),n.bypassAuthState)}function wD(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),Y2(t,new fy(n),n.bypassAuthState)}async function ED(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),Q2(t,new fy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _D;case"linkViaPopup":case"linkViaRedirect":return ED;case"reauthViaPopup":case"reauthViaRedirect":return wD;default:wr(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new lc(2e3,1e4);class Va extends ex{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TD.get())};e()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="pendingRedirect",rh=new Map;class xD extends ex{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const r=await ID(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ID(n,e){const t=AD(e),r=CD(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function PD(n,e){rh.set(n._key(),e)}function CD(n){return hi(n._redirectPersistence)}function AD(n){return nh(SD,n.config.apiKey,n.name)}async function RD(n,e,t=!1){if(Qn(n.app))return Promise.reject(fi(n));const r=No(n),i=vD(r,e),l=await new xD(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=10*60*1e3;class bD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!tx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Mr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dw(e))}saveEventToCache(e){this.cachedEventUids.add(Dw(e)),this.lastProcessedEventTime=Date.now()}}function Dw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function DD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(n,e={}){return Si(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LD=/^https?/;async function VD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await OD(n);for(const t of e)try{if(MD(t))return}catch{}wr(n,"unauthorized-domain")}function MD(n){const e=Zm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!LD.test(t))return!1;if(ND.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new lc(3e4,6e4);function Ow(){const n=Fr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jD(n){return new Promise((e,t)=>{var r,i,o;function l(){Ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ow(),t(Mr(n,"network-request-failed"))},timeout:FD.get()})}if(!((i=(r=Fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Fr().gapi)===null||o===void 0)&&o.load)l();else{const c=b2("iframefcb");return Fr()[c]=()=>{gapi.load?l():t(Mr(n,"network-request-failed"))},jS(`${k2()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw ih=null,e})}let ih=null;function UD(n){return ih=ih||jD(n),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new lc(5e3,15e3),$D="__/auth/iframe",zD="emulator/auth/iframe",WD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qD(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ay(e,zD):`https://${n.config.authDomain}/${$D}`,r={apiKey:e.apiKey,appName:n.name,v:ul},i=HD.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ac(r).slice(1)}`}async function KD(n){const e=await UD(n),t=Fr().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:qD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WD,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Mr(n,"network-request-failed"),c=Fr().setTimeout(()=>{o(l)},BD.get());function d(){Fr().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QD=500,YD=600,XD="_blank",JD="http://localhost";class Nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZD(n,e,t,r=QD,i=YD){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},GD),{width:r.toString(),height:i.toString(),top:o,left:l}),f=tn().toLowerCase();t&&(c=DS(f)?XD:t),kS(f)&&(e=e||JD,d.scrollbars="yes");const m=Object.entries(d).reduce((w,[T,x])=>`${w}${T}=${x},`,"");if(E2(f)&&c!=="_self")return eO(e||"",c),new Nw(null);const g=window.open(e||"",c,m);xe(g,n,"popup-blocked");try{g.focus()}catch{}return new Nw(g)}function eO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="__/auth/handler",nO="emulator/auth/handler",rO=encodeURIComponent("fac");async function Lw(n,e,t,r,i,o){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ul,eventId:i};if(e instanceof $S){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Bk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof cc){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await n._getAppCheckToken(),f=d?`#${rO}=${encodeURIComponent(d)}`:"";return`${iO(n)}?${ac(c).slice(1)}${f}`}function iO({config:n}){return n.emulator?ay(n,nO):`https://${n.authDomain}/${tO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class sO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QS,this._completeRedirectFn=RD,this._overrideRedirectResult=PD}async _openPopup(e,t,r,i){var o;yi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Lw(e,t,r,Zm(),i);return ZD(e,l,hy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await Lw(e,t,r,Zm(),i);return lD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(yi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await KD(e),r=new bD(e);return t.register("authEvent",i=>(xe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_m,{type:_m},i=>{var o;const l=(o=i?.[0])===null||o===void 0?void 0:o[_m];l!==void 0&&t(!!l),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return MS()||bS()||uy()}}const oO=sO;var Vw="@firebase/auth",Mw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uO(n){Ga(new Co("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;xe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FS(n)},f=new C2(r,i,o,d);return M2(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new Co("auth-internal",e=>{const t=No(e.getProvider("auth").getImmediate());return(r=>new aO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(Vw,Mw,lO(n)),ps(Vw,Mw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=5*60,dO=fS("authIdTokenMaxAge")||cO;let Fw=null;const hO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>dO)return;const i=t?.token;Fw!==i&&(Fw=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fO(n=_S()){const e=iy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=V2(n,{popupRedirectResolver:oO,persistence:[yD,sD,QS]}),r=fS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=hO(o.toString());eD(t,l,()=>l(t.currentUser)),Z2(t,c=>l(c))}}const i=dS("auth");return i&&F2(t,`http://${i}`),t}function pO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}A2({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Mr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",pO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uO("Browser");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,nx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,P){function k(){}k.prototype=P.prototype,D.D=P.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(N,L,U){for(var b=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)b[ve-2]=arguments[ve];return P.prototype[L].apply(N,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,P,k){k||(k=0);var N=Array(16);if(typeof P=="string")for(var L=0;16>L;++L)N[L]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(L=0;16>L;++L)N[L]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=D.g[0],k=D.g[1],L=D.g[2];var U=D.g[3],b=P+(U^k&(L^U))+N[0]+3614090360&4294967295;P=k+(b<<7&4294967295|b>>>25),b=U+(L^P&(k^L))+N[1]+3905402710&4294967295,U=P+(b<<12&4294967295|b>>>20),b=L+(k^U&(P^k))+N[2]+606105819&4294967295,L=U+(b<<17&4294967295|b>>>15),b=k+(P^L&(U^P))+N[3]+3250441966&4294967295,k=L+(b<<22&4294967295|b>>>10),b=P+(U^k&(L^U))+N[4]+4118548399&4294967295,P=k+(b<<7&4294967295|b>>>25),b=U+(L^P&(k^L))+N[5]+1200080426&4294967295,U=P+(b<<12&4294967295|b>>>20),b=L+(k^U&(P^k))+N[6]+2821735955&4294967295,L=U+(b<<17&4294967295|b>>>15),b=k+(P^L&(U^P))+N[7]+4249261313&4294967295,k=L+(b<<22&4294967295|b>>>10),b=P+(U^k&(L^U))+N[8]+1770035416&4294967295,P=k+(b<<7&4294967295|b>>>25),b=U+(L^P&(k^L))+N[9]+2336552879&4294967295,U=P+(b<<12&4294967295|b>>>20),b=L+(k^U&(P^k))+N[10]+4294925233&4294967295,L=U+(b<<17&4294967295|b>>>15),b=k+(P^L&(U^P))+N[11]+2304563134&4294967295,k=L+(b<<22&4294967295|b>>>10),b=P+(U^k&(L^U))+N[12]+1804603682&4294967295,P=k+(b<<7&4294967295|b>>>25),b=U+(L^P&(k^L))+N[13]+4254626195&4294967295,U=P+(b<<12&4294967295|b>>>20),b=L+(k^U&(P^k))+N[14]+2792965006&4294967295,L=U+(b<<17&4294967295|b>>>15),b=k+(P^L&(U^P))+N[15]+1236535329&4294967295,k=L+(b<<22&4294967295|b>>>10),b=P+(L^U&(k^L))+N[1]+4129170786&4294967295,P=k+(b<<5&4294967295|b>>>27),b=U+(k^L&(P^k))+N[6]+3225465664&4294967295,U=P+(b<<9&4294967295|b>>>23),b=L+(P^k&(U^P))+N[11]+643717713&4294967295,L=U+(b<<14&4294967295|b>>>18),b=k+(U^P&(L^U))+N[0]+3921069994&4294967295,k=L+(b<<20&4294967295|b>>>12),b=P+(L^U&(k^L))+N[5]+3593408605&4294967295,P=k+(b<<5&4294967295|b>>>27),b=U+(k^L&(P^k))+N[10]+38016083&4294967295,U=P+(b<<9&4294967295|b>>>23),b=L+(P^k&(U^P))+N[15]+3634488961&4294967295,L=U+(b<<14&4294967295|b>>>18),b=k+(U^P&(L^U))+N[4]+3889429448&4294967295,k=L+(b<<20&4294967295|b>>>12),b=P+(L^U&(k^L))+N[9]+568446438&4294967295,P=k+(b<<5&4294967295|b>>>27),b=U+(k^L&(P^k))+N[14]+3275163606&4294967295,U=P+(b<<9&4294967295|b>>>23),b=L+(P^k&(U^P))+N[3]+4107603335&4294967295,L=U+(b<<14&4294967295|b>>>18),b=k+(U^P&(L^U))+N[8]+1163531501&4294967295,k=L+(b<<20&4294967295|b>>>12),b=P+(L^U&(k^L))+N[13]+2850285829&4294967295,P=k+(b<<5&4294967295|b>>>27),b=U+(k^L&(P^k))+N[2]+4243563512&4294967295,U=P+(b<<9&4294967295|b>>>23),b=L+(P^k&(U^P))+N[7]+1735328473&4294967295,L=U+(b<<14&4294967295|b>>>18),b=k+(U^P&(L^U))+N[12]+2368359562&4294967295,k=L+(b<<20&4294967295|b>>>12),b=P+(k^L^U)+N[5]+4294588738&4294967295,P=k+(b<<4&4294967295|b>>>28),b=U+(P^k^L)+N[8]+2272392833&4294967295,U=P+(b<<11&4294967295|b>>>21),b=L+(U^P^k)+N[11]+1839030562&4294967295,L=U+(b<<16&4294967295|b>>>16),b=k+(L^U^P)+N[14]+4259657740&4294967295,k=L+(b<<23&4294967295|b>>>9),b=P+(k^L^U)+N[1]+2763975236&4294967295,P=k+(b<<4&4294967295|b>>>28),b=U+(P^k^L)+N[4]+1272893353&4294967295,U=P+(b<<11&4294967295|b>>>21),b=L+(U^P^k)+N[7]+4139469664&4294967295,L=U+(b<<16&4294967295|b>>>16),b=k+(L^U^P)+N[10]+3200236656&4294967295,k=L+(b<<23&4294967295|b>>>9),b=P+(k^L^U)+N[13]+681279174&4294967295,P=k+(b<<4&4294967295|b>>>28),b=U+(P^k^L)+N[0]+3936430074&4294967295,U=P+(b<<11&4294967295|b>>>21),b=L+(U^P^k)+N[3]+3572445317&4294967295,L=U+(b<<16&4294967295|b>>>16),b=k+(L^U^P)+N[6]+76029189&4294967295,k=L+(b<<23&4294967295|b>>>9),b=P+(k^L^U)+N[9]+3654602809&4294967295,P=k+(b<<4&4294967295|b>>>28),b=U+(P^k^L)+N[12]+3873151461&4294967295,U=P+(b<<11&4294967295|b>>>21),b=L+(U^P^k)+N[15]+530742520&4294967295,L=U+(b<<16&4294967295|b>>>16),b=k+(L^U^P)+N[2]+3299628645&4294967295,k=L+(b<<23&4294967295|b>>>9),b=P+(L^(k|~U))+N[0]+4096336452&4294967295,P=k+(b<<6&4294967295|b>>>26),b=U+(k^(P|~L))+N[7]+1126891415&4294967295,U=P+(b<<10&4294967295|b>>>22),b=L+(P^(U|~k))+N[14]+2878612391&4294967295,L=U+(b<<15&4294967295|b>>>17),b=k+(U^(L|~P))+N[5]+4237533241&4294967295,k=L+(b<<21&4294967295|b>>>11),b=P+(L^(k|~U))+N[12]+1700485571&4294967295,P=k+(b<<6&4294967295|b>>>26),b=U+(k^(P|~L))+N[3]+2399980690&4294967295,U=P+(b<<10&4294967295|b>>>22),b=L+(P^(U|~k))+N[10]+4293915773&4294967295,L=U+(b<<15&4294967295|b>>>17),b=k+(U^(L|~P))+N[1]+2240044497&4294967295,k=L+(b<<21&4294967295|b>>>11),b=P+(L^(k|~U))+N[8]+1873313359&4294967295,P=k+(b<<6&4294967295|b>>>26),b=U+(k^(P|~L))+N[15]+4264355552&4294967295,U=P+(b<<10&4294967295|b>>>22),b=L+(P^(U|~k))+N[6]+2734768916&4294967295,L=U+(b<<15&4294967295|b>>>17),b=k+(U^(L|~P))+N[13]+1309151649&4294967295,k=L+(b<<21&4294967295|b>>>11),b=P+(L^(k|~U))+N[4]+4149444226&4294967295,P=k+(b<<6&4294967295|b>>>26),b=U+(k^(P|~L))+N[11]+3174756917&4294967295,U=P+(b<<10&4294967295|b>>>22),b=L+(P^(U|~k))+N[2]+718787259&4294967295,L=U+(b<<15&4294967295|b>>>17),b=k+(U^(L|~P))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+P&4294967295,D.g[1]=D.g[1]+(L+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.u=function(D,P){P===void 0&&(P=D.length);for(var k=P-this.blockSize,N=this.B,L=this.h,U=0;U<P;){if(L==0)for(;U<=k;)i(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<P;)if(N[L++]=D.charCodeAt(U++),L==this.blockSize){i(this,N),L=0;break}}else for(;U<P;)if(N[L++]=D[U++],L==this.blockSize){i(this,N),L=0;break}}this.h=L,this.o+=P},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var P=1;P<D.length-8;++P)D[P]=0;var k=8*this.o;for(P=D.length-8;P<D.length;++P)D[P]=k&255,k/=256;for(this.u(D),D=Array(16),P=k=0;4>P;++P)for(var N=0;32>N;N+=8)D[k++]=this.g[P]>>>N&255;return D};function o(D,P){var k=c;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=P(D)}function l(D,P){this.h=P;for(var k=[],N=!0,L=D.length-1;0<=L;L--){var U=D[L]|0;N&&U==P||(k[L]=U,N=!1)}this.g=k}var c={};function d(D){return-128<=D&&128>D?o(D,function(P){return new l([P|0],0>P?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return I(f(-D));for(var P=[],k=1,N=0;D>=k;N++)P[N]=D/k|0,k*=4294967296;return new l(P,0)}function m(D,P){if(D.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D.charAt(0)=="-")return I(m(D.substring(1),P));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(P,8)),N=g,L=0;L<D.length;L+=8){var U=Math.min(8,D.length-L),b=parseInt(D.substring(L,L+U),P);8>U?(U=f(Math.pow(P,U)),N=N.j(U).add(f(b))):(N=N.j(k),N=N.add(f(b)))}return N}var g=d(0),w=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-I(this).m();for(var D=0,P=1,k=0;k<this.g.length;k++){var N=this.i(k);D+=(0<=N?N:4294967296+N)*P,P*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(R(this))return"-"+I(this).toString(D);for(var P=f(Math.pow(D,6)),k=this,N="";;){var L=z(k,P).g;k=V(k,L.j(P));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=L,x(k))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var P=0;P<D.g.length;P++)if(D.g[P]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=V(this,D),R(D)?-1:x(D)?0:1};function I(D){for(var P=D.g.length,k=[],N=0;N<P;N++)k[N]=~D.g[N];return new l(k,~D.h).add(w)}n.abs=function(){return R(this)?I(this):this},n.add=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],N=0,L=0;L<=P;L++){var U=N+(this.i(L)&65535)+(D.i(L)&65535),b=(U>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);N=b>>>16,U&=65535,b&=65535,k[L]=b<<16|U}return new l(k,k[k.length-1]&-2147483648?-1:0)};function V(D,P){return D.add(I(P))}n.j=function(D){if(x(this)||x(D))return g;if(R(this))return R(D)?I(this).j(I(D)):I(I(this).j(D));if(R(D))return I(this.j(I(D)));if(0>this.l(T)&&0>D.l(T))return f(this.m()*D.m());for(var P=this.g.length+D.g.length,k=[],N=0;N<2*P;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<D.g.length;L++){var U=this.i(N)>>>16,b=this.i(N)&65535,ve=D.i(L)>>>16,Fe=D.i(L)&65535;k[2*N+2*L]+=b*Fe,M(k,2*N+2*L),k[2*N+2*L+1]+=U*Fe,M(k,2*N+2*L+1),k[2*N+2*L+1]+=b*ve,M(k,2*N+2*L+1),k[2*N+2*L+2]+=U*ve,M(k,2*N+2*L+2)}for(N=0;N<P;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=P;N<2*P;N++)k[N]=0;return new l(k,0)};function M(D,P){for(;(D[P]&65535)!=D[P];)D[P+1]+=D[P]>>>16,D[P]&=65535,P++}function F(D,P){this.g=D,this.h=P}function z(D,P){if(x(P))throw Error("division by zero");if(x(D))return new F(g,g);if(R(D))return P=z(I(D),P),new F(I(P.g),I(P.h));if(R(P))return P=z(D,I(P)),new F(I(P.g),P.h);if(30<D.g.length){if(R(D)||R(P))throw Error("slowDivide_ only works with positive integers.");for(var k=w,N=P;0>=N.l(D);)k=Q(k),N=Q(N);var L=X(k,1),U=X(N,1);for(N=X(N,2),k=X(k,2);!x(N);){var b=U.add(N);0>=b.l(D)&&(L=L.add(k),U=b),N=X(N,1),k=X(k,1)}return P=V(D,L.j(P)),new F(L,P)}for(L=g;0<=D.l(P);){for(k=Math.max(1,Math.floor(D.m()/P.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=f(k),b=U.j(P);R(b)||0<b.l(D);)k-=N,U=f(k),b=U.j(P);x(U)&&(U=w),L=L.add(U),D=V(D,b)}return new F(L,D)}n.A=function(D){return z(this,D).h},n.and=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],N=0;N<P;N++)k[N]=this.i(N)&D.i(N);return new l(k,this.h&D.h)},n.or=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],N=0;N<P;N++)k[N]=this.i(N)|D.i(N);return new l(k,this.h|D.h)},n.xor=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],N=0;N<P;N++)k[N]=this.i(N)^D.i(N);return new l(k,this.h^D.h)};function Q(D){for(var P=D.g.length+1,k=[],N=0;N<P;N++)k[N]=D.i(N)<<1|D.i(N-1)>>>31;return new l(k,D.h)}function X(D,P){var k=P>>5;P%=32;for(var N=D.g.length-k,L=[],U=0;U<N;U++)L[U]=0<P?D.i(U+k)>>>P|D.i(U+k+1)<<32-P:D.i(U+k);return new l(L,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nx=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,ms=l}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rx,yu,ix,sh,rg,sx,ox,ax;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof zd=="object"&&zd];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(h,v){if(v)e:{var E=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var W=h[C];if(!(W in E))break e;E=E[W]}h=h[h.length-1],C=E[h],v=v(C),v!=C&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var E=0,C=!1,W={next:function(){if(!C&&E<h.length){var Y=E++;return{value:v(Y,h[Y]),done:!1}}return C=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(h){return h||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,C),h.apply(v,W)}}return function(){return h.apply(v,arguments)}}function w(h,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,w.apply(null,arguments)}function T(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function x(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(C,W,Y){for(var ae=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ae[Qe-2]=arguments[Qe];return v.prototype[W].apply(C,ae)}}function R(h){const v=h.length;if(0<v){const E=Array(v);for(let C=0;C<v;C++)E[C]=h[C];return E}return[]}function I(h,v){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(d(C)){const W=h.length||0,Y=C.length||0;h.length=W+Y;for(let ae=0;ae<Y;ae++)h[W+ae]=C[ae]}else h.push(C)}}class V{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function z(h){return z[" "](h),h}z[" "]=function(){};var Q=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function X(h,v,E){for(const C in h)v.call(E,h[C],C,h)}function D(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function P(h){const v={};for(const E in h)v[E]=h[E];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,v){let E,C;for(let W=1;W<arguments.length;W++){C=arguments[W];for(E in C)h[E]=C[E];for(let Y=0;Y<k.length;Y++)E=k[Y],Object.prototype.hasOwnProperty.call(C,E)&&(h[E]=C[E])}}function L(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function U(h){c.setTimeout(()=>{throw h},0)}function b(){var h=le;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ve{constructor(){this.h=this.g=null}add(v,E){const C=Fe.get();C.set(v,E),this.h?this.h.next=C:this.g=C,this.h=C}}var Fe=new V(()=>new Re,h=>h.reset());class Re{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let he,re=!1,le=new ve,se=()=>{const h=c.Promise.resolve(void 0);he=()=>{h.then($)}};var $=()=>{for(var h;h=b();){try{h.h.call(h.g)}catch(E){U(E)}var v=Fe;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}re=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h}();function Pe(h,v){if(fe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Q){e:{try{z(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Oe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Pe.aa.h.call(this)}}x(Pe,fe);var Oe={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Ke(h,v,E,C,W){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!C,this.ha=W,this.key=++Le,this.da=this.fa=!1}function Et(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xn(h){this.src=h,this.g={},this.h=0}xn.prototype.add=function(h,v,E,C,W){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var ae=tr(h,v,C,W);return-1<ae?(v=h[ae],E||(v.fa=!1)):(v=new Ke(v,this.src,Y,!!C,W),v.fa=E,h.push(v)),v};function Pi(h,v){var E=v.type;if(E in h.g){var C=h.g[E],W=Array.prototype.indexOf.call(C,v,void 0),Y;(Y=0<=W)&&Array.prototype.splice.call(C,W,1),Y&&(Et(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function tr(h,v,E,C){for(var W=0;W<h.length;++W){var Y=h[W];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==C)return W}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),Ci={};function Ai(h,v,E,C,W){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)Ai(h,v[Y],E,C,W);return null}return E=Di(E),h&&h[je]?h.K(v,E,f(C)?!!C.capture:!1,W):Ri(h,v,E,!1,C,W)}function Ri(h,v,E,C,W,Y){if(!v)throw Error("Invalid event type");var ae=f(W)?!!W.capture:!!W,Qe=Qr(h);if(Qe||(h[Gr]=Qe=new xn(h)),E=Qe.add(v,E,C,ae,Y),E.proxy)return E;if(C=Uo(),E.proxy=C,C.src=h,C.listener=E,h.addEventListener)Se||(W=ae),W===void 0&&(W=!1),h.addEventListener(v.toString(),C,W);else if(h.attachEvent)h.attachEvent(cn(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Uo(){function h(E){return v.call(h.src,h.listener,E)}const v=bi;return h}function ki(h,v,E,C,W){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)ki(h,v[Y],E,C,W);else C=f(C)?!!C.capture:!!C,E=Di(E),h&&h[je]?(h=h.i,v=String(v).toString(),v in h.g&&(Y=h.g[v],E=tr(Y,E,C,W),-1<E&&(Et(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete h.g[v],h.h--)))):h&&(h=Qr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=tr(v,E,C,W)),(E=-1<h?v[h]:null)&&Mt(E))}function Mt(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[je])Pi(v.i,h);else{var E=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(E,C,h.capture):v.detachEvent?v.detachEvent(cn(E),C):v.addListener&&v.removeListener&&v.removeListener(C),(E=Qr(v))?(Pi(E,h),E.h==0&&(E.src=null,v[Gr]=null)):Et(h)}}}function cn(h){return h in Ci?Ci[h]:Ci[h]="on"+h}function bi(h,v){if(h.da)h=!0;else{v=new Pe(v,this);var E=h.listener,C=h.ha||h.src;h.fa&&Mt(h),h=E.call(C,v)}return h}function Qr(h){return h=h[Gr],h instanceof xn?h:null}var Tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Di(h){return typeof h=="function"?h:(h[Tr]||(h[Tr]=function(v){return h.handleEvent(v)}),h[Tr])}function ct(){J.call(this),this.i=new xn(this),this.M=this,this.F=null}x(ct,J),ct.prototype[je]=!0,ct.prototype.removeEventListener=function(h,v,E,C){ki(this,h,v,E,C)};function dt(h,v){var E,C=h.F;if(C)for(E=[];C;C=C.F)E.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new fe(v,h);else if(v instanceof fe)v.target=v.target||h;else{var W=v;v=new fe(C,h),N(v,W)}if(W=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ae=v.g=E[Y];W=Vn(ae,C,!0,v)&&W}if(ae=v.g=h,W=Vn(ae,C,!0,v)&&W,W=Vn(ae,C,!1,v)&&W,E)for(Y=0;Y<E.length;Y++)ae=v.g=E[Y],W=Vn(ae,C,!1,v)&&W}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],C=0;C<E.length;C++)Et(E[C]);delete h.g[v],h.h--}}this.F=null},ct.prototype.K=function(h,v,E,C){return this.i.add(String(h),v,!1,E,C)},ct.prototype.L=function(h,v,E,C){return this.i.add(String(h),v,!0,E,C)};function Vn(h,v,E,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,Y=0;Y<v.length;++Y){var ae=v[Y];if(ae&&!ae.da&&ae.capture==E){var Qe=ae.listener,At=ae.ha||ae.src;ae.fa&&Pi(h.i,ae),W=Qe.call(At,C)!==!1&&W}}return W&&!C.defaultPrevented}function wl(h,v,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(h,v||0)}function Oi(h){h.g=wl(()=>{h.g=null,h.i&&(h.i=!1,Oi(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class js extends J{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Oi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(h){J.call(this),this.h=h,this.g={}}x(Us,J);var El=[];function Tl(h){X(h.g,function(v,E){this.g.hasOwnProperty(E)&&Mt(v)},h),h.g={}}Us.prototype.N=function(){Us.aa.N.call(this),Tl(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sl=c.JSON.stringify,xl=c.JSON.parse,Il=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Bs(){}Bs.prototype.h=null;function Bo(h){return h.h||(h.h=h.i())}function $o(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){fe.call(this,"d")}x(Sr,fe);function zo(){fe.call(this,"c")}x(zo,fe);var xr={},Pl=null;function $s(){return Pl=Pl||new ct}xr.La="serverreachability";function Cl(h){fe.call(this,xr.La,h)}x(Cl,fe);function Yr(h){const v=$s();dt(v,new Cl(v))}xr.STAT_EVENT="statevent";function Al(h,v){fe.call(this,xr.STAT_EVENT,h),this.stat=v}x(Al,fe);function gt(h){const v=$s();dt(v,new Al(v,h))}xr.Ma="timingevent";function Wo(h,v){fe.call(this,xr.Ma,h),this.size=v}x(Wo,fe);function nr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function zs(){this.g=!0}zs.prototype.xa=function(){this.g=!1};function Ws(h,v,E,C,W,Y){h.info(function(){if(h.g)if(Y)for(var ae="",Qe=Y.split("&"),At=0;At<Qe.length;At++){var ze=Qe[At].split("=");if(1<ze.length){var Dt=ze[0];ze=ze[1];var Tt=Dt.split("_");ae=2<=Tt.length&&Tt[1]=="type"?ae+(Dt+"="+ze+"&"):ae+(Dt+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+C+") [attempt "+W+"]: "+v+`
`+E+`
`+ae})}function Ho(h,v,E,C,W,Y,ae){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+W+"]: "+v+`
`+E+`
`+Y+" "+ae})}function rr(h,v,E,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Of(h,E)+(C?" "+C:"")})}function Rl(h,v){h.info(function(){return"TIMEOUT: "+v})}zs.prototype.info=function(){};function Of(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var C=E[h];if(!(2>C.length)){var W=C[1];if(Array.isArray(W)&&!(1>W.length)){var Y=W[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return Sl(E)}catch{return v}}var qo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function Hs(){}x(Hs,Bs),Hs.prototype.g=function(){return new XMLHttpRequest},Hs.prototype.i=function(){return{}},ir=new Hs;function sr(h,v,E,C){this.j=h,this.i=v,this.l=E,this.R=C||1,this.U=new Us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ac}function Ac(){this.i=null,this.g="",this.h=!1}var kl={},Ko={};function Go(h,v,E){h.L=1,h.v=Fi(Pn(v)),h.m=E,h.P=!0,bl(h,null)}function bl(h,v){h.F=Date.now(),Xe(h),h.A=Pn(h.v);var E=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),Ui(E.i,"t",C),h.C=0,E=h.j.J,h.h=new Ac,h.g=qc(h.j,E?v:null,!h.m),0<h.O&&(h.M=new js(w(h.Y,h,h.g),h.O)),v=h.U,E=h.g,C=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(El[0]=W.toString()),W=El);for(var Y=0;Y<W.length;Y++){var ae=Ai(E,W[Y],C||v.handleEvent,!1,v.h||v);if(!ae)break;v.g[ae.key]=ae}v=h.H?P(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Yr(),Ws(h.i,h.u,h.A,h.l,h.R,h.m)}sr.prototype.ca=function(h){h=h.target;const v=this.M;v&&hn(h)==3?v.j():this.Y(h)},sr.prototype.Y=function(h){try{if(h==this.g)e:{const Tt=hn(this.g);var v=this.g.Ba();const Un=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Ml(this.g)))){this.J||Tt!=4||v==7||(v==8||0>=Un?Yr(3):Yr(2)),qs(this);var E=this.g.Z();this.X=E;t:if(Rc(this)){var C=Ml(this.g);h="";var W=C.length,Y=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),Ni(this);var ae="";break t}this.h.i=new c.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,h+=this.h.i.decode(C[v],{stream:!(Y&&v==W-1)});C.length=0,this.h.g+=h,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,Ho(this.i,this.u,this.A,this.l,this.R,Tt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,At=this.g;if((Qe=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Qe)){var ze=Qe;break t}}ze=null}if(E=ze)rr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dl(this,E);else{this.o=!1,this.s=3,gt(12),Fn(this),Ni(this);break e}}if(this.P){E=!0;let An;for(;!this.J&&this.C<ae.length;)if(An=Nf(this,ae),An==Ko){Tt==4&&(this.s=4,gt(14),E=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(An==kl){this.s=4,gt(15),rr(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else rr(this.i,this.l,An,null),Dl(this,An);if(Rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ae.length!=0||this.h.h||(this.s=1,gt(16),E=!1),this.o=this.o&&E,!E)rr(this.i,this.l,ae,"[Invalid Chunked Response]"),Fn(this),Ni(this);else if(0<ae.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),jl(Dt),Dt.M=!0,gt(11))}}else rr(this.i,this.l,ae,null),Dl(this,ae);Tt==4&&Fn(this),this.o&&!this.J&&(Tt==4?sa(this.j,this):(this.o=!1,Xe(this)))}else ea(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Fn(this),Ni(this)}}}catch{}finally{}};function Rc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Nf(h,v){var E=h.C,C=v.indexOf(`
`,E);return C==-1?Ko:(E=Number(v.substring(E,C)),isNaN(E)?kl:(C+=1,C+E>v.length?Ko:(v=v.slice(C,C+E),h.C=C+E,v)))}sr.prototype.cancel=function(){this.J=!0,Fn(this)};function Xe(h){h.S=Date.now()+h.I,kc(h,h.I)}function kc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=nr(w(h.ba,h),v)}function qs(h){h.B&&(c.clearTimeout(h.B),h.B=null)}sr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Rl(this.i,this.A),this.L!=2&&(Yr(),gt(17)),Fn(this),this.s=2,Ni(this)):kc(this,this.S-h)};function Ni(h){h.j.G==0||h.J||sa(h.j,h)}function Fn(h){qs(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Tl(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Dl(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||sn(E.h,h))){if(!h.K&&sn(E.h,h)&&E.G==3){try{var C=E.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var W=C;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)ia(E),cr(E);else break e;ra(E),gt(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=nr(w(E.Za,E),6e3));if(1>=Dc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ti(E,11)}else if((h.K||E.g==h)&&ia(E),!M(v))for(W=E.Da.g.parse(v),v=0;v<W.length;v++){let ze=W[v];if(E.T=ze[0],ze=ze[1],E.G==2)if(ze[0]=="c"){E.K=ze[1],E.ia=ze[2];const Dt=ze[3];Dt!=null&&(E.la=Dt,E.j.info("VER="+E.la));const Tt=ze[4];Tt!=null&&(E.Aa=Tt,E.j.info("SVER="+E.Aa));const Un=ze[5];Un!=null&&typeof Un=="number"&&0<Un&&(C=1.5*Un,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const An=h.g;if(An){const Zs=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var Y=C.h;Y.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ol(Y,Y.h),Y.h=null))}if(C.D){const aa=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(C.ya=aa,Ye(C.I,C.D,aa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var ae=h;if(C.qa=Hc(C,C.J?C.ia:null,C.W),ae.K){Oc(C.h,ae);var Qe=ae,At=C.L;At&&(Qe.I=At),Qe.B&&(qs(Qe),Xe(Qe)),C.g=ae}else Js(C);0<E.i.length&&Ar(E)}else ze[0]!="stop"&&ze[0]!="close"||ti(E,7);else E.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?ti(E,7):jt(E):ze[0]!="noop"&&E.l&&E.l.ta(ze),E.v=0)}}Yr(4)}catch{}}var bc=class{constructor(h,v){this.g=h,this.map=v}};function Ks(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function In(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Dc(h){return h.h?1:h.g?h.g.size:0}function sn(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ol(h,v){h.g?h.g.add(v):h.h=v}function Oc(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ks.prototype.cancel=function(){if(this.i=Nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Nc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return R(h.i)}function Qo(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],E=h.length,C=0;C<E;C++)v.push(h[C]);return v}v=[],E=0;for(C in h)v[E++]=h[C];return v}function Yo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const C in h)v[E++]=C;return v}}}function Li(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Yo(h),C=Qo(h),W=C.length,Y=0;Y<W;Y++)v.call(void 0,C[Y],E&&E[Y],h)}var Gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lf(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var C=h[E].indexOf("="),W=null;if(0<=C){var Y=h[E].substring(0,C);W=h[E].substring(C+1)}else Y=h[E];v(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Xr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Xr){this.h=h.h,Qs(this,h.j),this.o=h.o,this.g=h.g,Vi(this,h.s),this.l=h.l;var v=h.i,E=new Ir;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Mi(this,E),this.m=h.m}else h&&(v=String(h).match(Gs))?(this.h=!1,Qs(this,v[1]||"",!0),this.o=$e(v[2]||""),this.g=$e(v[3]||"",!0),Vi(this,v[4]),this.l=$e(v[5]||"",!0),Mi(this,v[6]||"",!0),this.m=$e(v[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}Xr.prototype.toString=function(){var h=[],v=this.j;v&&h.push(ji(v,Xo,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ji(v,Xo,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ji(E,E.charAt(0)=="/"?Mc:Vc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ji(E,Nl)),h.join("")};function Pn(h){return new Xr(h)}function Qs(h,v,E){h.j=E?$e(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Vi(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Mi(h,v,E){v instanceof Ir?(h.i=v,Pr(h.i,h.h)):(E||(v=ji(v,Fc)),h.i=new Ir(v,h.h))}function Ye(h,v,E){h.i.set(v,E)}function Fi(h){return Ye(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $e(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ji(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Lc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Lc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xo=/[#\/\?@]/g,Vc=/[#\?:]/g,Mc=/[#\?]/g,Fc=/[#\?@]/g,Nl=/#/g;function Ir(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Ft(h){h.g||(h.g=new Map,h.h=0,h.i&&Lf(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Ir.prototype,n.add=function(h,v){Ft(this),this.i=null,h=jn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function or(h,v){Ft(h),v=jn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ar(h,v){return Ft(h),v=jn(h,v),h.g.has(v)}n.forEach=function(h,v){Ft(this),this.g.forEach(function(E,C){E.forEach(function(W){h.call(v,W,C,this)},this)},this)},n.na=function(){Ft(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let C=0;C<v.length;C++){const W=h[C];for(let Y=0;Y<W.length;Y++)E.push(v[C])}return E},n.V=function(h){Ft(this);let v=[];if(typeof h=="string")ar(this,h)&&(v=v.concat(this.g.get(jn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},n.set=function(h,v){return Ft(this),this.i=null,h=jn(this,h),ar(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Ui(h,v,E){or(h,v),0<E.length&&(h.i=null,h.g.set(jn(h,v),R(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var C=v[E];const Y=encodeURIComponent(String(C)),ae=this.V(C);for(C=0;C<ae.length;C++){var W=Y;ae[C]!==""&&(W+="="+encodeURIComponent(String(ae[C]))),h.push(W)}}return this.i=h.join("&")};function jn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Pr(h,v){v&&!h.j&&(Ft(h),h.i=null,h.g.forEach(function(E,C){var W=C.toLowerCase();C!=W&&(or(this,C),Ui(this,W,E))},h)),h.j=v}function Vf(h,v){const E=new zs;if(c.Image){const C=new Image;C.onload=T(dn,E,"TestLoadImage: loaded",!0,v,C),C.onerror=T(dn,E,"TestLoadImage: error",!1,v,C),C.onabort=T(dn,E,"TestLoadImage: abort",!1,v,C),C.ontimeout=T(dn,E,"TestLoadImage: timeout",!1,v,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function jc(h,v){const E=new zs,C=new AbortController,W=setTimeout(()=>{C.abort(),dn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(Y=>{clearTimeout(W),Y.ok?dn(E,"TestPingServer: ok",!0,v):dn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),dn(E,"TestPingServer: error",!1,v)})}function dn(h,v,E,C,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),C(E)}catch{}}function Mf(){this.g=new Il}function Uc(h,v,E){const C=E||"";try{Li(h,function(W,Y){let ae=W;f(W)&&(ae=Sl(W)),v.push(C+Y+"="+encodeURIComponent(ae))})}catch(W){throw v.push(C+"type="+encodeURIComponent("_badmap")),W}}function Jr(h){this.l=h.Ub||null,this.j=h.eb||!1}x(Jr,Bs),Jr.prototype.g=function(){return new Ys(this.l,this.j)},Jr.prototype.i=function(h){return function(){return h}}({});function Ys(h,v){ct.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ys,ct),n=Ys.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,ur(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?lr(this):ur(this),this.readyState==3&&Bc(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,lr(this))},n.Qa=function(h){this.g&&(this.response=h,lr(this))},n.ga=function(){this.g&&lr(this)};function lr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ur(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ur(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Zr(h){let v="";return X(h,function(E,C){v+=C,v+=":",v+=E,v+=`\r
`}),v}function Bi(h,v,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=Zr(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Ye(h,v,E))}function it(h){ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(it,ct);var Ff=/^https?$/i,Ll=["POST","PUT"];n=it.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?Bo(this.o):Bo(ir),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){Xs(this,Y);return}if(h=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var W in C)E.set(W,C[W]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Y of C.keys())E.set(Y,C.get(Y));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ll,v,void 0))||C||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of E)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zo(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){Xs(this,Y)}};function Xs(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Jo(h),Cn(h)}function Jo(h){h.A||(h.A=!0,dt(h,"complete"),dt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,dt(this,"complete"),dt(this,"abort"),Cn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cn(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Vl(this):this.bb())},n.bb=function(){Vl(this)};function Vl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||hn(h)!=4||h.Z()!=2)){if(h.u&&hn(h)==4)wl(h.Ea,0,h);else if(dt(h,"readystatechange"),hn(h)==4){h.h=!1;try{const ae=h.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var C;if(C=ae===0){var W=String(h.D).match(Gs)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),C=!Ff.test(W?W.toLowerCase():"")}E=C}if(E)dt(h,"complete"),dt(h,"success");else{h.m=6;try{var Y=2<hn(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",Jo(h)}}finally{Cn(h)}}}}function Cn(h,v){if(h.g){Zo(h);const E=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||dt(h,"ready");try{E.onreadystatechange=C}catch{}}}function Zo(h){h.I&&(c.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function hn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),xl(v)}};function Ml(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ea(h){const v={};h=(h.g&&2<=hn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(M(h[C]))continue;var E=L(h[C]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[W]||[];v[W]=Y,Y.push(E)}D(v,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Fl(h){this.Aa=0,this.i=[],this.j=new zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cr("baseRetryDelayMs",5e3,h),this.cb=Cr("retryDelaySeedMs",1e4,h),this.Wa=Cr("forwardChannelMaxRetries",2,h),this.wa=Cr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ks(h&&h.concurrentRequestLimit),this.Da=new Mf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fl.prototype,n.la=8,n.G=1,n.connect=function(h,v,E,C){gt(0),this.W=h,this.H=v||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=Hc(this,null,this.W),Ar(this)};function jt(h){if(ta(h),h.G==3){var v=h.U++,E=Pn(h.I);if(Ye(E,"SID",h.K),Ye(E,"RID",v),Ye(E,"TYPE","terminate"),ei(h,E),v=new sr(h,h.j,v),v.L=2,v.v=Fi(Pn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.v,E=!0),E||(v.g=qc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xe(v)}Wc(h)}function cr(h){h.g&&(jl(h),h.g.cancel(),h.g=null)}function ta(h){cr(h),h.u&&(c.clearTimeout(h.u),h.u=null),ia(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function Ar(h){if(!In(h.h)&&!h.s){h.s=!0;var v=h.Ga;he||se(),re||(he(),re=!0),le.add(v,h),h.B=0}}function jf(h,v){return Dc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=nr(w(h.Ga,h,v),zc(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new sr(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=P(Y),N(Y,this.S)):Y=this.S),this.m!==null||this.O||(W.H=Y,Y=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=$i(this,W,v),E=Pn(this.I),Ye(E,"RID",h),Ye(E,"CVER",22),this.D&&Ye(E,"X-HTTP-Session-Id",this.D),ei(this,E),Y&&(this.O?v="headers="+encodeURIComponent(String(Zr(Y)))+"&"+v:this.m&&Bi(E,this.m,Y)),Ol(this.h,W),this.Ua&&Ye(E,"TYPE","init"),this.P?(Ye(E,"$req",v),Ye(E,"SID","null"),W.T=!0,Go(W,E,null)):Go(W,E,v),this.G=2}}else this.G==3&&(h?na(this,h):this.i.length==0||In(this.h)||na(this))};function na(h,v){var E;v?E=v.l:E=h.U++;const C=Pn(h.I);Ye(C,"SID",h.K),Ye(C,"RID",E),Ye(C,"AID",h.T),ei(h,C),h.m&&h.o&&Bi(C,h.m,h.o),E=new sr(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=$i(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ol(h.h,E),Go(E,C,v)}function ei(h,v){h.H&&X(h.H,function(E,C){Ye(v,C,E)}),h.l&&Li({},function(E,C){Ye(v,C,E)})}function $i(h,v,E){E=Math.min(h.i.length,E);var C=h.l?w(h.l.Na,h.l,h):null;e:{var W=h.i;let Y=-1;for(;;){const ae=["count="+E];Y==-1?0<E?(Y=W[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Qe=!0;for(let At=0;At<E;At++){let ze=W[At].g;const Dt=W[At].map;if(ze-=Y,0>ze)Y=Math.max(0,W[At].g-100),Qe=!1;else try{Uc(Dt,ae,"req"+ze+"_")}catch{C&&C(Dt)}}if(Qe){C=ae.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,C}function Js(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;he||se(),re||(he(),re=!0),le.add(v,h),h.v=0}}function ra(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=nr(w(h.Fa,h),zc(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,$c(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=nr(w(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),cr(this),$c(this))};function jl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function $c(h){h.g=new sr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Pn(h.qa);Ye(v,"RID","rpc"),Ye(v,"SID",h.K),Ye(v,"AID",h.T),Ye(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ye(v,"TO",h.ja),Ye(v,"TYPE","xmlhttp"),ei(h,v),h.m&&h.o&&Bi(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Fi(Pn(v)),E.m=null,E.P=!0,bl(E,h)}n.Za=function(){this.C!=null&&(this.C=null,cr(this),ra(this),gt(19))};function ia(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function sa(h,v){var E=null;if(h.g==v){ia(h),jl(h),h.g=null;var C=2}else if(sn(h.h,v))E=v.D,Oc(h.h,v),C=1;else return;if(h.G!=0){if(v.o)if(C==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var W=h.B;C=$s(),dt(C,new Wo(C,E)),Ar(h)}else Js(h);else if(W=v.s,W==3||W==0&&0<v.X||!(C==1&&jf(h,v)||C==2&&ra(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),W){case 1:ti(h,5);break;case 4:ti(h,10);break;case 3:ti(h,6);break;default:ti(h,2)}}}function zc(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function ti(h,v){if(h.j.info("Error code "+v),v==2){var E=w(h.fb,h),C=h.Xa;const W=!C;C=new Xr(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qs(C,"https"),Fi(C),W?Vf(C.toString(),E):jc(C.toString(),E)}else gt(2);h.G=0,h.l&&h.l.sa(v),Wc(h),ta(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Wc(h){if(h.G=0,h.ka=[],h.l){const v=Nc(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ka,v),I(h.ka,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.ra()}}function Hc(h,v,E){var C=E instanceof Xr?Pn(E):new Xr(E);if(C.g!="")v&&(C.g=v+"."+C.g),Vi(C,C.s);else{var W=c.location;C=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var Y=new Xr(null);C&&Qs(Y,C),v&&(Y.g=v),W&&Vi(Y,W),E&&(Y.l=E),C=Y}return E=h.D,v=h.ya,E&&v&&Ye(C,E,v),Ye(C,"VER",h.la),ei(h,C),C}function qc(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new it(new Jr({eb:E})):new it(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ul(){}n=Ul.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function oa(){}oa.prototype.g=function(h,v){return new on(h,v)};function on(h,v){ct.call(this),this.g=new Fl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!M(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Rr(this)}x(on,ct),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){jt(this.g)},on.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Sl(h),h=E);v.i.push(new bc(v.Ya++,h)),v.G==3&&Ar(v)},on.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,on.aa.N.call(this)};function Kc(h){Sr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x(Kc,Sr);function Gc(){zo.call(this),this.status=1}x(Gc,zo);function Rr(h){this.g=h}x(Rr,Ul),Rr.prototype.ua=function(){dt(this.g,"a")},Rr.prototype.ta=function(h){dt(this.g,new Kc(h))},Rr.prototype.sa=function(h){dt(this.g,new Gc)},Rr.prototype.ra=function(){dt(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,ax=function(){return new oa},ox=function(){return $s()},sx=xr,rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,sh=qo,Cc.COMPLETE="complete",ix=Cc,$o.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",ct.prototype.listen=ct.prototype.K,yu=$o,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,rx=it}).apply(typeof zd<"u"?zd:typeof self<"u"?self:typeof window<"u"?window:{});const Uw="@firebase/firestore",Bw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new ny("@firebase/firestore");function Da(){return ko.logLevel}function de(n,...e){if(ko.logLevel<=Ue.DEBUG){const t=e.map(py);ko.debug(`Firestore (${dl}): ${n}`,...t)}}function vi(n,...e){if(ko.logLevel<=Ue.ERROR){const t=e.map(py);ko.error(`Firestore (${dl}): ${n}`,...t)}}function ws(n,...e){if(ko.logLevel<=Ue.WARN){const t=e.map(py);ko.warn(`Firestore (${dl}): ${n}`,...t)}}function py(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,lx(n,r,t)}function lx(n,e,t){let r=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vi(r),new Error(r)}function Ge(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||lx(e,i,r)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class gO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yO{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new ux(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class vO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _O{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new vO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $w{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const r=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $w(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $w(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=EO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function ig(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ve(r,i);{const o=cx(),l=TO(o.encode(zw(n,t)),o.encode(zw(e,t)));return l!==0?l:Ve(r,i)}}t+=r>65535?2:1}return Ve(n.length,e.length)}function zw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function TO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ve(n[t],e[t]);return Ve(n.length,e.length)}function Ya(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__name__";class Lr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Lr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Ve(e.length,t.length)}static compareSegments(e,t){const r=Lr.isNumericId(e),i=Lr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Lr.extractNumericId(e).compare(Lr.extractNumericId(t)):ig(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class Ze extends Lr{construct(e,t,r){return new Ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const SO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Lr{construct(e,t,r){return new Wt(e,t,r)}static isValidIdentifier(e){return SO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ww}static keyField(){return new Wt([Ww])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ze.fromString(e))}static fromName(e){return new _e(Ze.fromString(e).popFirst(5))}static empty(){return new _e(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(n,e,t){if(!t)throw new ue(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xO(n,e,t,r){if(e===!0&&r===!0)throw new ue(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Hw(n){if(!_e.isDocumentKey(n))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qw(n){if(_e.isDocumentKey(n))throw new ue(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function tf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Xn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tf(n);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function hc(n,e){if(!hx(n))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new ue(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=-62135596800,Gw=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Gw);return new nt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Kw)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gw}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Pt("string",nt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new nt(0,0))}static max(){return new ke(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function IO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new nt(t+1,0):new nt(t,r));return new Es(i,_e.empty(),e)}function PO(n){return new Es(n.readTime,n.key,$u)}class Es{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Es(ke.min(),_e.empty(),$u)}static max(){return new Es(ke.max(),_e.empty(),$u)}}function CO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==AO)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},d=>r(d))}),l=!0,o===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(m=>{l[f]=m,++c,c===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new ee((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function kO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}nf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=-1;function rf(n){return n==null}function xh(n){return n===0&&1/n==-1/0}function bO(n){return typeof n=="number"&&Number.isInteger(n)&&!xh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="";function DO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Qw(e)),e=OO(n.get(t),e);return Qw(e)}function OO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case fx:t+="";break;default:t+=o}}return t}function Qw(n){return n+fx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ds(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function px(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wd(this.root,e,this.comparator,!0)}}class Wd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=o??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new zt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xw(this.data.getIterator())}getIteratorFrom(e){return new Xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class Xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new bt(Wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mx("Invalid base64 string: "+o):o}}(e);return new Ht(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const NO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=NO.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(n.seconds),nanos:_t(n.nanos)}}function _t(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ss(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="server_timestamp",yx="__type__",vx="__previous_value__",_x="__local_write_time__";function yy(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[yx])===null||t===void 0?void 0:t.stringValue)===gx}function sf(n){const e=n.mapValue.fields[vx];return yy(e)?sf(e):e}function zu(n){const e=Ts(n.mapValue.fields[_x].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t,r,i,o,l,c,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const Ih="(default)";class Wu{constructor(e,t){this.projectId=e,this.database=t||Ih}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="__type__",VO="__max__",Hd={mapValue:{}},Ex="__vector__",Ph="value";function xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yy(n)?4:FO(n)?9007199254740991:MO(n)?10:11:Ie(28295,{value:n})}function Kr(n,e){if(n===e)return!0;const t=xs(n);if(t!==xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zu(n).isEqual(zu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ts(i.timestampValue),c=Ts(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ss(i.bytesValue).isEqual(Ss(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return _t(i.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _t(i.integerValue)===_t(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=_t(i.doubleValue),c=_t(o.doubleValue);return l===c?xh(l)===xh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Ya(n.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(Yw(l)!==Yw(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Kr(l[d],c[d])))return!1;return!0}(n,e);default:return Ie(52216,{left:n})}}function Hu(n,e){return(n.values||[]).find(t=>Kr(t,e))!==void 0}function Xa(n,e){if(n===e)return 0;const t=xs(n),r=xs(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=_t(o.integerValue||o.doubleValue),d=_t(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return Jw(n.timestampValue,e.timestampValue);case 4:return Jw(zu(n),zu(e));case 5:return ig(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Ss(o),d=Ss(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Ve(c[f],d[f]);if(m!==0)return m}return Ve(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Ve(_t(o.latitude),_t(l.latitude));return c!==0?c:Ve(_t(o.longitude),_t(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Zw(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,f,m;const g=o.fields||{},w=l.fields||{},T=(c=g[Ph])===null||c===void 0?void 0:c.arrayValue,x=(d=w[Ph])===null||d===void 0?void 0:d.arrayValue,R=Ve(((f=T?.values)===null||f===void 0?void 0:f.length)||0,((m=x?.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:Zw(T,x)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Hd.mapValue&&l===Hd.mapValue)return 0;if(o===Hd.mapValue)return 1;if(l===Hd.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const w=ig(d[g],m[g]);if(w!==0)return w;const T=Xa(c[d[g]],f[m[g]]);if(T!==0)return T}return Ve(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Ie(23264,{le:t})}}function Jw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Ts(n),r=Ts(e),i=Ve(t.seconds,r.seconds);return i!==0?i:Ve(t.nanos,r.nanos)}function Zw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Xa(t[i],r[i]);if(o)return o}return Ve(t.length,r.length)}function Ja(n){return sg(n)}function sg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ts(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ss(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=sg(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${sg(t.fields[l])}`;return i+"}"}(n.mapValue):Ie(61005,{value:n})}function oh(n){switch(xs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(n);return e?16+oh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ss(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+oh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ds(r.fields,(o,l)=>{i+=o.length+oh(l)}),i}(n.mapValue);default:throw Ie(13486,{value:n})}}function eE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function og(n){return!!n&&"integerValue"in n}function vy(n){return!!n&&"arrayValue"in n}function tE(n){return!!n&&"nullValue"in n}function nE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ah(n){return!!n&&"mapValue"in n}function MO(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[wx])===null||t===void 0?void 0:t.stringValue)===Ex}function Au(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ds(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Au(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Au(n.arrayValue.values[t]);return e}return Object.assign({},n)}function FO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(t)}setAll(e){let t=Wt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Au(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ah(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ds(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wn(Au(this.value))}}function Tx(n){const e=[];return Ds(n.fields,(t,r)=>{const i=new Wt([t]);if(ah(r)){const o=Tx(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Zt(e,0,ke.min(),ke.min(),ke.min(),wn.empty(),0)}static newFoundDocument(e,t,r,i){return new Zt(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new Zt(e,2,t,ke.min(),ke.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,ke.min(),ke.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t){this.position=e,this.inclusive=t}}function rE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=Xa(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Kr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function jO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{}class It extends Sx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new BO(e,t,r):t==="array-contains"?new WO(e,r):t==="in"?new HO(e,r):t==="not-in"?new qO(e,r):t==="array-contains-any"?new KO(e,r):new It(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new $O(e,r):new zO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xa(t,this.value)):t!==null&&xs(this.value)===xs(t)&&this.matchesComparison(Xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends Sx{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Er(e,t)}matches(e){return xx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function xx(n){return n.op==="and"}function Ix(n){return UO(n)&&xx(n)}function UO(n){for(const e of n.filters)if(e instanceof Er)return!1;return!0}function ag(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+Ja(n.value);if(Ix(n))return n.filters.map(e=>ag(e)).join(",");{const e=n.filters.map(t=>ag(t)).join(",");return`${n.op}(${e})`}}function Px(n,e){return n instanceof It?function(r,i){return i instanceof It&&r.op===i.op&&r.field.isEqual(i.field)&&Kr(r.value,i.value)}(n,e):n instanceof Er?function(r,i){return i instanceof Er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&Px(l,i.filters[c]),!0):!1}(n,e):void Ie(19439)}function Cx(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${Ja(t.value)}`}(n):n instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(Cx).join(" ,")+"}"}(n):"Filter"}class BO extends It{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class $O extends It{constructor(e,t){super(e,"in",t),this.keys=Ax("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zO extends It{constructor(e,t){super(e,"not-in",t),this.keys=Ax("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ax(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class WO extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vy(t)&&Hu(t.arrayValue,this.value)}}class HO extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hu(this.value.arrayValue,t)}}class qO extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hu(this.value.arrayValue,t)}}class KO extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Pe=null}}function sE(n,e=null,t=[],r=[],i=null,o=null,l=null){return new GO(n,e,t,r,i,o,l)}function _y(n){const e=De(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ag(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ja(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ja(r)).join(",")),e.Pe=t}return e.Pe}function wy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Px(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iE(n.startAt,e.startAt)&&iE(n.endAt,e.endAt)}function lg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function QO(n,e,t,r,i,o,l,c){return new pl(n,e,t,r,i,o,l,c)}function of(n){return new pl(n)}function oE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Rx(n){return n.collectionGroup!==null}function Ru(n){const e=De(n);if(e.Te===null){e.Te=[];const t=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new bt(Wt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new qu(o,r))}),t.has(Wt.keyField().canonicalString())||e.Te.push(new qu(Wt.keyField(),r))}return e.Te}function jr(n){const e=De(n);return e.Ie||(e.Ie=YO(e,Ru(n))),e.Ie}function YO(n,e){if(n.limitType==="F")return sE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new qu(i.field,o)});const t=n.endAt?new Ch(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ch(n.startAt.position,n.startAt.inclusive):null;return sE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ug(n,e){const t=n.filters.concat([e]);return new pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function cg(n,e,t){return new pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function af(n,e){return wy(jr(n),jr(e))&&n.limitType===e.limitType}function kx(n){return`${_y(jr(n))}|lt:${n.limitType}`}function Oa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Cx(i)).join(", ")}]`),rf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ja(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ja(i)).join(",")),`Target(${r})`}(jr(n))}; limitType=${n.limitType})`}function lf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Ru(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const f=rE(l,c,d);return l.inclusive?f<=0:f<0}(r.startAt,Ru(r),i)||r.endAt&&!function(l,c,d){const f=rE(l,c,d);return l.inclusive?f>=0:f>0}(r.endAt,Ru(r),i))}(n,e)}function XO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bx(n){return(e,t)=>{let r=!1;for(const i of Ru(n)){const o=JO(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function JO(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),f=c.data.field(o);return d!==null&&f!==null?Xa(d,f):Ie(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return px(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new ut(_e.comparator);function _i(){return ZO}const Dx=new ut(_e.comparator);function vu(...n){let e=Dx;for(const t of n)e=e.insert(t.key,t);return e}function Ox(n){let e=Dx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wo(){return ku()}function Nx(){return ku()}function ku(){return new Lo(n=>n.toString(),(n,e)=>n.isEqual(e))}const eN=new ut(_e.comparator),tN=new bt(_e.comparator);function Be(...n){let e=tN;for(const t of n)e=e.add(t);return e}const nN=new bt(Ve);function rN(){return nN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function Lx(n){return{integerValue:""+n}}function iN(n,e){return bO(e)?Lx(e):Ey(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function sN(n,e,t){return n instanceof Ah?function(i,o){const l={fields:{[yx]:{stringValue:gx},[_x]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yy(o)&&(o=sf(o)),o&&(l.fields[vx]=o),{mapValue:l}}(t,e):n instanceof Ku?Mx(n,e):n instanceof Gu?Fx(n,e):function(i,o){const l=Vx(i,o),c=aE(l)+aE(i.Ee);return og(l)&&og(i.Ee)?Lx(c):Ey(i.serializer,c)}(n,e)}function oN(n,e,t){return n instanceof Ku?Mx(n,e):n instanceof Gu?Fx(n,e):t}function Vx(n,e){return n instanceof Rh?function(r){return og(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ah extends uf{}class Ku extends uf{constructor(e){super(),this.elements=e}}function Mx(n,e){const t=jx(e);for(const r of n.elements)t.some(i=>Kr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Gu extends uf{constructor(e){super(),this.elements=e}}function Fx(n,e){let t=jx(e);for(const r of n.elements)t=t.filter(i=>!Kr(i,r));return{arrayValue:{values:t}}}class Rh extends uf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function aE(n){return _t(n.integerValue||n.doubleValue)}function jx(n){return vy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function aN(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ku&&i instanceof Ku||r instanceof Gu&&i instanceof Gu?Ya(r.elements,i.elements,Kr):r instanceof Rh&&i instanceof Rh?Kr(r.Ee,i.Ee):r instanceof Ah&&i instanceof Ah}(n.transform,e.transform)}class lN{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class cf{}function Ux(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ty(n.key,Jn.none()):new fc(n.key,n.data,Jn.none());{const t=n.data,r=wn.empty();let i=new bt(Wt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Os(n.key,r,new Dn(i.toArray()),Jn.none())}}function uN(n,e,t){n instanceof fc?function(i,o,l){const c=i.value.clone(),d=uE(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Os?function(i,o,l){if(!lh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=uE(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(Bx(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function bu(n,e,t,r){return n instanceof fc?function(o,l,c,d){if(!lh(o.precondition,l))return c;const f=o.value.clone(),m=cE(o.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Os?function(o,l,c,d){if(!lh(o.precondition,l))return c;const f=cE(o.fieldTransforms,d,l),m=l.data;return m.setAll(Bx(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,l,c){return lh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function cN(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=Vx(r.transform,i||null);o!=null&&(t===null&&(t=wn.empty()),t.set(r.field,o))}return t||null}function lE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ya(r,i,(o,l)=>aN(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fc extends cf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Os extends cf{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Bx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uE(n,e,t){const r=new Map;Ge(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,oN(l,c,t[i]))}return r}function cE(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,sN(o,l,e))}return r}class Ty extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dN extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&uN(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Nx();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const d=Ux(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,(t,r)=>lE(t,r))&&Ya(this.baseMutations,e.baseMutations,(t,r)=>lE(t,r))}}class Sy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ge(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return eN}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Sy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,We;function mN(n){switch(n){case Z.OK:return Ie(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function $x(n){if(n===void 0)return vi("GRPC error has no .code"),Z.UNKNOWN;switch(n){case xt.OK:return Z.OK;case xt.CANCELLED:return Z.CANCELLED;case xt.UNKNOWN:return Z.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Z.INTERNAL;case xt.UNAVAILABLE:return Z.UNAVAILABLE;case xt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case xt.NOT_FOUND:return Z.NOT_FOUND;case xt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case xt.ABORTED:return Z.ABORTED;case xt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case xt.DATA_LOSS:return Z.DATA_LOSS;default:return Ie(39323,{code:n})}}(We=xt||(xt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new ms([4294967295,4294967295],0);function dE(n){const e=cx().encode(n),t=new nx;return t.update(e),new Uint8Array(t.digest())}function hE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ms([t,r],0),new ms([i,o],0)]}class xy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _u(`Invalid padding: ${t}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _u(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ms.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(ms.fromNumber(r)));return i.compare(gN)===1&&(i=new ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=dE(e),[r,i]=hE(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);if(!this.ye(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new xy(o,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.fe===0)return;const t=dE(e),[r,i]=hE(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);this.we(l)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new df(ke.min(),i,new ut(Ve),_i(),Be())}}class pc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new pc(r,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}}class zx{constructor(e,t){this.targetId=e,this.De=t}}class Wx{constructor(e,t,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class fE{constructor(){this.ve=0,this.Ce=pE(),this.Fe=Ht.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Be(),t=Be(),r=Be();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ie(38017,{changeType:o})}}),new pc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=pE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class yN{constructor(e){this.We=e,this.Ge=new Map,this.ze=_i(),this.je=qd(),this.Je=qd(),this.He=new ut(Ve)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){const t=e.targetId,r=e.De.count,i=this.st(t);if(i){const o=i.target;if(lg(o))if(r===0){const l=new _e(o.path);this.Xe(t,l,Zt.newNoDocument(l,ke.min()))}else Ge(r===1,20013,{expectedCount:r});else{const l=this.ot(t);if(l!==r){const c=this._t(e),d=c?this.ut(c,e,l):1;if(d!==0){this.rt(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,f)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Ss(r).toUint8Array()}catch(d){if(d instanceof mx)return ws("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new xy(l,i,o)}catch(d){return ws(d instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),i++)}),i}Pt(e){const t=new Map;this.Ge.forEach((o,l)=>{const c=this.st(l);if(c){if(o.current&&lg(c.target)){const d=new _e(c.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,Zt.newNoDocument(d,e))}o.Ne&&(t.set(l,o.Le()),o.ke())}});let r=Be();this.Je.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const f=this.st(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,l)=>l.setReadTime(e));const i=new df(e,t,this.He,this.ze,r);return this.ze=_i(),this.je=qd(),this.Je=qd(),this.He=new ut(Ve),i}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new fE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new bt(Ve),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new bt(Ve),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new fE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function qd(){return new ut(_e.comparator)}function pE(){return new ut(_e.comparator)}const vN={asc:"ASCENDING",desc:"DESCENDING"},_N={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wN={and:"AND",or:"OR"};class EN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dg(n,e){return n.useProto3Json||rf(e)?e:{value:e}}function kh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function TN(n,e){return kh(n,e.toTimestamp())}function Ur(n){return Ge(!!n,49232),ke.fromTimestamp(function(t){const r=Ts(t);return new nt(r.seconds,r.nanos)}(n))}function Iy(n,e){return hg(n,e).canonicalString()}function hg(n,e){const t=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function qx(n){const e=Ze.fromString(n);return Ge(Xx(e),10190,{key:e.toString()}),e}function fg(n,e){return Iy(n.databaseId,e.path)}function wm(n,e){const t=qx(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(Gx(t))}function Kx(n,e){return Iy(n.databaseId,e)}function SN(n){const e=qx(n);return e.length===4?Ze.emptyPath():Gx(e)}function pg(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Gx(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mE(n,e,t){return{name:fg(n,e),fields:t.value.mapValue.fields}}function xN(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ie(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(Ge(m===void 0||typeof m=="string",58123),Ht.fromBase64String(m||"")):(Ge(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Ht.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const m=f.code===void 0?Z.UNKNOWN:$x(f.code);return new ue(m,f.message||"")}(l);t=new Wx(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wm(n,r.document.name),o=Ur(r.document.updateTime),l=r.document.createTime?Ur(r.document.createTime):ke.min(),c=new wn({mapValue:{fields:r.document.fields}}),d=Zt.newFoundDocument(i,o,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];t=new uh(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wm(n,r.document),o=r.readTime?Ur(r.readTime):ke.min(),l=Zt.newNoDocument(i,o),c=r.removedTargetIds||[];t=new uh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wm(n,r.document),o=r.removedTargetIds||[];t=new uh([],o,i,null)}else{if(!("filter"in e))return Ie(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new pN(i,o),c=r.targetId;t=new zx(c,l)}}return t}function IN(n,e){let t;if(e instanceof fc)t={update:mE(n,e.key,e.value)};else if(e instanceof Ty)t={delete:fg(n,e.key)};else if(e instanceof Os)t={update:mE(n,e.key,e.data),updateMask:NN(e.fieldMask)};else{if(!(e instanceof dN))return Ie(16599,{Rt:e.type});t={verify:fg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof Ah)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ku)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Rh)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw Ie(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:TN(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie(27497)}(n,e.precondition)),t}function PN(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map(t=>function(i,o){let l=i.updateTime?Ur(i.updateTime):Ur(o);return l.isEqual(ke.min())&&(l=Ur(o)),new lN(l,i.transformResults||[])}(t,e))):[]}function CN(n,e){return{documents:[Kx(n,e.path)]}}function AN(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Kx(n,i);const o=function(f){if(f.length!==0)return Yx(Er.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(w){return{field:Na(w.field),direction:bN(w.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=dg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{Vt:t,parent:i}}function RN(n){let e=SN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ge(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(g){const w=Qx(g);return w instanceof Er&&Ix(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(w=>function(x){return new qu(La(x.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(g){let w;return w=typeof g=="object"?g.value:g,rf(w)?null:w}(t.limit));let d=null;t.startAt&&(d=function(g){const w=!!g.before,T=g.values||[];return new Ch(T,w)}(t.startAt));let f=null;return t.endAt&&(f=function(g){const w=!g.before,T=g.values||[];return new Ch(T,w)}(t.endAt)),QO(e,i,l,o,c,"F",d,f)}function kN(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Qx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=La(t.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=La(t.unaryFilter.field);return It.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=La(t.unaryFilter.field);return It.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=La(t.unaryFilter.field);return It.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(n):n.fieldFilter!==void 0?function(t){return It.create(La(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Er.create(t.compositeFilter.filters.map(r=>Qx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(t.compositeFilter.op))}(n):Ie(30097,{filter:n})}function bN(n){return vN[n]}function DN(n){return _N[n]}function ON(n){return wN[n]}function Na(n){return{fieldPath:n.canonicalString()}}function La(n){return Wt.fromServerFormat(n.fieldPath)}function Yx(n){return n instanceof It?function(t){if(t.op==="=="){if(nE(t.value))return{unaryFilter:{field:Na(t.field),op:"IS_NAN"}};if(tE(t.value))return{unaryFilter:{field:Na(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nE(t.value))return{unaryFilter:{field:Na(t.field),op:"IS_NOT_NAN"}};if(tE(t.value))return{unaryFilter:{field:Na(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(t.field),op:DN(t.op),value:t.value}}}(n):n instanceof Er?function(t){const r=t.getFilters().map(i=>Yx(i));return r.length===1?r[0]:{compositeFilter:{op:ON(t.op),filters:r}}}(n):Ie(54877,{filter:n})}function NN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t,r,i,o=ke.min(),l=ke.min(),c=Ht.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.gt=e}}function VN(n){const e=RN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.Dn=new FN}addToCollectionParentIndex(e,t){return this.Dn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Es.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class FN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bt(Ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jx=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Jx,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Za(0)}static ur(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",jN=1048576;function vE([n,e],[t,r]){const i=Ve(n,t);return i===0?Ve(e,r):i}class UN{constructor(e){this.Tr=e,this.buffer=new bt(vE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){de(yE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fl(t)?de(yE,"Ignoring IndexedDB error during garbage collection: ",t):await hl(t)}await this.Rr(3e5)})}}class $N{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(nf.ue);const r=new UN(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(gE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,l,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),Da()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function zN(n,e){return new $N(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.changes=new Lo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&bu(r.mutation,i,Dn.empty(),nt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Be()){const i=wo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=vu();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Be()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let o=_i();const l=ku(),c=function(){return ku()}();return t.forEach((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Os)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),bu(m.mutation,f,m.mutation.getFieldMask(),nt.now())):l.set(f.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var g;return c.set(f,new HN(m,(g=l.get(f))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){const r=ku();let i=new ut((l,c)=>l-c),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let m=r.get(d)||Dn.empty();m=c.applyToLocalView(f,m),r.set(d,m);const g=(i.get(c.batchId)||Be()).add(d);i=i.insert(c.batchId,g)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,g=Nx();m.forEach(w=>{if(!o.has(w)){const T=Ux(t.get(w),r.get(w));T!==null&&g.set(w,T),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):ee.resolve(wo());let c=$u,d=o;return l.next(f=>ee.forEach(f,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(m)?ee.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{d=d.insert(m,w)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Be())).next(m=>({batchId:c,changes:Ox(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=vu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=vu();return this.indexManager.getCollectionParents(e,o).next(c=>ee.forEach(c,d=>{const f=function(g,w){return new pl(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((g,w)=>{l=l.insert(g,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Zt.newInvalidDocument(m)))});let c=vu();return l.forEach((d,f)=>{const m=o.get(d);m!==void 0&&bu(m.mutation,f,Dn.empty(),nt.now()),lf(t,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ur(i.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:VN(i.bundledQuery),readTime:Ur(i.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.overlays=new ut(_e.comparator),this.kr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wo();return ee.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=wo(),o=t.length+1,l=new _e(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ut((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=wo(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=wo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=i)););return ee.resolve(c)}wt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new fN(t,r));let o=this.kr.get(t);o===void 0&&(o=Be(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.qr=new bt(Vt.Qr),this.$r=new bt(Vt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Vt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new _e(new Ze([])),r=new Vt(t,e),i=new Vt(t,e+1),o=[];return this.$r.forEachInRange([r,i],l=>{this.Wr(l),o.push(l.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new _e(new Ze([])),r=new Vt(t,e),i=new Vt(t,e+1);let o=Be();return this.$r.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Vt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return _e.comparator(e.key,t.key)||Ve(e.Hr,t.Hr)}static Ur(e,t){return Ve(e.Hr,t.Hr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new bt(Vt.Qr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new hN(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Yr=this.Yr.add(new Vt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,t){return ee.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?gy:this.er-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),i=new Vt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],l=>{const c=this.Zr(l.Hr);o.push(c)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bt(Ve);return t.forEach(i=>{const o=new Vt(i,0),l=new Vt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],c=>{r=r.add(c.Hr)})}),ee.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const l=new Vt(new _e(o),0);let c=new bt(Ve);return this.Yr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Hr)),!0)},l),ee.resolve(this.ei(c))}ei(e){const t=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ge(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ee.forEach(t.mutations,i=>{const o=new Vt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new Vt(t,0),i=this.Yr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.ni=e,this.docs=function(){return new ut(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let r=_i();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Zt.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=_i();const l=t.path,c=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||CO(PO(m),r)<=0||(i.has(m.key)||lf(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ie(9500)}ri(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new JN(this)}getSize(e){return ee.resolve(this.size)}}class JN extends WN{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.persistence=e,this.ii=new Lo(t=>_y(t),wy),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new Py,this.targetCount=0,this._i=Za.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ee.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Za(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.hr(t),ee.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ii.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t){this.ai={},this.overlays={},this.ui=new nf(0),this.ci=!1,this.ci=!0,this.li=new QN,this.referenceDelegate=e(this),this.hi=new ZN(this),this.indexManager=new MN,this.remoteDocumentCache=function(i){return new XN(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new LN(t),this.Ti=new KN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new YN(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const i=new eL(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return ee.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class eL extends RO{constructor(e){super(),this.currentSequenceNumber=e}}class Cy{constructor(e){this.persistence=e,this.Ai=new Py,this.Ri=null}static Vi(e){return new Cy(e)}get mi(){if(this.Ri)return this.Ri;throw Ie(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.mi,r=>{const i=_e.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ke.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ee.or([()=>ee.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class bh{constructor(e,t){this.persistence=e,this.gi=new Lo(r=>DO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=zN(this,t)}static Vi(e,t){return new bh(e,t)}Ii(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return ee.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?ee.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,l=>this.Sr(e,l,t).next(c=>{c||(r++,o.removeEntry(l,ke.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=oh(e.data.value)),t}Sr(e,t,r){return ee.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Be(),i=Be();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ay(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Lk()?8:kO(tn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ps(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new tL;return this.ws(e,t,l).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,l,c.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Da()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Oa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(Da()<=Ue.DEBUG&&de("QueryEngine","Query:",Oa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Da()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Oa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(t))):ee.resolve())}ps(e,t){if(oE(t))return ee.resolve(null);let r=jr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=cg(t,null,"F"),r=jr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Be(...o);return this.gs.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.bs(t,c);return this.Ds(t,f,l,d.readTime)?this.ps(e,cg(t,null,"F")):this.vs(e,f,t,d)}))})))}ys(e,t,r,i){return oE(t)||i.isEqual(ke.min())?ee.resolve(null):this.gs.getDocuments(e,r).next(o=>{const l=this.bs(t,o);return this.Ds(t,l,r,i)?ee.resolve(null):(Da()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oa(t)),this.vs(e,l,t,IO(i,$u)).next(c=>c))})}bs(e,t){let r=new bt(bx(e));return t.forEach((i,o)=>{lf(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Da()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Oa(t)),this.gs.getDocumentsMatchingQuery(e,t,Es.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="LocalStore",rL=3e8;class iL{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ut(Ve),this.Ms=new Lo(o=>_y(o),wy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function sL(n,e,t,r){return new iL(n,e,t,r)}async function eI(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=Be();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Bs:f,removedBatchIds:l,addedBatchIds:c}))})})}function oL(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const g=f.batch,w=g.keys();let T=ee.resolve();return w.forEach(x=>{T=T.next(()=>m.getEntry(d,x)).next(R=>{const I=f.docVersions.get(x);Ge(I!==null,48541),R.version.compareTo(I)<0&&(g.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),m.addEntry(R)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Be();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function tI(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function aL(n,e){const t=De(n),r=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const c=[];e.targetChanges.forEach((m,g)=>{const w=i.get(g);if(!w)return;c.push(t.hi.removeMatchingKeys(o,m.removedDocuments,g).next(()=>t.hi.addMatchingKeys(o,m.addedDocuments,g)));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(Ht.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(g,T),function(R,I,V){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=rL?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(w,T,m)&&c.push(t.hi.updateTargetData(o,T))});let d=_i(),f=Be();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(lL(o,l,e.documentUpdates).next(m=>{d=m.Ls,f=m.ks})),!r.isEqual(ke.min())){const m=t.hi.getLastRemoteSnapshotVersion(o).next(g=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return ee.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Fs=i,o))}function lL(n,e,t){let r=Be(),i=Be();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=_i();return t.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(ke.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):de(Ry,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{Ls:l,ks:i}})}function uL(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=gy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cL(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):t.hi.allocateTargetId(r).next(l=>(i=new cs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function mg(n,e,t){const r=De(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!fl(l))throw l;de(Ry,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function _E(n,e,t){const r=De(n);let i=ke.min(),o=Be();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const g=De(d),w=g.Ms.get(m);return w!==void 0?ee.resolve(g.Fs.get(w)):g.hi.getTargetData(f,m)}(r,l,jr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,t?i:ke.min(),t?o:Be())).next(c=>(dL(r,XO(e),c),{documents:c,qs:o})))}function dL(n,e,t){let r=n.xs.get(e)||ke.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}class wE{constructor(){this.activeTargetIds=rN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hL{constructor(){this.Fo=new wE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new wE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class TE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){de(EE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){de(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd=null;function gg(){return Kd===null?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",pL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mL{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Ih?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){const l=gg(),c=this.Go(e,t.toUriEncodedString());de(Em,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,i,o);const{host:f}=new URL(c),m=ll(f);return this.jo(e,c,d,r,m).then(g=>(de(Em,`Received RPC '${e}' ${l}: `,g),g),g=>{throw ws(Em,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g})}Jo(e,t,r,i,o,l){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){const r=pL[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class yL extends mL{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){const l=gg();return new Promise((c,d)=>{const f=new rx;f.setWithCredentials(!0),f.listenOnce(ix.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case sh.NO_ERROR:const g=f.getResponseJson();de(Yt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case sh.TIMEOUT:de(Yt,`RPC '${e}' ${l} timed out`),d(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const w=f.getStatus();if(de(Yt,`RPC '${e}' ${l} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const x=T?.error;if(x&&x.status&&x.message){const R=function(V){const M=V.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(M)>=0?M:Z.UNKNOWN}(x.status);d(new ue(R,x.message))}else d(new ue(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{c_:e,streamId:l,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{de(Yt,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);de(Yt,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",m,r,15)})}P_(e,t,r){const i=gg(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ax(),c=ox(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");de(Yt,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);this.T_(g);let w=!1,T=!1;const x=new gL({Ho:I=>{T?de(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(w||(de(Yt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),w=!0),de(Yt,`RPC '${e}' stream ${i} sending:`,I),g.send(I))},Yo:()=>g.close()}),R=(I,V,M)=>{I.listen(V,F=>{try{M(F)}catch(z){setTimeout(()=>{throw z},0)}})};return R(g,yu.EventType.OPEN,()=>{T||(de(Yt,`RPC '${e}' stream ${i} transport opened.`),x.s_())}),R(g,yu.EventType.CLOSE,()=>{T||(T=!0,de(Yt,`RPC '${e}' stream ${i} transport closed`),x.__(),this.I_(g))}),R(g,yu.EventType.ERROR,I=>{T||(T=!0,ws(Yt,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),x.__(new ue(Z.UNAVAILABLE,"The operation could not be completed")))}),R(g,yu.EventType.MESSAGE,I=>{var V;if(!T){const M=I.data[0];Ge(!!M,16349);const F=M,z=F?.error||((V=F[0])===null||V===void 0?void 0:V.error);if(z){de(Yt,`RPC '${e}' stream ${i} received error:`,z);const Q=z.status;let X=function(k){const N=xt[k];if(N!==void 0)return $x(N)}(Q),D=z.message;X===void 0&&(X=Z.INTERNAL,D="Unknown error status: "+Q+" with message "+z.message),T=!0,x.__(new ue(X,D)),g.close()}else de(Yt,`RPC '${e}' stream ${i} received:`,M),x.a_(M)}}),R(c,sx.STAT_EVENT,I=>{I.stat===rg.PROXY?de(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===rg.NOPROXY&&de(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){return new EN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class rI{constructor(e,t,r,i,o,l,c,d){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new nI(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{const i=new ue(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return de(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(de(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vL extends rI{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=xN(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?Ur(l.readTime):ke.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=pg(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=lg(d)?{documents:CN(o,d)}:{query:AN(o,d).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Hx(o,l.resumeToken);const f=dg(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=kh(o,l.snapshotVersion.toTimestamp());const f=dg(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=kN(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=pg(this.serializer),t.removeTarget=e,this.k_(t)}}class _L extends rI{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=PN(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=pg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>IN(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{}class EL extends wL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,hg(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Z.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Jo(e,hg(t,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(Z.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class TL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vi(t),this._a=!1):de("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="RemoteStore";class SL{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{Vo(this)&&(de(bo,"Restarting streams for network reachability change."),await async function(d){const f=De(d);f.Ia.add(4),await mc(f),f.Aa.set("Unknown"),f.Ia.delete(4),await ff(f)}(this))})}),this.Aa=new TL(r,i)}}async function ff(n){if(Vo(n))for(const e of n.da)await e(!0)}async function mc(n){for(const e of n.da)await e(!1)}function iI(n,e){const t=De(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Oy(t)?Dy(t):ml(t).x_()&&by(t,e))}function ky(n,e){const t=De(n),r=ml(t);t.Ta.delete(e),r.x_()&&sI(t,e),t.Ta.size===0&&(r.x_()?r.B_():Vo(t)&&t.Aa.set("Unknown"))}function by(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ml(n).H_(e)}function sI(n,e){n.Ra.$e(e),ml(n).Y_(e)}function Dy(n){n.Ra=new yN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ml(n).start(),n.Aa.aa()}function Oy(n){return Vo(n)&&!ml(n).M_()&&n.Ta.size>0}function Vo(n){return De(n).Ia.size===0}function oI(n){n.Ra=void 0}async function xL(n){n.Aa.set("Online")}async function IL(n){n.Ta.forEach((e,t)=>{by(n,e)})}async function PL(n,e){oI(n),Oy(n)?(n.Aa.la(e),Dy(n)):n.Aa.set("Unknown")}async function CL(n,e,t){if(n.Aa.set("Online"),e instanceof Wx&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ta.delete(c),i.Ra.removeTarget(c))}(n,e)}catch(r){de(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(n,r)}else if(e instanceof uh?n.Ra.Ye(e):e instanceof zx?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ke.min()))try{const r=await tI(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.Ra.Pt(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ta.get(f);m&&o.Ta.set(f,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const m=o.Ta.get(d);if(!m)return;o.Ta.set(d,m.withResumeToken(Ht.EMPTY_BYTE_STRING,m.snapshotVersion)),sI(o,d);const g=new cs(m.target,d,f,m.sequenceNumber);by(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){de(bo,"Failed to raise snapshot:",r),await Dh(n,r)}}async function Dh(n,e,t){if(!fl(e))throw e;n.Ia.add(1),await mc(n),n.Aa.set("Offline"),t||(t=()=>tI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(bo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await ff(n)})}function aI(n,e){return e().catch(t=>Dh(n,t,e))}async function pf(n){const e=De(n),t=Is(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:gy;for(;AL(e);)try{const i=await uL(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,RL(e,i)}catch(i){await Dh(e,i)}lI(e)&&uI(e)}function AL(n){return Vo(n)&&n.Pa.length<10}function RL(n,e){n.Pa.push(e);const t=Is(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function lI(n){return Vo(n)&&!Is(n).M_()&&n.Pa.length>0}function uI(n){Is(n).start()}async function kL(n){Is(n).na()}async function bL(n){const e=Is(n);for(const t of n.Pa)e.X_(t.mutations)}async function DL(n,e,t){const r=n.Pa.shift(),i=Sy.from(r,e,t);await aI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await pf(n)}async function OL(n,e){e&&Is(n).Z_&&await async function(r,i){if(function(l){return mN(l)&&l!==Z.ABORTED}(i.code)){const o=r.Pa.shift();Is(r).N_(),await aI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await pf(r)}}(n,e),lI(n)&&uI(n)}async function xE(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),de(bo,"RemoteStore received new credentials");const r=Vo(t);t.Ia.add(3),await mc(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await ff(t)}async function NL(n,e){const t=De(n);e?(t.Ia.delete(2),await ff(t)):e||(t.Ia.add(2),await mc(t),t.Aa.set("Unknown"))}function ml(n){return n.Va||(n.Va=function(t,r,i){const o=De(t);return o.ia(),new vL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:xL.bind(null,n),e_:IL.bind(null,n),n_:PL.bind(null,n),J_:CL.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Oy(n)?Dy(n):n.Aa.set("Unknown")):(await n.Va.stop(),oI(n))})),n.Va}function Is(n){return n.ma||(n.ma=function(t,r,i){const o=De(t);return o.ia(),new _L(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:kL.bind(null,n),n_:OL.bind(null,n),ea:bL.bind(null,n),ta:DL.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await pf(n)):(await n.ma.stop(),n.Pa.length>0&&(de(bo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new Ny(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ly(n,e){if(vi("AsyncQueue",`${e}: ${n}`),fl(n))return new ue(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=vu(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.fa=new ut(_e.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ie(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class el{constructor(e,t,r,i,o,l,c,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new el(e,t,qa.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class VL{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const i=De(t),o=i.queries;i.queries=PE(),o.forEach((l,c)=>{for(const d of c.wa)d.onError(r)})})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function PE(){return new Lo(n=>kx(n),af)}async function cI(n,e){const t=De(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new LL,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Ly(l,`Initialization of query '${Oa(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&Vy(t)}async function dI(n,e){const t=De(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.wa.indexOf(e);l>=0&&(o.wa.splice(l,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ML(n,e){const t=De(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.wa)c.Ca(i)&&(r=!0);l.ya=i}}r&&Vy(t)}function FL(n,e,t){const r=De(n),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(t);r.queries.delete(e)}function Vy(n){n.Da.forEach(e=>{e.next()})}var yg,CE;(CE=yg||(yg={})).Fa="default",CE.Cache="cache";class hI{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.key=e}}class pI{constructor(e){this.key=e}}class jL{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Be(),this.mutatedKeys=Be(),this.Xa=bx(e),this.eu=new qa(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new IE,i=t?t.eu:this.eu;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const w=i.get(m),T=lf(this.query,g)?g:null,x=!!w&&this.mutatedKeys.has(w.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let I=!1;w&&T?w.data.isEqual(T.data)?x!==R&&(r.track({type:3,doc:T}),I=!0):this.iu(w,T)||(r.track({type:2,doc:T}),I=!0,(d&&this.Xa(T,d)>0||f&&this.Xa(T,f)<0)&&(c=!0)):!w&&T?(r.track({type:0,doc:T}),I=!0):w&&!T&&(r.track({type:1,doc:w}),I=!0,(d||f)&&(c=!0)),I&&(T?(l=l.add(T),o=R?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{eu:l,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((m,g)=>function(T,x){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{At:I})}};return R(T)-R(x)}(m.type,g.type)||this.Xa(m.doc,g.doc)),this.su(r),i=i!=null&&i;const c=t&&!i?this.ou():[],d=this.Za.size===0&&this.current&&!i?1:0,f=d!==this.Ya;return this.Ya=d,l.length!==0||f?{snapshot:new el(this.query,e.eu,o,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new IE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Be(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new pI(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new fI(r))}),t}uu(e){this.Ha=e.qs,this.Za=Be();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return el.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const My="SyncEngine";class UL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class BL{constructor(e){this.key=e,this.lu=!1}}class $L{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Lo(c=>kx(c),af),this.Tu=new Map,this.Iu=new Set,this.du=new ut(_e.comparator),this.Eu=new Map,this.Au=new Py,this.Ru={},this.Vu=new Map,this.mu=Za.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function zL(n,e,t=!0){const r=wI(n);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await mI(r,e,t,!0),i}async function WL(n,e){const t=wI(n);await mI(t,e,!0,!1)}async function mI(n,e,t,r){const i=await cL(n.localStore,jr(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await HL(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&iI(n.remoteStore,i),c}async function HL(n,e,t,r,i){n.gu=(g,w,T)=>async function(R,I,V,M){let F=I.view.nu(V);F.Ds&&(F=await _E(R.localStore,I.query,!1).then(({documents:D})=>I.view.nu(D,F)));const z=M&&M.targetChanges.get(I.targetId),Q=M&&M.targetMismatches.get(I.targetId)!=null,X=I.view.applyChanges(F,R.isPrimaryClient,z,Q);return RE(R,I.targetId,X._u),X.snapshot}(n,g,w,T);const o=await _E(n.localStore,e,!0),l=new jL(e,o.qs),c=l.nu(o.documents),d=pc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(c,n.isPrimaryClient,d);RE(n,t,f._u);const m=new UL(e,t,l);return n.Pu.set(e,m),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),f.snapshot}async function qL(n,e,t){const r=De(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(l=>!af(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ky(r.remoteStore,i.targetId),vg(r,i.targetId)}).catch(hl)):(vg(r,i.targetId),await mg(r.localStore,i.targetId,!0))}async function KL(n,e){const t=De(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ky(t.remoteStore,r.targetId))}async function GL(n,e,t){const r=tV(n);try{const i=await function(l,c){const d=De(l),f=nt.now(),m=c.reduce((T,x)=>T.add(x.key),Be());let g,w;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let x=_i(),R=Be();return d.Os.getEntries(T,m).next(I=>{x=I,x.forEach((V,M)=>{M.isValidDocument()||(R=R.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,x)).next(I=>{g=I;const V=[];for(const M of c){const F=cN(M,g.get(M.key).overlayedDocument);F!=null&&V.push(new Os(M.key,F,Tx(F.value.mapValue),Jn.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,V,c)}).next(I=>{w=I;const V=I.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(T,I.batchId,V)})}).then(()=>({batchId:w.batchId,changes:Ox(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let f=l.Ru[l.currentUser.toKey()];f||(f=new ut(Ve)),f=f.insert(c,d),l.Ru[l.currentUser.toKey()]=f}(r,i.batchId,t),await gc(r,i.changes),await pf(r.remoteStore)}catch(i){const o=Ly(i,"Failed to persist write");t.reject(o)}}async function gI(n,e){const t=De(n);try{const r=await aL(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Eu.get(o);l&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?Ge(l.lu,14607):i.removedDocuments.size>0&&(Ge(l.lu,42227),l.lu=!1))}),await gc(t,r,e)}catch(r){await hl(r)}}function AE(n,e,t){const r=De(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Pu.forEach((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=De(l);d.onlineState=c;let f=!1;d.queries.forEach((m,g)=>{for(const w of g.wa)w.va(c)&&(f=!0)}),f&&Vy(d)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QL(n,e,t){const r=De(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new ut(_e.comparator);l=l.insert(o,Zt.newNoDocument(o,ke.min()));const c=Be().add(o),d=new df(ke.min(),new Map,new ut(Ve),l,c);await gI(r,d),r.du=r.du.remove(o),r.Eu.delete(e),Fy(r)}else await mg(r.localStore,e,!1).then(()=>vg(r,e,t)).catch(hl)}async function YL(n,e){const t=De(n),r=e.batch.batchId;try{const i=await oL(t.localStore,e);vI(t,r,null),yI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await gc(t,i)}catch(i){await hl(i)}}async function XL(n,e,t){const r=De(n);try{const i=await function(l,c){const d=De(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(g=>(Ge(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(f,g))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);vI(r,e,t),yI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await gc(r,i)}catch(i){await hl(i)}}function yI(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function vI(n,e,t){const r=De(n);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function vg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||_I(n,r)})}function _I(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ky(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Fy(n))}function RE(n,e,t){for(const r of t)r instanceof fI?(n.Au.addReference(r.key,e),JL(n,r)):r instanceof pI?(de(My,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||_I(n,r.key)):Ie(19791,{yu:r})}function JL(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(de(My,"New document in limbo: "+t),n.Iu.add(r),Fy(n))}function Fy(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new _e(Ze.fromString(e)),r=n.mu.next();n.Eu.set(r,new BL(t)),n.du=n.du.insert(t,r),iI(n.remoteStore,new cs(jr(of(t.path)),r,"TargetPurposeLimboResolution",nf.ue))}}async function gc(n,e,t){const r=De(n),i=[],o=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((c,d)=>{l.push(r.gu(d,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:(m=t?.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=Ay.Es(d.targetId,f);o.push(g)}}))}),await Promise.all(l),r.hu.J_(i),await async function(d,f){const m=De(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ee.forEach(f,w=>ee.forEach(w.Is,T=>m.persistence.referenceDelegate.addReference(g,w.targetId,T)).next(()=>ee.forEach(w.ds,T=>m.persistence.referenceDelegate.removeReference(g,w.targetId,T)))))}catch(g){if(!fl(g))throw g;de(Ry,"Failed to update sequence numbers: "+g)}for(const g of f){const w=g.targetId;if(!g.fromCache){const T=m.Fs.get(w),x=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(x);m.Fs=m.Fs.insert(w,R)}}}(r.localStore,o))}async function ZL(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){de(My,"User change. New user:",e.toKey());const r=await eI(t.localStore,e);t.currentUser=e,function(o,l){o.Vu.forEach(c=>{c.forEach(d=>{d.reject(new ue(Z.CANCELLED,l))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gc(t,r.Bs)}}function eV(n,e){const t=De(n),r=t.Eu.get(e);if(r&&r.lu)return Be().add(r.key);{let i=Be();const o=t.Tu.get(e);if(!o)return i;for(const l of o){const c=t.Pu.get(l);i=i.unionWith(c.view.tu)}return i}}function wI(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QL.bind(null,e),e.hu.J_=ML.bind(null,e.eventManager),e.hu.pu=FL.bind(null,e.eventManager),e}function tV(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XL.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return sL(this.persistence,new nL,e.initialUser,this.serializer)}Du(e){return new Zx(Cy.Vi,this.serializer)}bu(e){return new hL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class nV extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ge(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BN(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new Zx(r=>bh.Vi(r,t),this.serializer)}}class _g{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZL.bind(null,this.syncEngine),await NL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VL}()}createDatastore(e){const t=hf(e.databaseInfo.databaseId),r=function(o){return new yL(o)}(e.databaseInfo);return function(o,l,c,d){return new EL(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,c){return new SL(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>AE(this.syncEngine,t,0),function(){return TE.C()?new TE:new fL}())}createSyncEngine(e,t){return function(i,o,l,c,d,f,m){const g=new $L(i,o,l,c,d,f);return m&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=De(i);de(bo,"RemoteStore shutting down."),o.Ia.add(5),await mc(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_g.provider={build:()=>new _g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class rV{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=my.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{de(Ps,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(de(Ps,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ly(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sm(n,e){n.asyncQueue.verifyOperationInProgress(),de(Ps,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{ws("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{de("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ws("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function kE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await iV(n);de(Ps,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>xE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>xE(e.remoteStore,i)),n._onlineComponents=e}async function iV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Ps,"Using user provided OfflineComponentProvider");try{await Sm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ws("Error using user provided cache. Falling back to memory cache: "+t),await Sm(n,new Oh)}}else de(Ps,"Using default OfflineComponentProvider"),await Sm(n,new nV(void 0));return n._offlineComponents}async function TI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Ps,"Using user provided OnlineComponentProvider"),await kE(n,n._uninitializedComponentsProvider._online)):(de(Ps,"Using default OnlineComponentProvider"),await kE(n,new _g))),n._onlineComponents}function sV(n){return TI(n).then(e=>e.syncEngine)}async function wg(n){const e=await TI(n),t=e.eventManager;return t.onListen=zL.bind(null,e.syncEngine),t.onUnlisten=qL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KL.bind(null,e.syncEngine),t}function oV(n,e,t={}){const r=new gs;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const m=new EI({next:w=>{m.Ou(),l.enqueueAndForget(()=>dI(o,g));const T=w.docs.has(c);!T&&w.fromCache?f.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&d&&d.source==="server"?f.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(w)},error:w=>f.reject(w)}),g=new hI(of(c.path),m,{includeMetadataChanges:!0,ka:!0});return cI(o,g)}(await wg(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="firestore.googleapis.com",DE=!0;class OE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xI,this.ssl=DE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:DE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jN)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mO;switch(r.type){case"firstParty":return new _O(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=bE.get(t);r&&(de("ComponentProvider","Removing Datastore"),bE.delete(t),r.terminate())}(this),Promise.resolve()}}function aV(n,e,t,r={}){var i;n=Xn(n,mf);const o=ll(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o&&(pS(`https://${d}`),mS("Firestore",!0)),l.host!==xI&&l.host!==d&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!Po(f,c)&&(n._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Jt.MOCK_USER;else{m=Pk(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jt(w)}n._authCredentials=new gO(new ux(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class mt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(hc(t,mt._jsonSchema))return new mt(e,r||null,new _e(Ze.fromString(t.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Pt("string",mt._jsonSchemaVersion),referencePath:Pt("string")};class ys extends Mo{constructor(e,t,r){super(e,t,of(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new _e(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function II(n,e,...t){if(n=Ct(n),dx("collection","path",e),n instanceof mf){const r=Ze.fromString(e,...t);return qw(r),new ys(n,null,r)}{if(!(n instanceof mt||n instanceof ys))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return qw(r),new ys(n.firestore,null,r)}}function Eg(n,e,...t){if(n=Ct(n),arguments.length===1&&(e=my.newId()),dx("doc","path",e),n instanceof mf){const r=Ze.fromString(e,...t);return Hw(r),new mt(n,null,new _e(r))}{if(!(n instanceof mt||n instanceof ys))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return Hw(r),new mt(n.firestore,n instanceof ys?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="AsyncQueue";class LE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new nI(this,"async_queue_retry"),this.oc=()=>{const r=Tm();r&&de(NE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Tm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Tm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new gs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!fl(e))throw e;de(NE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,vi("INTERNAL UNHANDLED ERROR: ",VE(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=Ny.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Ie(47125,{hc:VE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function VE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Cs extends mf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new LE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LE(e),this._firestoreClient=void 0,await e}}}function lV(n,e){const t=typeof n=="object"?n:_S(),r=typeof n=="string"?n:Ih,i=iy(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=xk("firestore");o&&aV(i,...o)}return i}function jy(n){if(n._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uV(n),n._firestoreClient}function uV(n){var e,t,r;const i=n._freezeSettings(),o=function(c,d,f,m){return new LO(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,SI(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new rV(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Ht.fromBase64String(e))}catch(t){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yn(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Pt("string",Yn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Br._jsonSchemaVersion}}static fromJSON(e){if(hc(e,Br._jsonSchema))return new Br(e.latitude,e.longitude)}}Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:Pt("string",Br._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,$r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new $r(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:Pt("string",$r._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=/^__.*__$/;class dV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,t,this.fieldTransforms):new fc(e,this.data,t,this.fieldTransforms)}}class PI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ec:n})}}class By{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new By(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Nh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(CI(this.Ec)&&cV.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class hV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hf(e)}Dc(e,t,r,i=!1){return new By({Ec:e,methodName:t,bc:r,path:Wt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yf(n){const e=n._freezeSettings(),t=hf(n._databaseId);return new hV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function AI(n,e,t,r,i,o={}){const l=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);$y("Data must be an object, but it was:",l,r);const c=RI(r,l);let d,f;if(o.merge)d=new Dn(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const w=Tg(e,g,t);if(!l.contains(w))throw new ue(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);bI(m,w)||m.push(w)}d=new Dn(m),f=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,f=l.fieldTransforms;return new dV(new wn(c),d,f)}class vf extends Uy{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vf}}function fV(n,e,t,r){const i=n.Dc(1,e,t);$y("Data must be an object, but it was:",i,r);const o=[],l=wn.empty();Ds(r,(d,f)=>{const m=zy(e,d,t);f=Ct(f);const g=i.gc(m);if(f instanceof vf)o.push(m);else{const w=yc(f,g);w!=null&&(o.push(m),l.set(m,w))}});const c=new Dn(o);return new PI(l,c,i.fieldTransforms)}function pV(n,e,t,r,i,o){const l=n.Dc(1,e,t),c=[Tg(e,r,t)],d=[i];if(o.length%2!=0)throw new ue(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(Tg(e,o[w])),d.push(o[w+1]);const f=[],m=wn.empty();for(let w=c.length-1;w>=0;--w)if(!bI(f,c[w])){const T=c[w];let x=d[w];x=Ct(x);const R=l.gc(T);if(x instanceof vf)f.push(T);else{const I=yc(x,R);I!=null&&(f.push(T),m.set(T,I))}}const g=new Dn(f);return new PI(m,g,l.fieldTransforms)}function mV(n,e,t,r=!1){return yc(t,n.Dc(r?4:3,e))}function yc(n,e){if(kI(n=Ct(n)))return $y("Unsupported field value:",e,n),RI(n,e);if(n instanceof Uy)return function(r,i){if(!CI(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let d=yc(c,i.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=nt.fromDate(r);return{timestampValue:kh(i.serializer,o)}}if(r instanceof nt){const o=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(i.serializer,o)}}if(r instanceof Br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:Hx(i.serializer,r._byteString)};if(r instanceof mt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Iy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $r)return function(l,c){return{mapValue:{fields:{[wx]:{stringValue:Ex},[Ph]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.wc("VectorValues must only contain numeric values.");return Ey(c.serializer,f)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${tf(r)}`)}(n,e)}function RI(n,e){const t={};return px(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(n,(r,i)=>{const o=yc(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function kI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nt||n instanceof Br||n instanceof Yn||n instanceof mt||n instanceof Uy||n instanceof $r)}function $y(n,e,t){if(!kI(t)||!hx(t)){const r=tf(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Tg(n,e,t){if((e=Ct(e))instanceof gf)return e._internalPath;if(typeof e=="string")return zy(n,e);throw Nh("Field path arguments must be of type string or ",n,!1,void 0,t)}const gV=new RegExp("[~\\*/\\[\\]]");function zy(n,e,t){if(e.search(gV)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gf(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nh(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ue(Z.INVALID_ARGUMENT,c+n+d)}function bI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_f("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yV extends DI{data(){return super.data()}}function _f(n,e){return typeof e=="string"?zy(n,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wy{}class OI extends Wy{}function _V(n,e,...t){let r=[];e instanceof Wy&&r.push(e),r=r.concat(t),function(o){const l=o.filter(d=>d instanceof Hy).length,c=o.filter(d=>d instanceof wf).length;if(l>1||l>0&&c>0)throw new ue(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class wf extends OI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wf(e,t,r)}_apply(e){const t=this._parse(e);return NI(e._query,t),new Mo(e.firestore,e.converter,ug(e._query,t))}_parse(e){const t=yf(e.firestore);return function(o,l,c,d,f,m,g){let w;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){jE(g,m);const x=[];for(const R of g)x.push(FE(d,o,R));w={arrayValue:{values:x}}}else w=FE(d,o,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||jE(g,m),w=mV(c,l,g,m==="in"||m==="not-in");return It.create(f,m,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wV(n,e,t){const r=e,i=_f("where",n);return wf._create(i,r,t)}class Hy extends Wy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)NI(l,d),l=ug(l,d)}(e._query,t),new Mo(e.firestore,e.converter,ug(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qy extends OI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qy(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qu(o,l)}(e._query,this._field,this._direction);return new Mo(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new pl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function EV(n,e="asc"){const t=e,r=_f("orderBy",n);return qy._create(r,t)}function FE(n,e,t){if(typeof(t=Ct(t))=="string"){if(t==="")throw new ue(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rx(e)&&t.indexOf("/")!==-1)throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ze.fromString(t));if(!_e.isDocumentKey(r))throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eE(n,new _e(r))}if(t instanceof mt)return eE(n,t._key);throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(t)}.`)}function jE(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NI(n,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class TV{convertValue(e,t="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ds(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ph].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>_t(l.doubleValue));return new $r(o)}convertGeoPoint(e){return new Br(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const t=Ts(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ze.fromString(e);Ge(Xx(r),9688,{name:e});const i=new Wu(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||vi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class wu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class To extends DI{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_f("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=To._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}To._jsonSchemaVersion="firestore/documentSnapshot/1.0",To._jsonSchema={type:Pt("string",To._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class ch extends To{data(e={}){return super.data(e)}}class Ka{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new wu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ch(this._firestore,this._userDataWriter,r.key,r,new wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new ch(i._firestore,i._userDataWriter,c.doc.key,c.doc,new wu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new ch(i._firestore,i._userDataWriter,c.doc.key,c.doc,new wu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:SV(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=my.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(n){n=Xn(n,mt);const e=Xn(n.firestore,Cs);return oV(jy(e),n._key).then(t=>MI(e,n,t))}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Pt("string",Ka._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class VI extends TV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function _z(n,e,t){n=Xn(n,mt);const r=Xn(n.firestore,Cs),i=LI(n.converter,e,t);return Ef(r,[AI(yf(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Jn.none())])}function xV(n,e,t,...r){n=Xn(n,mt);const i=Xn(n.firestore,Cs),o=yf(i);let l;return l=typeof(e=Ct(e))=="string"||e instanceof gf?pV(o,"updateDoc",n._key,e,t,r):fV(o,"updateDoc",n._key,e),Ef(i,[l.toMutation(n._key,Jn.exists(!0))])}function IV(n){return Ef(Xn(n.firestore,Cs),[new Ty(n._key,Jn.none())])}function PV(n,e){const t=Xn(n.firestore,Cs),r=Eg(n),i=LI(n.converter,e);return Ef(t,[AI(yf(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function CV(n,...e){var t,r,i;n=Ct(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||ME(e[l])||(o=e[l++]);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ME(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,f,m;if(n instanceof mt)f=Xn(n.firestore,Cs),m=of(n._key.path),d={next:g=>{e[l]&&e[l](MI(f,n,g))},error:e[l+1],complete:e[l+2]};else{const g=Xn(n,Mo);f=Xn(g.firestore,Cs),m=g._query;const w=new VI(f);d={next:T=>{e[l]&&e[l](new Ka(f,w,g,T))},error:e[l+1],complete:e[l+2]},vV(n._query)}return function(w,T,x,R){const I=new EI(R),V=new hI(T,I,x);return w.asyncQueue.enqueueAndForget(async()=>cI(await wg(w),V)),()=>{I.Ou(),w.asyncQueue.enqueueAndForget(async()=>dI(await wg(w),V))}}(jy(f),m,c,d)}function Ef(n,e){return function(r,i){const o=new gs;return r.asyncQueue.enqueueAndForget(async()=>GL(await sV(r),i,o)),o.promise}(jy(n),e)}function MI(n,e,t){const r=t.docs.get(e._key),i=new VI(n);return new To(n,i,e._key,r,new wu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){dl=i})(ul),Ga(new Co("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Cs(new yO(r.getProvider("auth-internal")),new wO(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ps(Uw,Bw,e),ps(Uw,Bw,"esm2017")})();const AV={apiKey:"AIzaSyCEMCP41iugDnlcPgnj377Fgb_VqRS2TlM",authDomain:"soldi-sotto.firebaseapp.com",projectId:"soldi-sotto",storageBucket:"soldi-sotto.firebasestorage.app",messagingSenderId:"885892536806",appId:"1:885892536806:web:89e8d5f608fb466f4ede27"},FI=vS(AV),UE=fO(FI),dh=lV(FI),jI=A.createContext(),Fo=()=>A.useContext(jI),Ky=({children:n})=>{Ky.propTypes={children:be.node.isRequired};const[e,t]=A.useState(null),[r,i]=A.useState(!0),o=async()=>{try{await nD(UE)}catch(l){throw console.error("Errore durante il logout:",l),l}};return A.useEffect(()=>tD(UE,c=>{t(c),i(!1)}),[]),K.jsx(jI.Provider,{value:{currentUser:e,loading:r,logout:o},children:n})},UI=A.createContext(),RV=()=>A.useContext(UI),BI=({children:n})=>{BI.propTypes={children:be.node.isRequired};const{currentUser:e}=Fo(),[t,r]=A.useState([]),[i,o]=A.useState(!0),l=A.useCallback(()=>{if(!e)return;o(!0);const c=_V(II(dh,"transactions"),wV("userId","==",e.uid),EV("date","desc"));return CV(c,f=>{const m=f.docs.map(g=>({...g.data(),id:g.id,amount:parseFloat(g.data().amount)||0}));r(m),o(!1)})},[e]);return A.useEffect(()=>{if(e){const c=l();return()=>c&&c()}else o(!1)},[e,l]),K.jsx(UI.Provider,{value:{transactions:t,loading:i},children:n})};var xm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var BE;function kV(){return BE||(BE=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(xm)),xm.exports}var bV=kV();const nn=Oo(bV);function Sg(){return Sg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sg.apply(null,arguments)}function $I(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function $E(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function DV(n){var e=OV(n,"string");return typeof e=="symbol"?e:String(e)}function OV(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function NV(n,e,t){var r=A.useRef(n!==void 0),i=A.useState(e),o=i[0],l=i[1],c=n!==void 0,d=r.current;return r.current=c,!c&&d&&o!==e&&l(e),[c?n:o,A.useCallback(function(f){for(var m=arguments.length,g=new Array(m>1?m-1:0),w=1;w<m;w++)g[w-1]=arguments[w];t&&t.apply(void 0,[f].concat(g)),l(f)},[t])]}function LV(n,e){return Object.keys(e).reduce(function(t,r){var i,o=t,l=o[$E(r)],c=o[r],d=$I(o,[$E(r),r].map(DV)),f=e[r],m=NV(c,l,n[f]),g=m[0],w=m[1];return Sg({},d,(i={},i[r]=g,i[f]=w,i))},n)}function xg(n,e){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},xg(n,e)}function VV(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,xg(n,e)}const MV=["xxl","xl","lg","md","sm","xs"],FV="xs",vc=A.createContext({prefixes:{},breakpoints:MV,minBreakpoint:FV}),{Consumer:wz,Provider:Ez}=vc;function Sn(n,e){const{prefixes:t}=A.useContext(vc);return n||t[e]||e}function Tz(){const{breakpoints:n}=A.useContext(vc);return n}function Sz(){const{minBreakpoint:n}=A.useContext(vc);return n}function jV(){const{dir:n}=A.useContext(vc);return n==="rtl"}function zI(n){return n&&n.ownerDocument||document}function UV(n){var e=zI(n);return e&&e.defaultView||window}function BV(n,e){return UV(n).getComputedStyle(n,e)}var $V=/([A-Z])/g;function zV(n){return n.replace($V,"-$1").toLowerCase()}var WV=/^ms-/;function Gd(n){return zV(n).replace(WV,"-ms-")}var HV=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function qV(n){return!!(n&&HV.test(n))}function WI(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Gd(e))||BV(n).getPropertyValue(Gd(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?n.style.removeProperty(Gd(i)):qV(i)?r+=i+"("+o+") ":t+=Gd(i)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var KV=sS();const Eu=Oo(KV),zE={disabled:!1},HI=pt.createContext(null);var GV=function(e){return e.scrollTop},Tu="unmounted",go="exited",ci="entering",_o="entered",Lh="exiting",xi=function(n){VV(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,d;return o.appearStatus=null,r.in?c?(d=go,o.appearStatus=ci):d=_o:r.unmountOnExit||r.mountOnEnter?d=Tu:d=go,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Tu?{status:go}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==ci&&l!==_o&&(o=ci):(l===ci||l===_o)&&(o=Lh)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,c;return o=l=c=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:c}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===ci){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Eu.findDOMNode(this);l&&GV(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===go&&this.setState({status:Tu})},t.performEnter=function(i){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[Eu.findDOMNode(this),c],f=d[0],m=d[1],g=this.getTimeouts(),w=c?g.appear:g.enter;if(!i&&!l||zE.disabled){this.safeSetState({status:_o},function(){o.props.onEntered(f)});return}this.props.onEnter(f,m),this.safeSetState({status:ci},function(){o.props.onEntering(f,m),o.onTransitionEnd(w,function(){o.safeSetState({status:_o},function(){o.props.onEntered(f,m)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Eu.findDOMNode(this);if(!o||zE.disabled){this.safeSetState({status:go},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Lh},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:go},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:Eu.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=d[0],m=d[1];this.props.addEndListener(f,m)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Tu)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=$I(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pt.createElement(HI.Provider,{value:null},typeof l=="function"?l(i,c):pt.cloneElement(pt.Children.only(l),c))},e}(pt.Component);xi.contextType=HI;xi.propTypes={};function Aa(){}xi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Aa,onEntering:Aa,onEntered:Aa,onExit:Aa,onExiting:Aa,onExited:Aa};xi.UNMOUNTED=Tu;xi.EXITED=go;xi.ENTERING=ci;xi.ENTERED=_o;xi.EXITING=Lh;function xz(n){return n.code==="Escape"||n.keyCode===27}function QV(){const n=A.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function YV(n){if(!n||typeof n=="function")return null;const{major:e}=QV();return e>=19?n.props.ref:n.ref}const qI=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ig=!1,Pg=!1;try{var Im={get passive(){return Ig=!0},get once(){return Pg=Ig=!0}};qI&&(window.addEventListener("test",Im,Im),window.removeEventListener("test",Im,!0))}catch{}function KI(n,e,t,r){if(r&&typeof r!="boolean"&&!Pg){var i=r.once,o=r.capture,l=t;!Pg&&i&&(l=t.__once||function c(d){this.removeEventListener(e,c,o),t.call(this,d)},t.__once=l),n.addEventListener(e,l,Ig?r:o)}n.addEventListener(e,t,r)}function XV(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function Ma(n,e,t,r){return KI(n,e,t,r),function(){XV(n,e,t,r)}}function JV(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function ZV(n){var e=WI(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function eM(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||JV(n,"transitionend",!0)},e+t),o=Ma(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function tM(n,e,t,r){t==null&&(t=ZV(n)||0);var i=eM(n,t,r),o=Ma(n,"transitionend",e);return function(){i(),o()}}function WE(n,e){const t=WI(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function nM(n,e){const t=WE(n,"transitionDuration"),r=WE(n,"transitionDelay"),i=tM(n,o=>{o.target===n&&(i(),e(o))},t+r)}function rM(n){n.offsetHeight}const HE=n=>!n||typeof n=="function"?n:e=>{n.current=e};function iM(n,e){const t=HE(n),r=HE(e);return i=>{t&&t(i),r&&r(i)}}function Gy(n,e){return A.useMemo(()=>iM(n,e),[n,e])}function sM(n){return n&&"setState"in n?Eu.findDOMNode(n):n??null}const GI=pt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:o,addEndListener:l,children:c,childRef:d,...f},m)=>{const g=A.useRef(null),w=Gy(g,d),T=X=>{w(sM(X))},x=X=>D=>{X&&g.current&&X(g.current,D)},R=A.useCallback(x(n),[n]),I=A.useCallback(x(e),[e]),V=A.useCallback(x(t),[t]),M=A.useCallback(x(r),[r]),F=A.useCallback(x(i),[i]),z=A.useCallback(x(o),[o]),Q=A.useCallback(x(l),[l]);return K.jsx(xi,{ref:m,...f,onEnter:R,onEntered:V,onEntering:I,onExit:M,onExited:z,onExiting:F,addEndListener:Q,nodeRef:g,children:typeof c=="function"?(X,D)=>c(X,{...D,ref:T}):pt.cloneElement(c,{ref:T})})});GI.displayName="TransitionWrapper";function oM(n){const e=A.useRef(n);return A.useEffect(()=>{e.current=n},[n]),e}function QI(n){const e=oM(n);return A.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function aM(){return A.useState(null)}function lM(n){const e=A.useRef(n);return A.useEffect(()=>{e.current=n},[n]),e}function vs(n){const e=lM(n);return A.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function uM(n,e,t,r=!1){const i=vs(t);A.useEffect(()=>{const o=typeof n=="function"?n():n;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[n])}function cM(){const n=A.useRef(!0),e=A.useRef(()=>n.current);return A.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function dM(n){const e=A.useRef(null);return A.useEffect(()=>{e.current=n}),e.current}const hM=["as","disabled"];function fM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function pM(n){return!n||n.trim()==="#"}function Qy({tagName:n,disabled:e,href:t,target:r,rel:i,role:o,onClick:l,tabIndex:c=0,type:d}){n||(t!=null||r!=null||i!=null?n="a":n="button");const f={tagName:n};if(n==="button")return[{type:d||"button",disabled:e},f];const m=w=>{if((e||n==="a"&&pM(t))&&w.preventDefault(),e){w.stopPropagation();return}l?.(w)},g=w=>{w.key===" "&&(w.preventDefault(),m(w))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:m,onKeyDown:g},f]}const YI=A.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=fM(n,hM);const[o,{tagName:l}]=Qy(Object.assign({tagName:t,disabled:r},i));return K.jsx(l,Object.assign({},i,o,{ref:e}))});YI.displayName="Button";const mM=["onKeyDown"];function gM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function yM(n){return!n||n.trim()==="#"}const XI=A.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=gM(n,mM);const[i]=Qy(Object.assign({tagName:"a"},r)),o=vs(l=>{i.onKeyDown(l),t?.(l)});return yM(r.href)||r.role==="button"?K.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):K.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});XI.displayName="Anchor";const vM={[ci]:"show",[_o]:"show"},JI=A.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},o)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=A.useCallback((d,f)=>{rM(d),r?.(d,f)},[r]);return K.jsx(GI,{ref:o,addEndListener:nM,...l,onEnter:c,childRef:YV(e),children:(d,f)=>A.cloneElement(e,{...f,className:nn("fade",n,e.props.className,vM[d],t[d])})})});JI.displayName="Fade";const _M={"aria-label":be.string,onClick:be.func,variant:be.oneOf(["white"])},Yy=A.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>K.jsx("button",{ref:i,type:"button",className:nn("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));Yy.displayName="CloseButton";Yy.propTypes=_M;const Xy=A.forwardRef(({bsPrefix:n,bg:e="primary",pill:t=!1,text:r,className:i,as:o="span",...l},c)=>{const d=Sn(n,"badge");return K.jsx(o,{ref:c,...l,className:nn(i,d,t&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});Xy.displayName="Badge";const ss=A.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:o=!1,className:l,...c},d)=>{const f=Sn(e,"btn"),[m,{tagName:g}]=Qy({tagName:n,disabled:o,...c}),w=g;return K.jsx(w,{...m,...c,ref:d,disabled:o,className:nn(l,f,i&&"active",t&&`${f}-${t}`,r&&`${f}-${r}`,c.href&&o&&"disabled")})});ss.displayName="Button";function wM(){const n=A.useRef(!0),e=A.useRef(()=>n.current);return A.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function EM(n){const e=A.useRef(n);return e.current=n,e}function TM(n){const e=EM(n);A.useEffect(()=>()=>e.current(),[])}const Cg=2**31-1;function ZI(n,e,t){const r=t-Date.now();n.current=r<=Cg?setTimeout(e,r):setTimeout(()=>ZI(n,e,t),Cg)}function SM(){const n=wM(),e=A.useRef();return TM(()=>clearTimeout(e.current)),A.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(i,o=0){n()&&(t(),o<=Cg?e.current=setTimeout(i,o):ZI(e,i,Date.now()+o))}return{set:r,clear:t,handleRef:e}},[])}var xM=Function.prototype.bind.call(Function.prototype.call,[].slice);function qE(n,e){return xM(n.querySelectorAll(e))}function IM(n,e,t){const r=A.useRef(n!==void 0),[i,o]=A.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&o(e),[l?n:i,A.useCallback((...d)=>{const[f,...m]=d;let g=t?.(f,...m);return o(f),g},[t])]}function PM(){const[,n]=A.useReducer(e=>e+1,0);return n}const Tf=A.createContext(null);var KE=Object.prototype.hasOwnProperty;function GE(n,e,t){for(t of n.keys())if(Du(t,e))return t}function Du(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Du(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=GE(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=GE(e,i),!i)||!Du(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(KE.call(n,t)&&++r&&!KE.call(e,t)||!(t in e)||!Du(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function CM(n){const e=cM();return[n[0],A.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var En="top",Zn="bottom",er="right",Tn="left",Jy="auto",_c=[En,Zn,er,Tn],tl="start",Qu="end",AM="clippingParents",eP="viewport",du="popper",RM="reference",QE=_c.reduce(function(n,e){return n.concat([e+"-"+tl,e+"-"+Qu])},[]),tP=[].concat(_c,[Jy]).reduce(function(n,e){return n.concat([e,e+"-"+tl,e+"-"+Qu])},[]),kM="beforeRead",bM="read",DM="afterRead",OM="beforeMain",NM="main",LM="afterMain",VM="beforeWrite",MM="write",FM="afterWrite",jM=[kM,bM,DM,OM,NM,LM,VM,MM,FM];function zr(n){return n.split("-")[0]}function Nn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Do(n){var e=Nn(n).Element;return n instanceof e||n instanceof Element}function Wr(n){var e=Nn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Zy(n){if(typeof ShadowRoot>"u")return!1;var e=Nn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var So=Math.max,Vh=Math.min,nl=Math.round;function Ag(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function nP(){return!/^((?!chrome|android).)*safari/i.test(Ag())}function rl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&Wr(n)&&(i=n.offsetWidth>0&&nl(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&nl(r.height)/n.offsetHeight||1);var l=Do(n)?Nn(n):window,c=l.visualViewport,d=!nP()&&t,f=(r.left+(d&&c?c.offsetLeft:0))/i,m=(r.top+(d&&c?c.offsetTop:0))/o,g=r.width/i,w=r.height/o;return{width:g,height:w,top:m,right:f+g,bottom:m+w,left:f,x:f,y:m}}function ev(n){var e=rl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function rP(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Zy(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function As(n){return n?(n.nodeName||"").toLowerCase():null}function wi(n){return Nn(n).getComputedStyle(n)}function UM(n){return["table","td","th"].indexOf(As(n))>=0}function Ns(n){return((Do(n)?n.ownerDocument:n.document)||window.document).documentElement}function Sf(n){return As(n)==="html"?n:n.assignedSlot||n.parentNode||(Zy(n)?n.host:null)||Ns(n)}function YE(n){return!Wr(n)||wi(n).position==="fixed"?null:n.offsetParent}function BM(n){var e=/firefox/i.test(Ag()),t=/Trident/i.test(Ag());if(t&&Wr(n)){var r=wi(n);if(r.position==="fixed")return null}var i=Sf(n);for(Zy(i)&&(i=i.host);Wr(i)&&["html","body"].indexOf(As(i))<0;){var o=wi(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function wc(n){for(var e=Nn(n),t=YE(n);t&&UM(t)&&wi(t).position==="static";)t=YE(t);return t&&(As(t)==="html"||As(t)==="body"&&wi(t).position==="static")?e:t||BM(n)||e}function tv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ou(n,e,t){return So(n,Vh(e,t))}function $M(n,e,t){var r=Ou(n,e,t);return r>t?t:r}function iP(){return{top:0,right:0,bottom:0,left:0}}function sP(n){return Object.assign({},iP(),n)}function oP(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var zM=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,sP(typeof e!="number"?e:oP(e,_c))};function WM(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,c=zr(t.placement),d=tv(c),f=[Tn,er].indexOf(c)>=0,m=f?"height":"width";if(!(!o||!l)){var g=zM(i.padding,t),w=ev(o),T=d==="y"?En:Tn,x=d==="y"?Zn:er,R=t.rects.reference[m]+t.rects.reference[d]-l[d]-t.rects.popper[m],I=l[d]-t.rects.reference[d],V=wc(o),M=V?d==="y"?V.clientHeight||0:V.clientWidth||0:0,F=R/2-I/2,z=g[T],Q=M-w[m]-g[x],X=M/2-w[m]/2+F,D=Ou(z,X,Q),P=d;t.modifiersData[r]=(e={},e[P]=D,e.centerOffset=D-X,e)}}function HM(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||rP(e.elements.popper,i)&&(e.elements.arrow=i))}const qM={name:"arrow",enabled:!0,phase:"main",fn:WM,effect:HM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function il(n){return n.split("-")[1]}var KM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function GM(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:nl(t*i)/i||0,y:nl(r*i)/i||0}}function XE(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,c=n.position,d=n.gpuAcceleration,f=n.adaptive,m=n.roundOffsets,g=n.isFixed,w=l.x,T=w===void 0?0:w,x=l.y,R=x===void 0?0:x,I=typeof m=="function"?m({x:T,y:R}):{x:T,y:R};T=I.x,R=I.y;var V=l.hasOwnProperty("x"),M=l.hasOwnProperty("y"),F=Tn,z=En,Q=window;if(f){var X=wc(t),D="clientHeight",P="clientWidth";if(X===Nn(t)&&(X=Ns(t),wi(X).position!=="static"&&c==="absolute"&&(D="scrollHeight",P="scrollWidth")),X=X,i===En||(i===Tn||i===er)&&o===Qu){z=Zn;var k=g&&X===Q&&Q.visualViewport?Q.visualViewport.height:X[D];R-=k-r.height,R*=d?1:-1}if(i===Tn||(i===En||i===Zn)&&o===Qu){F=er;var N=g&&X===Q&&Q.visualViewport?Q.visualViewport.width:X[P];T-=N-r.width,T*=d?1:-1}}var L=Object.assign({position:c},f&&KM),U=m===!0?GM({x:T,y:R},Nn(t)):{x:T,y:R};if(T=U.x,R=U.y,d){var b;return Object.assign({},L,(b={},b[z]=M?"0":"",b[F]=V?"0":"",b.transform=(Q.devicePixelRatio||1)<=1?"translate("+T+"px, "+R+"px)":"translate3d("+T+"px, "+R+"px, 0)",b))}return Object.assign({},L,(e={},e[z]=M?R+"px":"",e[F]=V?T+"px":"",e.transform="",e))}function QM(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,c=t.roundOffsets,d=c===void 0?!0:c,f={placement:zr(e.placement),variation:il(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,XE(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,XE(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const YM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:QM,data:{}};var Qd={passive:!0};function XM(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,d=Nn(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(m){m.addEventListener("scroll",t.update,Qd)}),c&&d.addEventListener("resize",t.update,Qd),function(){o&&f.forEach(function(m){m.removeEventListener("scroll",t.update,Qd)}),c&&d.removeEventListener("resize",t.update,Qd)}}const JM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:XM,data:{}};var ZM={left:"right",right:"left",bottom:"top",top:"bottom"};function hh(n){return n.replace(/left|right|bottom|top/g,function(e){return ZM[e]})}var eF={start:"end",end:"start"};function JE(n){return n.replace(/start|end/g,function(e){return eF[e]})}function nv(n){var e=Nn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function rv(n){return rl(Ns(n)).left+nv(n).scrollLeft}function tF(n,e){var t=Nn(n),r=Ns(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){o=i.width,l=i.height;var f=nP();(f||!f&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:c+rv(n),y:d}}function nF(n){var e,t=Ns(n),r=nv(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=So(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=So(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+rv(n),d=-r.scrollTop;return wi(i||t).direction==="rtl"&&(c+=So(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:c,y:d}}function iv(n){var e=wi(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function aP(n){return["html","body","#document"].indexOf(As(n))>=0?n.ownerDocument.body:Wr(n)&&iv(n)?n:aP(Sf(n))}function Nu(n,e){var t;e===void 0&&(e=[]);var r=aP(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=Nn(r),l=i?[o].concat(o.visualViewport||[],iv(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(Nu(Sf(l)))}function Rg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function rF(n,e){var t=rl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function ZE(n,e,t){return e===eP?Rg(tF(n,t)):Do(e)?rF(e,t):Rg(nF(Ns(n)))}function iF(n){var e=Nu(Sf(n)),t=["absolute","fixed"].indexOf(wi(n).position)>=0,r=t&&Wr(n)?wc(n):n;return Do(r)?e.filter(function(i){return Do(i)&&rP(i,r)&&As(i)!=="body"}):[]}function sF(n,e,t,r){var i=e==="clippingParents"?iF(n):[].concat(e),o=[].concat(i,[t]),l=o[0],c=o.reduce(function(d,f){var m=ZE(n,f,r);return d.top=So(m.top,d.top),d.right=Vh(m.right,d.right),d.bottom=Vh(m.bottom,d.bottom),d.left=So(m.left,d.left),d},ZE(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function lP(n){var e=n.reference,t=n.element,r=n.placement,i=r?zr(r):null,o=r?il(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,d;switch(i){case En:d={x:l,y:e.y-t.height};break;case Zn:d={x:l,y:e.y+e.height};break;case er:d={x:e.x+e.width,y:c};break;case Tn:d={x:e.x-t.width,y:c};break;default:d={x:e.x,y:e.y}}var f=i?tv(i):null;if(f!=null){var m=f==="y"?"height":"width";switch(o){case tl:d[f]=d[f]-(e[m]/2-t[m]/2);break;case Qu:d[f]=d[f]+(e[m]/2-t[m]/2);break}}return d}function Yu(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,c=t.boundary,d=c===void 0?AM:c,f=t.rootBoundary,m=f===void 0?eP:f,g=t.elementContext,w=g===void 0?du:g,T=t.altBoundary,x=T===void 0?!1:T,R=t.padding,I=R===void 0?0:R,V=sP(typeof I!="number"?I:oP(I,_c)),M=w===du?RM:du,F=n.rects.popper,z=n.elements[x?M:w],Q=sF(Do(z)?z:z.contextElement||Ns(n.elements.popper),d,m,l),X=rl(n.elements.reference),D=lP({reference:X,element:F,placement:i}),P=Rg(Object.assign({},F,D)),k=w===du?P:X,N={top:Q.top-k.top+V.top,bottom:k.bottom-Q.bottom+V.bottom,left:Q.left-k.left+V.left,right:k.right-Q.right+V.right},L=n.modifiersData.offset;if(w===du&&L){var U=L[i];Object.keys(N).forEach(function(b){var ve=[er,Zn].indexOf(b)>=0?1:-1,Fe=[En,Zn].indexOf(b)>=0?"y":"x";N[b]+=U[Fe]*ve})}return N}function oF(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,c=t.flipVariations,d=t.allowedAutoPlacements,f=d===void 0?tP:d,m=il(r),g=m?c?QE:QE.filter(function(x){return il(x)===m}):_c,w=g.filter(function(x){return f.indexOf(x)>=0});w.length===0&&(w=g);var T=w.reduce(function(x,R){return x[R]=Yu(n,{placement:R,boundary:i,rootBoundary:o,padding:l})[zr(R)],x},{});return Object.keys(T).sort(function(x,R){return T[x]-T[R]})}function aF(n){if(zr(n)===Jy)return[];var e=hh(n);return[JE(n),e,JE(e)]}function lF(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,d=t.fallbackPlacements,f=t.padding,m=t.boundary,g=t.rootBoundary,w=t.altBoundary,T=t.flipVariations,x=T===void 0?!0:T,R=t.allowedAutoPlacements,I=e.options.placement,V=zr(I),M=V===I,F=d||(M||!x?[hh(I)]:aF(I)),z=[I].concat(F).reduce(function(Se,Pe){return Se.concat(zr(Pe)===Jy?oF(e,{placement:Pe,boundary:m,rootBoundary:g,padding:f,flipVariations:x,allowedAutoPlacements:R}):Pe)},[]),Q=e.rects.reference,X=e.rects.popper,D=new Map,P=!0,k=z[0],N=0;N<z.length;N++){var L=z[N],U=zr(L),b=il(L)===tl,ve=[En,Zn].indexOf(U)>=0,Fe=ve?"width":"height",Re=Yu(e,{placement:L,boundary:m,rootBoundary:g,altBoundary:w,padding:f}),he=ve?b?er:Tn:b?Zn:En;Q[Fe]>X[Fe]&&(he=hh(he));var re=hh(he),le=[];if(o&&le.push(Re[U]<=0),c&&le.push(Re[he]<=0,Re[re]<=0),le.every(function(Se){return Se})){k=L,P=!1;break}D.set(L,le)}if(P)for(var se=x?3:1,$=function(Pe){var Oe=z.find(function(je){var Le=D.get(je);if(Le)return Le.slice(0,Pe).every(function(Ke){return Ke})});if(Oe)return k=Oe,"break"},J=se;J>0;J--){var fe=$(J);if(fe==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const uF={name:"flip",enabled:!0,phase:"main",fn:lF,requiresIfExists:["offset"],data:{_skip:!1}};function eT(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function tT(n){return[En,er,Zn,Tn].some(function(e){return n[e]>=0})}function cF(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=Yu(e,{elementContext:"reference"}),c=Yu(e,{altBoundary:!0}),d=eT(l,r),f=eT(c,i,o),m=tT(d),g=tT(f);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:m,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":g})}const dF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:cF};function hF(n,e,t){var r=zr(n),i=[Tn,En].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],c=o[1];return l=l||0,c=(c||0)*i,[Tn,er].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function fF(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=tP.reduce(function(m,g){return m[g]=hF(g,e.rects,o),m},{}),c=l[e.placement],d=c.x,f=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=l}const pF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fF};function mF(n){var e=n.state,t=n.name;e.modifiersData[t]=lP({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const gF={name:"popperOffsets",enabled:!0,phase:"read",fn:mF,data:{}};function yF(n){return n==="x"?"y":"x"}function vF(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,d=t.boundary,f=t.rootBoundary,m=t.altBoundary,g=t.padding,w=t.tether,T=w===void 0?!0:w,x=t.tetherOffset,R=x===void 0?0:x,I=Yu(e,{boundary:d,rootBoundary:f,padding:g,altBoundary:m}),V=zr(e.placement),M=il(e.placement),F=!M,z=tv(V),Q=yF(z),X=e.modifiersData.popperOffsets,D=e.rects.reference,P=e.rects.popper,k=typeof R=="function"?R(Object.assign({},e.rects,{placement:e.placement})):R,N=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(X){if(o){var b,ve=z==="y"?En:Tn,Fe=z==="y"?Zn:er,Re=z==="y"?"height":"width",he=X[z],re=he+I[ve],le=he-I[Fe],se=T?-P[Re]/2:0,$=M===tl?D[Re]:P[Re],J=M===tl?-P[Re]:-D[Re],fe=e.elements.arrow,Se=T&&fe?ev(fe):{width:0,height:0},Pe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:iP(),Oe=Pe[ve],je=Pe[Fe],Le=Ou(0,D[Re],Se[Re]),Ke=F?D[Re]/2-se-Le-Oe-N.mainAxis:$-Le-Oe-N.mainAxis,Et=F?-D[Re]/2+se+Le+je+N.mainAxis:J+Le+je+N.mainAxis,xn=e.elements.arrow&&wc(e.elements.arrow),Pi=xn?z==="y"?xn.clientTop||0:xn.clientLeft||0:0,tr=(b=L?.[z])!=null?b:0,Gr=he+Ke-tr-Pi,Ci=he+Et-tr,Ai=Ou(T?Vh(re,Gr):re,he,T?So(le,Ci):le);X[z]=Ai,U[z]=Ai-he}if(c){var Ri,Uo=z==="x"?En:Tn,ki=z==="x"?Zn:er,Mt=X[Q],cn=Q==="y"?"height":"width",bi=Mt+I[Uo],Qr=Mt-I[ki],Tr=[En,Tn].indexOf(V)!==-1,Di=(Ri=L?.[Q])!=null?Ri:0,ct=Tr?bi:Mt-D[cn]-P[cn]-Di+N.altAxis,dt=Tr?Mt+D[cn]+P[cn]-Di-N.altAxis:Qr,Vn=T&&Tr?$M(ct,Mt,dt):Ou(T?ct:bi,Mt,T?dt:Qr);X[Q]=Vn,U[Q]=Vn-Mt}e.modifiersData[r]=U}}const _F={name:"preventOverflow",enabled:!0,phase:"main",fn:vF,requiresIfExists:["offset"]};function wF(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function EF(n){return n===Nn(n)||!Wr(n)?nv(n):wF(n)}function TF(n){var e=n.getBoundingClientRect(),t=nl(e.width)/n.offsetWidth||1,r=nl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function SF(n,e,t){t===void 0&&(t=!1);var r=Wr(e),i=Wr(e)&&TF(e),o=Ns(e),l=rl(n,i,t),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!t)&&((As(e)!=="body"||iv(o))&&(c=EF(e)),Wr(e)?(d=rl(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=rv(o))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function xF(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var d=e.get(c);d&&i(d)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function IF(n){var e=xF(n);return jM.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function PF(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function CF(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var nT={placement:"bottom",modifiers:[],strategy:"absolute"};function rT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function AF(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?nT:i;return function(c,d,f){f===void 0&&(f=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},nT,o),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},g=[],w=!1,T={state:m,setOptions:function(V){var M=typeof V=="function"?V(m.options):V;R(),m.options=Object.assign({},o,m.options,M),m.scrollParents={reference:Do(c)?Nu(c):c.contextElement?Nu(c.contextElement):[],popper:Nu(d)};var F=IF(CF([].concat(r,m.options.modifiers)));return m.orderedModifiers=F.filter(function(z){return z.enabled}),x(),T.update()},forceUpdate:function(){if(!w){var V=m.elements,M=V.reference,F=V.popper;if(rT(M,F)){m.rects={reference:SF(M,wc(F),m.options.strategy==="fixed"),popper:ev(F)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(N){return m.modifiersData[N.name]=Object.assign({},N.data)});for(var z=0;z<m.orderedModifiers.length;z++){if(m.reset===!0){m.reset=!1,z=-1;continue}var Q=m.orderedModifiers[z],X=Q.fn,D=Q.options,P=D===void 0?{}:D,k=Q.name;typeof X=="function"&&(m=X({state:m,options:P,name:k,instance:T})||m)}}}},update:PF(function(){return new Promise(function(I){T.forceUpdate(),I(m)})}),destroy:function(){R(),w=!0}};if(!rT(c,d))return T;T.setOptions(f).then(function(I){!w&&f.onFirstUpdate&&f.onFirstUpdate(I)});function x(){m.orderedModifiers.forEach(function(I){var V=I.name,M=I.options,F=M===void 0?{}:M,z=I.effect;if(typeof z=="function"){var Q=z({state:m,name:V,instance:T,options:F}),X=function(){};g.push(Q||X)}})}function R(){g.forEach(function(I){return I()}),g=[]}return T}}const RF=AF({defaultModifiers:[dF,gF,YM,JM,pF,uF,_F,qM]}),kF=["enabled","placement","strategy","modifiers"];function bF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const DF={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},OF={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${t.id}`:t.id)}}},NF=[];function LF(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:l=NF}=t,c=bF(t,kF);const d=A.useRef(l),f=A.useRef(),m=A.useCallback(()=>{var I;(I=f.current)==null||I.update()},[]),g=A.useCallback(()=>{var I;(I=f.current)==null||I.forceUpdate()},[]),[w,T]=CM(A.useState({placement:i,update:m,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),x=A.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:I})=>{const V={},M={};Object.keys(I.elements).forEach(F=>{V[F]=I.styles[F],M[F]=I.attributes[F]}),T({state:I,styles:V,attributes:M,update:m,forceUpdate:g,placement:I.placement})}}),[m,g,T]),R=A.useMemo(()=>(Du(d.current,l)||(d.current=l),d.current),[l]);return A.useEffect(()=>{!f.current||!r||f.current.setOptions({placement:i,strategy:o,modifiers:[...R,x,DF]})},[o,i,x,r,R]),A.useEffect(()=>{if(!(!r||n==null||e==null))return f.current=RF(n,e,Object.assign({},c,{placement:i,strategy:o,modifiers:[...R,OF,x]})),()=>{f.current!=null&&(f.current.destroy(),f.current=void 0,T(I=>Object.assign({},I,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),w}function iT(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var Pm,sT;function VF(){if(sT)return Pm;sT=1;var n=function(){};return Pm=n,Pm}var MF=VF();const FF=Oo(MF),oT=()=>{};function jF(n){return n.button===0}function UF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Cm=n=>n&&("current"in n?n.current:n),aT={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function BF(n,e=oT,{disabled:t,clickTrigger:r="click"}={}){const i=A.useRef(!1),o=A.useRef(!1),l=A.useCallback(f=>{const m=Cm(n);FF(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!m||UF(f)||!jF(f)||!!iT(m,f.target)||o.current,o.current=!1},[n]),c=vs(f=>{const m=Cm(n);m&&iT(m,f.target)?o.current=!0:o.current=!1}),d=vs(f=>{i.current||e(f)});A.useEffect(()=>{var f,m;if(t||n==null)return;const g=zI(Cm(n)),w=g.defaultView||window;let T=(f=w.event)!=null?f:(m=w.parent)==null?void 0:m.event,x=null;aT[r]&&(x=Ma(g,aT[r],c,!0));const R=Ma(g,r,l,!0),I=Ma(g,r,M=>{if(M===T){T=void 0;return}d(M)});let V=[];return"ontouchstart"in g.documentElement&&(V=[].slice.call(g.body.children).map(M=>Ma(M,"mousemove",oT))),()=>{x?.(),R(),I(),V.forEach(M=>M())}},[n,t,r,l,c,d])}function $F(n){const e={};return Array.isArray(n)?(n?.forEach(t=>{e[t.name]=t}),e):n||e}function zF(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function WF({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:o,containerPadding:l,arrowElement:c,popperConfig:d={}}){var f,m,g,w,T;const x=$F(d.modifiers);return Object.assign({},d,{placement:t,enabled:n,strategy:o?"fixed":d.strategy,modifiers:zF(Object.assign({},x,{eventListeners:{enabled:e,options:(f=x.eventListeners)==null?void 0:f.options},preventOverflow:Object.assign({},x.preventOverflow,{options:l?Object.assign({padding:l},(m=x.preventOverflow)==null?void 0:m.options):(g=x.preventOverflow)==null?void 0:g.options}),offset:{options:Object.assign({offset:i},(w=x.offset)==null?void 0:w.options)},arrow:Object.assign({},x.arrow,{enabled:!!c,options:Object.assign({},(T=x.arrow)==null?void 0:T.options,{element:c})}),flip:Object.assign({enabled:!!r},x.flip)}))})}const HF=["children","usePopper"];function qF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const KF=()=>{};function uP(n={}){const e=A.useContext(Tf),[t,r]=aM(),i=A.useRef(!1),{flip:o,offset:l,rootCloseEvent:c,fixed:d=!1,placement:f,popperConfig:m={},enableEventListeners:g=!0,usePopper:w=!!e}=n,T=e?.show==null?!!n.show:e.show;T&&!i.current&&(i.current=!0);const x=X=>{e?.toggle(!1,X)},{placement:R,setMenu:I,menuElement:V,toggleElement:M}=e||{},F=LF(M,V,WF({placement:f||R||"bottom-start",enabled:w,enableEvents:g??T,offset:l,flip:o,fixed:d,arrowElement:t,popperConfig:m})),z=Object.assign({ref:I||KF,"aria-labelledby":M?.id},F.attributes.popper,{style:F.styles.popper}),Q={show:T,placement:R,hasShown:i.current,toggle:e?.toggle,popper:w?F:null,arrowProps:w?Object.assign({ref:r},F.attributes.arrow,{style:F.styles.arrow}):{}};return BF(V,x,{clickTrigger:c,disabled:!T}),[z,Q]}function cP(n){let{children:e,usePopper:t=!0}=n,r=qF(n,HF);const[i,o]=uP(Object.assign({},r,{usePopper:t}));return K.jsx(K.Fragment,{children:e(i,o)})}cP.displayName="DropdownMenu";const dP={prefix:String(Math.round(Math.random()*1e10)),current:0},hP=pt.createContext(dP),GF=pt.createContext(!1);let Am=new WeakMap;function QF(n=!1){let e=A.useContext(hP),t=A.useRef(null);if(t.current===null&&!n){var r,i;let o=(i=pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let l=Am.get(o);l==null?Am.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==l.state&&(e.current=l.id,Am.delete(o))}t.current=++e.current}return t.current}function YF(n){let e=A.useContext(hP),t=QF(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function XF(n){let e=pt.useId(),[t]=A.useState(n4()),r=t?"react-aria":`react-aria${dP.prefix}`;return n||`${r}-${e}`}const JF=typeof pt.useId=="function"?XF:YF;function ZF(){return!1}function e4(){return!0}function t4(n){return()=>{}}function n4(){return typeof pt.useSyncExternalStore=="function"?pt.useSyncExternalStore(t4,ZF,e4):A.useContext(GF)}const fP=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},lT=()=>{};function pP(){const n=JF(),{show:e=!1,toggle:t=lT,setToggle:r,menuElement:i}=A.useContext(Tf)||{},o=A.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||lT,onClick:o,"aria-expanded":!!e};return i&&fP(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function mP({children:n}){const[e,t]=pP();return K.jsx(K.Fragment,{children:n(e,t)})}mP.displayName="DropdownToggle";const kg=A.createContext(null),uT=(n,e=null)=>n!=null?String(n):e||null,gP=A.createContext(null);gP.displayName="NavContext";const r4="data-rr-ui-",i4="rrUi";function yP(n){return`${r4}${n}`}function Iz(n){return`${i4}${n}`}const s4=["eventKey","disabled","onClick","active","as"];function o4(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function vP({key:n,href:e,active:t,disabled:r,onClick:i}){const o=A.useContext(kg),l=A.useContext(gP),{activeKey:c}=l||{},d=uT(n,e),f=t==null&&n!=null?uT(c)===d:t;return[{onClick:vs(g=>{r||(i?.(g),o&&!g.isPropagationStopped()&&o(d,g))}),"aria-disabled":r||void 0,"aria-selected":f,[yP("dropdown-item")]:""},{isActive:f}]}const _P=A.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:o,as:l=YI}=n,c=o4(n,s4);const[d]=vP({key:t,href:c.href,disabled:r,onClick:i,active:o});return K.jsx(l,Object.assign({},c,{ref:e},d))});_P.displayName="DropdownItem";const wP=A.createContext(qI?window:void 0);wP.Provider;function a4(){return A.useContext(wP)}function cT(){const n=PM(),e=A.useRef(null),t=A.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Ec({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${yP("dropdown-item")}]`,focusFirstItemOnShow:o,placement:l="bottom-start",children:c}){const d=a4(),[f,m]=IM(e,n,r),[g,w]=cT(),T=g.current,[x,R]=cT(),I=x.current,V=dM(f),M=A.useRef(null),F=A.useRef(!1),z=A.useContext(kg),Q=A.useCallback((L,U,b=U?.type)=>{m(L,{originalEvent:U,source:b})},[m]),X=vs((L,U)=>{t?.(L,U),Q(!1,U,"select"),U.isPropagationStopped()||z?.(L,U)}),D=A.useMemo(()=>({toggle:Q,placement:l,show:f,menuElement:T,toggleElement:I,setMenu:w,setToggle:R}),[Q,l,f,T,I,w,R]);T&&V&&!f&&(F.current=T.contains(T.ownerDocument.activeElement));const P=vs(()=>{I&&I.focus&&I.focus()}),k=vs(()=>{const L=M.current;let U=o;if(U==null&&(U=g.current&&fP(g.current)?"keyboard":!1),U===!1||U==="keyboard"&&!/^key.+$/.test(L))return;const b=qE(g.current,i)[0];b&&b.focus&&b.focus()});A.useEffect(()=>{f?k():F.current&&(F.current=!1,P())},[f,F,P,k]),A.useEffect(()=>{M.current=null});const N=(L,U)=>{if(!g.current)return null;const b=qE(g.current,i);let ve=b.indexOf(L)+U;return ve=Math.max(0,Math.min(ve,b.length)),b[ve]};return uM(A.useCallback(()=>d.document,[d]),"keydown",L=>{var U,b;const{key:ve}=L,Fe=L.target,Re=(U=g.current)==null?void 0:U.contains(Fe),he=(b=x.current)==null?void 0:b.contains(Fe);if(/input|textarea/i.test(Fe.tagName)&&(ve===" "||ve!=="Escape"&&Re||ve==="Escape"&&Fe.type==="search")||!Re&&!he||ve==="Tab"&&(!g.current||!f))return;M.current=L.type;const le={originalEvent:L,source:L.type};switch(ve){case"ArrowUp":{const se=N(Fe,-1);se&&se.focus&&se.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!f)m(!0,le);else{const se=N(Fe,1);se&&se.focus&&se.focus()}return;case"Tab":KI(Fe.ownerDocument,"keyup",se=>{var $;(se.key==="Tab"&&!se.target||!(($=g.current)!=null&&$.contains(se.target)))&&m(!1,le)},{once:!0});break;case"Escape":ve==="Escape"&&(L.preventDefault(),L.stopPropagation()),m(!1,le);break}}),K.jsx(kg.Provider,{value:X,children:K.jsx(Tf.Provider,{value:D,children:c})})}Ec.displayName="Dropdown";Ec.Menu=cP;Ec.Toggle=mP;Ec.Item=_P;const sv=A.createContext({});sv.displayName="DropdownContext";const EP=A.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},o)=>(e=Sn(e,"dropdown-divider"),K.jsx(t,{ref:o,className:nn(n,e),role:r,...i})));EP.displayName="DropdownDivider";const TP=A.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},o)=>(e=Sn(e,"dropdown-header"),K.jsx(t,{ref:o,className:nn(n,e),role:r,...i})));TP.displayName="DropdownHeader";const SP=A.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:o,as:l=XI,...c},d)=>{const f=Sn(n,"dropdown-item"),[m,g]=vP({key:t,href:c.href,disabled:r,onClick:i,active:o});return K.jsx(l,{...c,...m,ref:d,className:nn(e,f,g.isActive&&"active",r&&"disabled")})});SP.displayName="DropdownItem";const xP=A.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Sn(e,"dropdown-item-text"),K.jsx(t,{ref:i,className:nn(n,e),...r})));xP.displayName="DropdownItemText";const l4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",u4=typeof document<"u",c4=u4||l4?A.useLayoutEffect:A.useEffect,ov=A.createContext(null);ov.displayName="InputGroupContext";const IP=A.createContext(null);IP.displayName="NavbarContext";function PP(n,e){return n}function CP(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",o=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",d=t?"right-end":"left-end",f=t?"left-start":"right-start",m=t?"left-end":"right-end";let g=n?l:o;return e==="up"?g=n?i:r:e==="end"?g=n?m:f:e==="start"?g=n?d:c:e==="down-centered"?g="bottom":e==="up-centered"&&(g="top"),g}const AP=A.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:l,as:c="div",popperConfig:d,variant:f,...m},g)=>{let w=!1;const T=A.useContext(IP),x=Sn(n,"dropdown-menu"),{align:R,drop:I,isRTL:V}=A.useContext(sv);t=t||R;const M=A.useContext(ov),F=[];if(t)if(typeof t=="object"){const L=Object.keys(t);if(L.length){const U=L[0],b=t[U];w=b==="start",F.push(`${x}-${U}-${b}`)}}else t==="end"&&(w=!0);const z=CP(w,I,V),[Q,{hasShown:X,popper:D,show:P,toggle:k}]=uP({flip:i,rootCloseEvent:r,show:o,usePopper:!T&&F.length===0,offset:[0,2],popperConfig:d,placement:z});if(Q.ref=Gy(PP(g),Q.ref),c4(()=>{P&&D?.update()},[P]),!X&&!l&&!M)return null;typeof c!="string"&&(Q.show=P,Q.close=()=>k?.(!1),Q.align=t);let N=m.style;return D!=null&&D.placement&&(N={...m.style,...Q.style},m["x-placement"]=D.placement),K.jsx(c,{...m,...Q,style:N,...(F.length||T)&&{"data-bs-popper":"static"},className:nn(e,x,P&&"show",w&&`${x}-end`,f&&`${x}-${f}`,...F)})});AP.displayName="DropdownMenu";const RP=A.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=ss,...o},l)=>{const c=Sn(n,"dropdown-toggle"),d=A.useContext(Tf);r!==void 0&&(o.bsPrefix=r);const[f]=pP();return f.ref=Gy(f.ref,PP(l)),K.jsx(i,{className:nn(t,c,e&&`${c}-split`,d?.show&&"show"),...f,...o})});RP.displayName="DropdownToggle";const kP=A.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:o,align:l="start",onSelect:c,onToggle:d,focusFirstItemOnShow:f,as:m="div",navbar:g,autoClose:w=!0,...T}=LV(n,{show:"onToggle"}),x=A.useContext(ov),R=Sn(t,"dropdown"),I=jV(),V=D=>w===!1?D==="click":w==="inside"?D!=="rootClose":w==="outside"?D!=="select":!0,M=QI((D,P)=>{var k;!((k=P.originalEvent)==null||(k=k.target)==null)&&k.classList.contains("dropdown-toggle")&&P.source==="mousedown"||(P.originalEvent.currentTarget===document&&(P.source!=="keydown"||P.originalEvent.key==="Escape")&&(P.source="rootClose"),V(P.source)&&d?.(D,P))}),z=CP(l==="end",r,I),Q=A.useMemo(()=>({align:l,drop:r,isRTL:I}),[l,r,I]),X={down:R,"down-centered":`${R}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return K.jsx(sv.Provider,{value:Q,children:K.jsx(Ec,{placement:z,show:i,onSelect:c,onToggle:M,focusFirstItemOnShow:f,itemSelector:`.${R}-item:not(.disabled):not(:disabled)`,children:x?T.children:K.jsx(m,{...T,ref:e,className:nn(o,i&&"show",X[r])})})})});kP.displayName="Dropdown";const Nr=Object.assign(kP,{Toggle:RP,Menu:AP,Item:SP,ItemText:xP,Divider:EP,Header:TP}),bP=A.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:i="div",className:o,...l},c)=>{n=Sn(n,"spinner");const d=`${n}-${t}`;return K.jsx(i,{ref:c,...l,className:nn(o,d,r&&`${d}-${r}`,e&&`text-${e}`)})});bP.displayName="Spinner";const d4={[ci]:"showing",[Lh]:"showing show"},DP=A.forwardRef((n,e)=>K.jsx(JI,{...n,ref:e,transitionClasses:d4}));DP.displayName="ToastFade";const OP=A.createContext({onClose(){}}),NP=A.forwardRef(({bsPrefix:n,closeLabel:e="Close",closeVariant:t,closeButton:r=!0,className:i,children:o,...l},c)=>{n=Sn(n,"toast-header");const d=A.useContext(OP),f=QI(m=>{d==null||d.onClose==null||d.onClose(m)});return K.jsxs("div",{ref:c,...l,className:nn(n,i),children:[o,r&&K.jsx(Yy,{"aria-label":e,variant:t,onClick:f,"data-dismiss":"toast"})]})});NP.displayName="ToastHeader";const LP=A.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Sn(e,"toast-body"),K.jsx(t,{ref:i,className:nn(n,e),...r})));LP.displayName="ToastBody";const VP=A.forwardRef(({bsPrefix:n,className:e,transition:t=DP,show:r=!0,animation:i=!0,delay:o=5e3,autohide:l=!1,onClose:c,onEntered:d,onExit:f,onExiting:m,onEnter:g,onEntering:w,onExited:T,bg:x,...R},I)=>{n=Sn(n,"toast");const V=A.useRef(o),M=A.useRef(c);A.useEffect(()=>{V.current=o,M.current=c},[o,c]);const F=SM(),z=!!(l&&r),Q=A.useCallback(()=>{z&&(M.current==null||M.current())},[z]);A.useEffect(()=>{F.set(Q,V.current)},[F,Q]);const X=A.useMemo(()=>({onClose:c}),[c]),D=!!(t&&i),P=K.jsx("div",{...R,ref:I,className:nn(n,e,x&&`bg-${x}`,!D&&(r?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return K.jsx(OP.Provider,{value:X,children:D&&t?K.jsx(t,{in:r,onEnter:g,onEntering:w,onEntered:d,onExit:f,onExiting:m,onExited:T,unmountOnExit:!0,children:P}):P})});VP.displayName="Toast";const Rm=Object.assign(VP,{Body:LP,Header:NP}),h4={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},MP=A.forwardRef(({bsPrefix:n,position:e,containerPosition:t,className:r,as:i="div",...o},l)=>(n=Sn(n,"toast-container"),K.jsx(i,{ref:l,...o,className:nn(n,e&&h4[e],t&&`position-${t}`,r)})));MP.displayName="ToastContainer";const f4=(n,e,t,r)=>{const i=[t,{code:e,...r||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);xo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...i):console?.warn&&console.warn(...i)},dT={},bg=(n,e,t,r)=>{xo(t)&&dT[t]||(xo(t)&&(dT[t]=new Date),f4(n,e,t,r))},FP=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Dg=(n,e,t)=>{n.loadNamespaces(e,FP(n,t))},hT=(n,e,t,r)=>{if(xo(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Dg(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,FP(n,r))},p4=(n,e,t={})=>!e.languages||!e.languages.length?(bg(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{if(t.bindI18n?.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),xo=n=>typeof n=="string",m4=n=>typeof n=="object"&&n!==null,g4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,y4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},v4=n=>y4[n],_4=n=>n.replace(g4,v4);let Og={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_4};const w4=(n={})=>{Og={...Og,...n}},E4=()=>Og;let jP;const T4=n=>{jP=n},S4=()=>jP,x4={type:"3rdParty",init(n){w4(n.options.react),T4(n)}},I4=A.createContext();class P4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const C4=(n,e)=>{const t=A.useRef();return A.useEffect(()=>{t.current=n},[n,e]),t.current},UP=(n,e,t,r)=>n.getFixedT(e,t,r),A4=(n,e,t,r)=>A.useCallback(UP(n,e,t,r),[n,e,t,r]),Tc=(n,e={})=>{const{i18n:t}=e,{i18n:r,defaultNS:i}=A.useContext(I4)||{},o=t||r||S4();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new P4),!o){bg(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const z=(X,D)=>xo(D)?D:m4(D)&&xo(D.defaultValue)?D.defaultValue:Array.isArray(X)?X[X.length-1]:X,Q=[z,{},!1];return Q.t=z,Q.i18n={},Q.ready=!1,Q}o.options.react?.wait&&bg(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...E4(),...o.options.react,...e},{useSuspense:c,keyPrefix:d}=l;let f=i||o.options?.defaultNS;f=xo(f)?[f]:f||["translation"],o.reportNamespaces.addUsedNamespaces?.(f);const m=(o.isInitialized||o.initializedStoreOnce)&&f.every(z=>p4(z,o,l)),g=A4(o,e.lng||null,l.nsMode==="fallback"?f:f[0],d),w=()=>g,T=()=>UP(o,e.lng||null,l.nsMode==="fallback"?f:f[0],d),[x,R]=A.useState(w);let I=f.join();e.lng&&(I=`${e.lng}${I}`);const V=C4(I),M=A.useRef(!0);A.useEffect(()=>{const{bindI18n:z,bindI18nStore:Q}=l;M.current=!0,!m&&!c&&(e.lng?hT(o,e.lng,f,()=>{M.current&&R(T)}):Dg(o,f,()=>{M.current&&R(T)})),m&&V&&V!==I&&M.current&&R(T);const X=()=>{M.current&&R(T)};return z&&o?.on(z,X),Q&&o?.store.on(Q,X),()=>{M.current=!1,o&&z?.split(" ").forEach(D=>o.off(D,X)),Q&&o&&Q.split(" ").forEach(D=>o.store.off(D,X))}},[o,I]),A.useEffect(()=>{M.current&&m&&R(w)},[o,d,m]);const F=[x,o,m];if(F.t=x,F.i18n=o,F.ready=m,m||!m&&!c)return F;throw new Promise(z=>{e.lng?hT(o,e.lng,f,()=>z()):Dg(o,f,()=>z())})},BP=A.createContext(),$P=()=>A.useContext(BP),zP=({children:n})=>{zP.propTypes={children:be.node.isRequired};const[e,t]=A.useState([]),{t:r}=Tc(),i=A.useCallback((g,w="info",T=4e3)=>{const x=Date.now()+Math.random(),R={id:x,message:g,type:w,duration:T};t(I=>[...I,R]),setTimeout(()=>{t(I=>I.filter(V=>V.id!==x))},T)},[]),o=A.useCallback(g=>{t(w=>w.filter(T=>T.id!==g))},[]),l=A.useCallback(g=>i(g,"success"),[i]),c=A.useCallback(g=>i(g,"danger"),[i]),d=A.useCallback(g=>i(g,"warning"),[i]),f=A.useCallback(g=>i(g,"info"),[i]),m=g=>{switch(g){case"success":return"✅";case"danger":return"❌";case"warning":return"⚠️";case"info":return"ℹ️";default:return"ℹ️"}};return K.jsxs(BP.Provider,{value:{success:l,error:c,warning:d,info:f,addToast:i},children:[n,K.jsx(MP,{position:"top-end",className:"p-3",style:{zIndex:9999,top:"80px"},children:e.map(g=>K.jsxs(Rm,{onClose:()=>o(g.id),show:!0,delay:g.duration,autohide:!0,style:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(15px)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"12px",boxShadow:"0 8px 25px rgba(0, 0, 0, 0.15)"},children:[K.jsxs(Rm.Header,{style:{backgroundColor:"transparent",border:"none",paddingBottom:"8px"},children:[K.jsx("span",{className:"me-2",children:m(g.type)}),K.jsxs("strong",{className:"me-auto",children:[g.type==="success"&&r("notifications.success"),g.type==="danger"&&r("notifications.error"),g.type==="warning"&&r("notifications.warning"),g.type==="info"&&r("notifications.info")]})]}),K.jsx(Rm.Body,{style:{paddingTop:0},children:g.message})]},g.id))})]})},WP=A.createContext(),R4=()=>A.useContext(WP),km="soldi-sotto-demo-transactions",hu=10,HP=({children:n})=>{HP.propTypes={children:be.node.isRequired};const[e,t]=A.useState([]),[r,i]=A.useState(!0),o=$P(),{t:l}=Tc(),c=A.useCallback(()=>{try{const I=localStorage.getItem(km);if(I){const M=JSON.parse(I).map(F=>({...F,date:new Date(F.date),amount:parseFloat(F.amount)||0}));M.sort((F,z)=>z.date-F.date),t(M)}}catch(I){console.error("Errore nel caricamento delle transazioni demo:",I),t([])}finally{i(!1)}},[]),d=A.useCallback(I=>{try{localStorage.setItem(km,JSON.stringify(I))}catch(V){console.error("Errore nel salvataggio delle transazioni demo:",V)}},[]),f=A.useCallback(async I=>{if(e.length>=hu)return o.warning(l("demo.limitReached",{limit:hu})),!1;const M=[{...I,id:Date.now().toString()+Math.random().toString(36).substr(2,9),createdAt:new Date},...e];return t(M),d(M),o.success(l("demo.transactionAdded")),!0},[e,d,o,l]),m=A.useCallback(async(I,V)=>{const M=e.map(F=>F.id===I?{...F,...V}:F);return t(M),d(M),o.success(l("demo.transactionUpdated")),!0},[e,d,o,l]),g=A.useCallback(async I=>{const V=e.filter(M=>M.id!==I);return t(V),d(V),o.success(l("demo.transactionDeleted")),!0},[e,d,o,l]),w=A.useCallback(()=>{t([]),localStorage.removeItem(km),o.success(l("demo.allTransactionsCleared"))},[o,l]),T=e.length<hu,x=A.useCallback(()=>{const I=e.filter(M=>M.type==="income").reduce((M,F)=>M+F.amount,0),V=e.filter(M=>M.type==="expense").reduce((M,F)=>M+F.amount,0);return{totalIncome:I,totalExpense:V,balance:I-V,transactionCount:e.length,maxTransactions:hu,canAddMore:T}},[e,T]);A.useEffect(()=>{c()},[c]);const R=A.useCallback(()=>{const I=[{id:"demo-1",type:"income",amount:2500,description:l("demo.sampleSalary"),date:new Date(Date.now()-432e6),category:"stipendio",createdAt:new Date},{id:"demo-2",type:"expense",amount:50,description:l("demo.sampleGroceries"),date:new Date(Date.now()-1728e5),category:"supermercato",createdAt:new Date},{id:"demo-3",type:"expense",amount:25,description:l("demo.sampleFuel"),date:new Date(Date.now()-864e5),category:"trasporti",createdAt:new Date}];t(I),d(I),o.info(l("demo.sampleTransactionsAdded"))},[d,o,l]);return K.jsx(WP.Provider,{value:{transactions:e,loading:r,addTransaction:f,updateTransaction:m,deleteTransaction:g,clearTransactions:w,generateSampleTransactions:R,canAddMoreTransactions:T,maxTransactions:hu,getDemoStats:x,isDemo:!0},children:n})},xf=A.createContext(),av=()=>A.useContext(xf),qP=({children:n})=>{qP.propTypes={children:be.node.isRequired};const{currentUser:e}=Fo(),{transactions:t,loading:r}=RV(),[i,o]=A.useState(!1),l=$P(),{t:c}=Tc(),d=A.useCallback(async w=>{if(!e)return!1;o(!0);try{return await PV(II(dh,"transactions"),{userId:e.uid,...w}),l.success(c("notifications.addSuccess")),!0}catch(T){return console.error("Errore nell'aggiunta della transazione:",T),l.error(c("notifications.addError")),!1}finally{o(!1)}},[e,c]),f=A.useCallback(async(w,T)=>{if(!e)return!1;o(!0);try{const x=Eg(dh,"transactions",w);return await xV(x,T),l.success(c("notifications.updateSuccess")),!0}catch(x){return console.error("Errore nell'aggiornamento della transazione:",x),l.error(c("notifications.updateError")),!1}finally{o(!1)}},[e,c]),m=A.useCallback(async w=>{if(!e)return!1;o(!0);try{const T=Eg(dh,"transactions",w);return await IV(T),l.success(c("notifications.deleteSuccess")),!0}catch(T){return console.error("Errore nell'eliminazione della transazione:",T),l.error(c("notifications.deleteError")),!1}finally{o(!1)}},[e,c]),g=A.useCallback(()=>{const w=t.filter(x=>x.type==="income").reduce((x,R)=>x+R.amount,0),T=t.filter(x=>x.type==="expense").reduce((x,R)=>x+R.amount,0);return{totalIncome:w,totalExpense:T,balance:w-T,transactionCount:t.length,canAddMore:!0}},[t]);return K.jsx(xf.Provider,{value:{transactions:t,loading:r||i,addTransaction:d,updateTransaction:f,deleteTransaction:m,canAddMoreTransactions:!0,maxTransactions:1/0,getStats:g,isDemo:!1,isAuthenticated:!0},children:n})},KP=({children:n})=>{KP.propTypes={children:be.node.isRequired};const{transactions:e,loading:t,addTransaction:r,updateTransaction:i,deleteTransaction:o,canAddMoreTransactions:l,maxTransactions:c,getDemoStats:d,generateSampleTransactions:f,clearTransactions:m}=R4();return K.jsx(xf.Provider,{value:{transactions:e,loading:t,addTransaction:r,updateTransaction:i,deleteTransaction:o,generateSampleTransactions:f,clearTransactions:m,canAddMoreTransactions:l,maxTransactions:c,getStats:d,isDemo:!0,isAuthenticated:!1},children:n})},lv=({children:n})=>{lv.propTypes={children:be.node.isRequired};const{currentUser:e,loading:t}=Fo(),[r,i]=A.useState(!1);return A.useEffect(()=>{t||i(!0)},[t]),r?e?K.jsx(BI,{children:K.jsx(qP,{children:n})}):K.jsx(HP,{children:K.jsx(KP,{children:n})}):K.jsx(xf.Provider,{value:{transactions:[],loading:!0,addTransaction:()=>Promise.resolve(!1),updateTransaction:()=>Promise.resolve(!1),deleteTransaction:()=>Promise.resolve(!1),canAddMoreTransactions:!1,maxTransactions:0,getStats:()=>({}),isDemo:!1,isAuthenticated:!1},children:n})},k4="modulepreload",b4=function(n){return"/soldi-sotto/"+n},fT={},Ii=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let d=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=d(t.map(f=>{if(f=b4(f),f in fT)return;fT[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":k4,m||(w.as="script"),w.crossOrigin="",w.href=f,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((T,x)=>{w.addEventListener("load",T),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xu.apply(this,arguments)}var ds;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ds||(ds={}));const pT="popstate";function D4(n){n===void 0&&(n={});function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return Ng("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Mh(i)}return N4(e,t,null,n)}function wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function GP(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O4(){return Math.random().toString(36).substr(2,8)}function mT(n,e){return{usr:n.state,key:n.key,idx:e}}function Ng(n,e,t,r){return t===void 0&&(t=null),Xu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?gl(e):e,{state:t,key:e&&e.key||r||O4()})}function Mh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function N4(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c=ds.Pop,d=null,f=m();f==null&&(f=0,l.replaceState(Xu({},l.state,{idx:f}),""));function m(){return(l.state||{idx:null}).idx}function g(){c=ds.Pop;let I=m(),V=I==null?null:I-f;f=I,d&&d({action:c,location:R.location,delta:V})}function w(I,V){c=ds.Push;let M=Ng(R.location,I,V);f=m()+1;let F=mT(M,f),z=R.createHref(M);try{l.pushState(F,"",z)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(z)}o&&d&&d({action:c,location:R.location,delta:1})}function T(I,V){c=ds.Replace;let M=Ng(R.location,I,V);f=m();let F=mT(M,f),z=R.createHref(M);l.replaceState(F,"",z),o&&d&&d({action:c,location:R.location,delta:0})}function x(I){let V=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof I=="string"?I:Mh(I);return M=M.replace(/ $/,"%20"),wt(V,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,V)}let R={get action(){return c},get location(){return n(i,l)},listen(I){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(pT,g),d=I,()=>{i.removeEventListener(pT,g),d=null}},createHref(I){return e(i,I)},createURL:x,encodeLocation(I){let V=x(I);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:w,replace:T,go(I){return l.go(I)}};return R}var gT;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(gT||(gT={}));function L4(n,e,t){return t===void 0&&(t="/"),V4(n,e,t)}function V4(n,e,t,r){let i=typeof e=="string"?gl(e):e,o=uv(i.pathname||"/",t);if(o==null)return null;let l=QP(n);M4(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=Q4(o);c=q4(l[d],f)}return c}function QP(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(wt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=_s([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),QP(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:W4(f,o.index),routesMeta:m})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of YP(o.path))i(o,l,d)}),e}function YP(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=YP(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function M4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:H4(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const F4=/^:[\w-]+$/,j4=3,U4=2,B4=1,$4=10,z4=-2,yT=n=>n==="*";function W4(n,e){let t=n.split("/"),r=t.length;return t.some(yT)&&(r+=z4),e&&(r+=U4),t.filter(i=>!yT(i)).reduce((i,o)=>i+(F4.test(o)?j4:o===""?B4:$4),r)}function H4(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function q4(n,e,t){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=K4({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),w=d.route;if(!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:_s([o,g.pathname]),pathnameBase:Z4(_s([o,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(o=_s([o,g.pathnameBase]))}return l}function K4(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=G4(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,m,g)=>{let{paramName:w,isOptional:T}=m;if(w==="*"){let R=c[g]||"";l=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const x=c[g];return T&&!x?f[w]=void 0:f[w]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function G4(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),GP(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Q4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return GP(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function uv(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Y4(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?gl(n):n;return{pathname:t?t.startsWith("/")?t:X4(t,e):e,search:e5(r),hash:t5(i)}}function X4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function bm(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cv(n,e){let t=J4(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function dv(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=gl(n):(i=Xu({},n),wt(!i.pathname||!i.pathname.includes("?"),bm("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),bm("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),bm("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),g-=1;i.pathname=w.join("/")}c=g>=0?e[g]:"/"}let d=Y4(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}const _s=n=>n.join("/").replace(/\/\/+/g,"/"),Z4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),e5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,t5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function n5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const XP=["post","put","patch","delete"];new Set(XP);const r5=["get",...XP];new Set(r5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ju.apply(this,arguments)}const hv=A.createContext(null),i5=A.createContext(null),Ls=A.createContext(null),If=A.createContext(null),Vs=A.createContext({outlet:null,matches:[],isDataRoute:!1}),JP=A.createContext(null);function s5(n,e){let{relative:t}=e===void 0?{}:e;yl()||wt(!1);let{basename:r,navigator:i}=A.useContext(Ls),{hash:o,pathname:l,search:c}=eC(n,{relative:t}),d=l;return r!=="/"&&(d=l==="/"?r:_s([r,l])),i.createHref({pathname:d,search:c,hash:o})}function yl(){return A.useContext(If)!=null}function Ms(){return yl()||wt(!1),A.useContext(If).location}function ZP(n){A.useContext(Ls).static||A.useLayoutEffect(n)}function Pf(){let{isDataRoute:n}=A.useContext(Vs);return n?v5():o5()}function o5(){yl()||wt(!1);let n=A.useContext(hv),{basename:e,future:t,navigator:r}=A.useContext(Ls),{matches:i}=A.useContext(Vs),{pathname:o}=Ms(),l=JSON.stringify(cv(i,t.v7_relativeSplatPath)),c=A.useRef(!1);return ZP(()=>{c.current=!0}),A.useCallback(function(f,m){if(m===void 0&&(m={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let g=dv(f,JSON.parse(l),o,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:_s([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,l,o,n])}function eC(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=A.useContext(Ls),{matches:i}=A.useContext(Vs),{pathname:o}=Ms(),l=JSON.stringify(cv(i,r.v7_relativeSplatPath));return A.useMemo(()=>dv(n,JSON.parse(l),o,t==="path"),[n,l,o,t])}function a5(n,e){return l5(n,e)}function l5(n,e,t,r){yl()||wt(!1);let{navigator:i}=A.useContext(Ls),{matches:o}=A.useContext(Vs),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Ms(),m;if(e){var g;let I=typeof e=="string"?gl(e):e;d==="/"||(g=I.pathname)!=null&&g.startsWith(d)||wt(!1),m=I}else m=f;let w=m.pathname||"/",T=w;if(d!=="/"){let I=d.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let x=L4(n,{pathname:T}),R=f5(x&&x.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:_s([d,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?d:_s([d,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,t,r);return e&&R?A.createElement(If.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ds.Pop}},R):R}function u5(){let n=y5(),e=n5(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:i},t):null,null)}const c5=A.createElement(u5,null);class d5 extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?A.createElement(Vs.Provider,{value:this.props.routeContext},A.createElement(JP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h5(n){let{routeContext:e,match:t,children:r}=n,i=A.useContext(hv);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Vs.Provider,{value:e},r)}function f5(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(i=t)==null?void 0:i.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);m>=0||wt(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,f=-1;if(t&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:w,errors:T}=t,x=g.route.loader&&w[g.route.id]===void 0&&(!T||T[g.route.id]===void 0);if(g.route.lazy||x){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,g,w)=>{let T,x=!1,R=null,I=null;t&&(T=c&&g.route.id?c[g.route.id]:void 0,R=g.route.errorElement||c5,d&&(f<0&&w===0?(_5("route-fallback"),x=!0,I=null):f===w&&(x=!0,I=g.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,w+1)),M=()=>{let F;return T?F=R:x?F=I:g.route.Component?F=A.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=m,A.createElement(h5,{match:g,routeContext:{outlet:m,matches:V,isDataRoute:t!=null},children:F})};return t&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?A.createElement(d5,{location:t.location,revalidation:t.revalidation,component:R,error:T,children:M(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):M()},null)}var tC=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(tC||{}),nC=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(nC||{});function p5(n){let e=A.useContext(hv);return e||wt(!1),e}function m5(n){let e=A.useContext(i5);return e||wt(!1),e}function g5(n){let e=A.useContext(Vs);return e||wt(!1),e}function rC(n){let e=g5(),t=e.matches[e.matches.length-1];return t.route.id||wt(!1),t.route.id}function y5(){var n;let e=A.useContext(JP),t=m5(),r=rC();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function v5(){let{router:n}=p5(tC.UseNavigateStable),e=rC(nC.UseNavigateStable),t=A.useRef(!1);return ZP(()=>{t.current=!0}),A.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Ju({fromRouteId:e},o)))},[n,e])}const vT={};function _5(n,e,t){vT[n]||(vT[n]=!0)}function w5(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function iC(n){let{to:e,replace:t,state:r,relative:i}=n;yl()||wt(!1);let{future:o,static:l}=A.useContext(Ls),{matches:c}=A.useContext(Vs),{pathname:d}=Ms(),f=Pf(),m=dv(e,cv(c,o.v7_relativeSplatPath),d,i==="path"),g=JSON.stringify(m);return A.useEffect(()=>f(JSON.parse(g),{replace:t,state:r,relative:i}),[f,g,i,t,r]),null}function yr(n){wt(!1)}function E5(n){let{basename:e="/",children:t=null,location:r,navigationType:i=ds.Pop,navigator:o,static:l=!1,future:c}=n;yl()&&wt(!1);let d=e.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:d,navigator:o,static:l,future:Ju({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);typeof r=="string"&&(r=gl(r));let{pathname:m="/",search:g="",hash:w="",state:T=null,key:x="default"}=r,R=A.useMemo(()=>{let I=uv(m,d);return I==null?null:{location:{pathname:I,search:g,hash:w,state:T,key:x},navigationType:i}},[d,m,g,w,T,x,i]);return R==null?null:A.createElement(Ls.Provider,{value:f},A.createElement(If.Provider,{children:t,value:R}))}function T5(n){let{children:e,location:t}=n;return a5(Lg(e),t)}new Promise(()=>{});function Lg(n,e){e===void 0&&(e=[]);let t=[];return A.Children.forEach(n,(r,i)=>{if(!A.isValidElement(r))return;let o=[...e,i];if(r.type===A.Fragment){t.push.apply(t,Lg(r.props.children,o));return}r.type!==yr&&wt(!1),!r.props.index||!r.props.children||wt(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Lg(r.props.children,o)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vg(){return Vg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Vg.apply(this,arguments)}function S5(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function x5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function I5(n,e){return n.button===0&&(!e||e==="_self")&&!x5(n)}const P5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C5="6";try{window.__reactRouterVersion=C5}catch{}const A5="startTransition",_T=ck[A5];function sC(n){let{basename:e,children:t,future:r,window:i}=n,o=A.useRef();o.current==null&&(o.current=D4({window:i,v5Compat:!0}));let l=o.current,[c,d]=A.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},m=A.useCallback(g=>{f&&_T?_T(()=>d(g)):d(g)},[d,f]);return A.useLayoutEffect(()=>l.listen(m),[l,m]),A.useEffect(()=>w5(r),[r]),A.createElement(E5,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:r})}const R5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fo=A.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:g}=e,w=S5(e,P5),{basename:T}=A.useContext(Ls),x,R=!1;if(typeof f=="string"&&k5.test(f)&&(x=f,R5))try{let F=new URL(window.location.href),z=f.startsWith("//")?new URL(F.protocol+f):new URL(f),Q=uv(z.pathname,T);z.origin===F.origin&&Q!=null?f=Q+z.search+z.hash:R=!0}catch{}let I=s5(f,{relative:i}),V=b5(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:g});function M(F){r&&r(F),F.defaultPrevented||V(F)}return A.createElement("a",Vg({},w,{href:x||I,onClick:R||o?r:M,ref:t,target:d}))});var wT;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(wT||(wT={}));var ET;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ET||(ET={}));function b5(n,e){let{target:t,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:c}=e===void 0?{}:e,d=Pf(),f=Ms(),m=eC(n,{relative:l});return A.useCallback(g=>{if(I5(g,t)){g.preventDefault();let w=r!==void 0?r:Mh(f)===Mh(m);d(n,{replace:w,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[f,d,m,r,i,t,n,o,l,c])}var Yd={},TT;function D5(){if(TT)return Yd;TT=1,Yd.match=o,Yd.parse=l;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,t=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function o(m,g){return l(m).some(function(w){var T=w.inverse,x=w.type==="all"||g.type===w.type;if(x&&T||!(x||T))return!1;var R=w.expressions.every(function(I){var V=I.feature,M=I.modifier,F=I.value,z=g[V];if(!z)return!1;switch(V){case"orientation":case"scan":return z.toLowerCase()===F.toLowerCase();case"width":case"height":case"device-width":case"device-height":F=f(F),z=f(z);break;case"resolution":F=d(F),z=d(z);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":F=c(F),z=c(z);break;case"grid":case"color":case"color-index":case"monochrome":F=parseInt(F,10)||1,z=parseInt(z,10)||0;break}switch(M){case"min":return z>=F;case"max":return z<=F;default:return z===F}});return R&&!T||!R&&T})}function l(m){return m.split(",").map(function(g){g=g.trim();var w=g.match(n),T=w[1],x=w[2],R=w[3]||"",I={};return I.inverse=!!T&&T.toLowerCase()==="not",I.type=x?x.toLowerCase():"all",R=R.match(/\([^\)]+\)/g)||[],I.expressions=R.map(function(V){var M=V.match(e),F=M[1].toLowerCase().match(t);return{modifier:F[1],feature:F[2],value:M[2]}}),I})}function c(m){var g=Number(m),w;return g||(w=m.match(/^(\d+)\s*\/\s*(\d+)$/),g=w[1]/w[2]),g}function d(m){var g=parseFloat(m),w=String(m).match(i)[1];switch(w){case"dpcm":return g/2.54;case"dppx":return g*96;default:return g}}function f(m){var g=parseFloat(m),w=String(m).match(r)[1];switch(w){case"em":return g*16;case"rem":return g*16;case"cm":return g*96/2.54;case"mm":return g*96/2.54/10;case"in":return g*96;case"pt":return g*72;case"pc":return g*72/12;default:return g}}return Yd}var Dm,ST;function O5(){if(ST)return Dm;ST=1;var n=D5().match,e=typeof window<"u"?window.matchMedia:null;function t(i,o,l){var c=this,d;e&&!l&&(d=e.call(window,i)),d?(this.matches=d.matches,this.media=d.media,d.addListener(g)):(this.matches=n(i,o),this.media=i),this.addListener=f,this.removeListener=m,this.dispose=w;function f(T){d&&d.addListener(T)}function m(T){d&&d.removeListener(T)}function g(T){c.matches=T.matches,c.media=T.media}function w(){d&&d.removeListener(g)}}function r(i,o,l){return new t(i,o,l)}return Dm=r,Dm}var N5=O5();const L5=Oo(N5);var V5=/[A-Z]/g,M5=/^ms-/,Om={};function F5(n){return"-"+n.toLowerCase()}function oC(n){if(Om.hasOwnProperty(n))return Om[n];var e=n.replace(V5,F5);return Om[n]=M5.test(e)?"-"+e:e}function j5(n,e){if(n===e)return!0;if(!n||!e)return!1;const t=Object.keys(n),r=Object.keys(e),i=t.length;if(r.length!==i)return!1;for(let o=0;o<i;o++){const l=t[o];if(n[l]!==e[l]||!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0}const un=be.oneOfType([be.string,be.number]),aC={all:be.bool,grid:be.bool,aural:be.bool,braille:be.bool,handheld:be.bool,print:be.bool,projection:be.bool,screen:be.bool,tty:be.bool,tv:be.bool,embossed:be.bool},U5={orientation:be.oneOf(["portrait","landscape"]),scan:be.oneOf(["progressive","interlace"]),aspectRatio:be.string,deviceAspectRatio:be.string,height:un,deviceHeight:un,width:un,deviceWidth:un,color:be.bool,colorIndex:be.bool,monochrome:be.bool,resolution:un,type:Object.keys(aC)},{type:Pz,...B5}=U5,$5={minAspectRatio:be.string,maxAspectRatio:be.string,minDeviceAspectRatio:be.string,maxDeviceAspectRatio:be.string,minHeight:un,maxHeight:un,minDeviceHeight:un,maxDeviceHeight:un,minWidth:un,maxWidth:un,minDeviceWidth:un,maxDeviceWidth:un,minColor:be.number,maxColor:be.number,minColorIndex:be.number,maxColorIndex:be.number,minMonochrome:be.number,maxMonochrome:be.number,minResolution:un,maxResolution:un,...B5},z5={...aC,...$5};var W5={all:z5};const H5=n=>`not ${n}`,q5=(n,e)=>{const t=oC(n);return typeof e=="number"&&(e=`${e}px`),e===!0?t:e===!1?H5(t):`(${t}: ${e})`},K5=n=>n.join(" and "),G5=n=>{const e=[];return Object.keys(W5.all).forEach(t=>{const r=n[t];r!=null&&e.push(q5(t,r))}),K5(e)},Q5=A.createContext(void 0),Y5=n=>n.query||G5(n),xT=n=>n?Object.keys(n).reduce((t,r)=>(t[oC(r)]=n[r],t),{}):void 0,lC=()=>{const n=A.useRef(!1);return A.useEffect(()=>{n.current=!0},[]),n.current},X5=n=>{const e=A.useContext(Q5),t=()=>xT(n)||xT(e),[r,i]=A.useState(t);return A.useEffect(()=>{const o=t();j5(r,o)||i(o)},[n,e]),r},J5=n=>{const e=()=>Y5(n),[t,r]=A.useState(e);return A.useEffect(()=>{const i=e();t!==i&&r(i)},[n]),t},Z5=(n,e)=>{const t=()=>L5(n,e||{},!!e),[r,i]=A.useState(t),o=lC();return A.useEffect(()=>{if(o){const l=t();return i(l),()=>{l&&l.dispose()}}},[n,e]),r},ej=n=>{const[e,t]=A.useState(n.matches);return A.useEffect(()=>{const r=i=>{t(i.matches)};return n.addListener(r),t(n.matches),()=>{n.removeListener(r)}},[n]),e},uC=(n,e,t)=>{const r=X5(e),i=J5(n);if(!i)throw new Error("Invalid or missing MediaQuery!");const o=Z5(i,r),l=ej(o);return lC(),A.useEffect(()=>{},[l]),A.useEffect(()=>()=>{o&&o.dispose()},[]),l},cC=A.createContext({});function tj(n){const e=A.useRef(null);return e.current===null&&(e.current=n()),e.current}const fv=A.createContext(null),dC=A.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function nj(n=!0){const e=A.useContext(fv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,o=A.useId();A.useEffect(()=>{n&&i(o)},[n]);const l=A.useCallback(()=>n&&r&&r(o),[o,r,n]);return!t&&r?[!1,l]:[!0]}const pv=typeof window<"u",rj=pv?A.useLayoutEffect:A.useEffect,On=n=>n;let hC=On;function mv(n){let e;return()=>(e===void 0&&(e=n()),e)}const sl=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},pi=n=>n*1e3,mi=n=>n/1e3,ij={useManualTiming:!1};function sj(n){let e=new Set,t=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),n()),f(l)}const d={schedule:(f,m=!1,g=!1)=>{const T=g&&r?e:t;return m&&o.add(f),T.has(f)||T.add(f),f},cancel:f=>{t.delete(f),o.delete(f)},process:f=>{if(l=f,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,d.process(f))}};return d}const Xd=["read","resolveKeyframes","update","preRender","render","postRender"],oj=40;function fC(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=Xd.reduce((V,M)=>(V[M]=sj(o),V),{}),{read:c,resolveKeyframes:d,update:f,preRender:m,render:g,postRender:w}=l,T=()=>{const V=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(V-i.timestamp,oj),1),i.timestamp=V,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),m.process(i),g.process(i),w.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(T))},x=()=>{t=!0,r=!0,i.isProcessing||n(T)};return{schedule:Xd.reduce((V,M)=>{const F=l[M];return V[M]=(z,Q=!1,X=!1)=>(t||x(),F.schedule(z,Q,X)),V},{}),cancel:V=>{for(let M=0;M<Xd.length;M++)l[Xd[M]].cancel(V)},state:i,steps:l}}const{schedule:rt,cancel:Rs,state:$t,steps:Nm}=fC(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0),pC=A.createContext({strict:!1}),IT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ol={};for(const n in IT)ol[n]={isEnabled:e=>IT[n].some(t=>!!e[t])};function aj(n){for(const e in n)ol[e]={...ol[e],...n[e]}}const lj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||lj.has(n)}let mC=n=>!Fh(n);function uj(n){n&&(mC=e=>e.startsWith("on")?!Fh(e):n(e))}try{uj(require("@emotion/is-prop-valid").default)}catch{}function cj(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(mC(i)||t===!0&&Fh(i)||!e&&!Fh(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function dj(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const Cf=A.createContext({});function Zu(n){return typeof n=="string"||Array.isArray(n)}function Af(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yv=["initial",...gv];function Rf(n){return Af(n.animate)||yv.some(e=>Zu(n[e]))}function gC(n){return!!(Rf(n)||n.variants)}function hj(n,e){if(Rf(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Zu(t)?t:void 0,animate:Zu(r)?r:void 0}}return n.inherit!==!1?e:{}}function fj(n){const{initial:e,animate:t}=hj(n,A.useContext(Cf));return A.useMemo(()=>({initial:e,animate:t}),[PT(e),PT(t)])}function PT(n){return Array.isArray(n)?n.join(" "):n}const pj=Symbol.for("motionComponentSymbol");function Fa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function mj(n,e,t){return A.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Fa(t)&&(t.current=r))},[e])}const vv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gj="framerAppearId",yC="data-"+vv(gj),{schedule:_v}=fC(queueMicrotask,!1),vC=A.createContext({});function yj(n,e,t,r,i){var o,l;const{visualElement:c}=A.useContext(Cf),d=A.useContext(pC),f=A.useContext(fv),m=A.useContext(dC).reducedMotion,g=A.useRef(null);r=r||d.renderer,!g.current&&r&&(g.current=r(n,{visualState:e,parent:c,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const w=g.current,T=A.useContext(vC);w&&!w.projection&&i&&(w.type==="html"||w.type==="svg")&&vj(g.current,t,i,T);const x=A.useRef(!1);A.useInsertionEffect(()=>{w&&x.current&&w.update(t,f)});const R=t[yC],I=A.useRef(!!R&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,R))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,R)));return rj(()=>{w&&(x.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),_v.render(w.render),I.current&&w.animationState&&w.animationState.animateChanges())}),A.useEffect(()=>{w&&(!I.current&&w.animationState&&w.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)===null||V===void 0||V.call(window,R)}),I.current=!1))}),w}function vj(n,e,t,r){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:_C(n.parent)),n.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&Fa(c),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:f})}function _C(n){if(n)return n.options.allowProjection!==!1?n.projection:_C(n.parent)}function _j({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var o,l;n&&aj(n);function c(f,m){let g;const w={...A.useContext(dC),...f,layoutId:wj(f)},{isStatic:T}=w,x=fj(f),R=r(f,T);if(!T&&pv){Ej();const I=Tj(w);g=I.MeasureLayout,x.visualElement=yj(i,R,w,e,I.ProjectionNode)}return K.jsxs(Cf.Provider,{value:x,children:[g&&x.visualElement?K.jsx(g,{visualElement:x.visualElement,...w}):null,t(i,f,mj(R,x.visualElement,m),R,T,x.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&l!==void 0?l:""})`}`;const d=A.forwardRef(c);return d[pj]=i,d}function wj({layoutId:n}){const e=A.useContext(cC).id;return e&&n!==void 0?e+"-"+n:n}function Ej(n,e){A.useContext(pC).strict}function Tj(n){const{drag:e,layout:t}=ol;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Sj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wv(n){return typeof n!="string"||n.includes("-")?!1:!!(Sj.indexOf(n)>-1||/[A-Z]/u.test(n))}function CT(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Ev(n,e,t,r){if(typeof e=="function"){const[i,o]=CT(r);e=e(t!==void 0?t:n.custom,i,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,o]=CT(r);e=e(t!==void 0?t:n.custom,i,o)}return e}const Mg=n=>Array.isArray(n),xj=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Ij=n=>Mg(n)?n[n.length-1]||0:n,en=n=>!!(n&&n.getVelocity);function fh(n){const e=en(n)?n.get():n;return xj(e)?e.toValue():e}function Pj({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,o){const l={latestValues:Cj(r,i,o,n),renderState:e()};return t&&(l.onMount=c=>t({props:r,current:c,...l}),l.onUpdate=c=>t(c)),l}const wC=n=>(e,t)=>{const r=A.useContext(Cf),i=A.useContext(fv),o=()=>Pj(n,e,r,i);return t?o():tj(o)};function Cj(n,e,t,r){const i={},o=r(n,{});for(const w in o)i[w]=fh(o[w]);let{initial:l,animate:c}=n;const d=Rf(n),f=gC(n);e&&f&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const g=m?c:l;if(g&&typeof g!="boolean"&&!Af(g)){const w=Array.isArray(g)?g:[g];for(let T=0;T<w.length;T++){const x=Ev(n,w[T]);if(x){const{transitionEnd:R,transition:I,...V}=x;for(const M in V){let F=V[M];if(Array.isArray(F)){const z=m?F.length-1:0;F=F[z]}F!==null&&(i[M]=F)}for(const M in R)i[M]=R[M]}}}return i}const vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jo=new Set(vl),EC=n=>e=>typeof e=="string"&&e.startsWith(n),TC=EC("--"),Aj=EC("var(--"),Tv=n=>Aj(n)?Rj.test(n.split("/*")[0].trim()):!1,Rj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,SC=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ei=(n,e,t)=>t>e?e:t<n?n:t,_l={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ec={..._l,transform:n=>Ei(0,1,n)},Jd={..._l,default:1},Sc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),is=Sc("deg"),Hr=Sc("%"),Te=Sc("px"),kj=Sc("vh"),bj=Sc("vw"),AT={...Hr,parse:n=>Hr.parse(n)/100,transform:n=>Hr.transform(n*100)},Dj={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},Oj={rotate:is,rotateX:is,rotateY:is,rotateZ:is,scale:Jd,scaleX:Jd,scaleY:Jd,scaleZ:Jd,skew:is,skewX:is,skewY:is,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:ec,originX:AT,originY:AT,originZ:Te},RT={..._l,transform:Math.round},Sv={...Dj,...Oj,zIndex:RT,size:Te,fillOpacity:ec,strokeOpacity:ec,numOctaves:RT},Nj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lj=vl.length;function Vj(n,e,t){let r="",i=!0;for(let o=0;o<Lj;o++){const l=vl[o],c=n[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||t){const f=SC(c,Sv[l]);if(!d){i=!1;const m=Nj[l]||l;r+=`${m}(${f}) `}t&&(e[l]=f)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function xv(n,e,t){const{style:r,vars:i,transformOrigin:o}=n;let l=!1,c=!1;for(const d in e){const f=e[d];if(jo.has(d)){l=!0;continue}else if(TC(d)){i[d]=f;continue}else{const m=SC(f,Sv[d]);d.startsWith("origin")?(c=!0,o[d]=m):r[d]=m}}if(e.transform||(l||t?r.transform=Vj(e,n.transform,t):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${d} ${f} ${m}`}}const Mj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fj={offset:"strokeDashoffset",array:"strokeDasharray"};function jj(n,e,t=1,r=0,i=!0){n.pathLength=1;const o=i?Mj:Fj;n[o.offset]=Te.transform(-r);const l=Te.transform(e),c=Te.transform(t);n[o.array]=`${l} ${c}`}function kT(n,e,t){return typeof n=="string"?n:Te.transform(e+t*n)}function Uj(n,e,t){const r=kT(e,n.x,n.width),i=kT(t,n.y,n.height);return`${r} ${i}`}function Iv(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...f},m,g){if(xv(n,f,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:T,dimensions:x}=n;w.transform&&(x&&(T.transform=w.transform),delete w.transform),x&&(i!==void 0||o!==void 0||T.transform)&&(T.transformOrigin=Uj(x,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),l!==void 0&&jj(w,l,c,d,!1)}const Pv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),xC=()=>({...Pv(),attrs:{}}),Cv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function IC(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const o in t)n.style.setProperty(o,t[o])}const PC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CC(n,e,t,r){IC(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(PC.has(i)?i:vv(i),e.attrs[i])}const jh={};function Bj(n){Object.assign(jh,n)}function AC(n,{layout:e,layoutId:t}){return jo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!jh[n]||n==="opacity")}function Av(n,e,t){var r;const{style:i}=n,o={};for(const l in i)(en(i[l])||e.style&&en(e.style[l])||AC(l,n)||((r=t?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=i[l]);return o}function RC(n,e,t){const r=Av(n,e,t);for(const i in n)if(en(n[i])||en(e[i])){const o=vl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=n[i]}return r}function $j(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const bT=["x","y","width","height","cx","cy","r"],zj={useVisualState:wC({scrapeMotionValuesFromProps:RC,createRenderState:xC,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let o=!!n.drag;if(!o){for(const c in i)if(jo.has(c)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let c=0;c<bT.length;c++){const d=bT[c];n[d]!==e[d]&&(l=!0)}l&&rt.read(()=>{$j(t,r),rt.render(()=>{Iv(r,i,Cv(t.tagName),n.transformTemplate),CC(t,r)})})}})},Wj={useVisualState:wC({scrapeMotionValuesFromProps:Av,createRenderState:Pv})};function kC(n,e,t){for(const r in e)!en(e[r])&&!AC(r,t)&&(n[r]=e[r])}function Hj({transformTemplate:n},e){return A.useMemo(()=>{const t=Pv();return xv(t,e,n),Object.assign({},t.vars,t.style)},[e])}function qj(n,e){const t=n.style||{},r={};return kC(r,t,n),Object.assign(r,Hj(n,e)),r}function Kj(n,e){const t={},r=qj(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function Gj(n,e,t,r){const i=A.useMemo(()=>{const o=xC();return Iv(o,e,Cv(r),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};kC(o,n.style,n),i.style={...o,...i.style}}return i}function Qj(n=!1){return(t,r,i,{latestValues:o},l)=>{const d=(wv(t)?Gj:Kj)(r,o,l,t),f=cj(r,typeof t=="string",n),m=t!==A.Fragment?{...f,...d,ref:i}:{},{children:g}=r,w=A.useMemo(()=>en(g)?g.get():g,[g]);return A.createElement(t,{...m,children:w})}}function Yj(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...wv(r)?zj:Wj,preloadedFeatures:n,useRender:Qj(i),createVisualElement:e,Component:r};return _j(l)}}function bC(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function kf(n,e,t){const r=n.getProps();return Ev(r,e,t!==void 0?t:r.custom,n)}const Xj=mv(()=>window.ScrollTimeline!==void 0);class Jj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(Xj()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Zj extends Jj{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Rv(n,e){return n?n[e]||n.default||n:void 0}const Fg=2e4;function DC(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Fg;)e+=t,r=n.next(e);return e>=Fg?1/0:e}function kv(n){return typeof n=="function"}function DT(n,e){n.timeline=e,n.onfinish=null}const bv=n=>Array.isArray(n)&&typeof n[0]=="number",e3={linearEasing:void 0};function t3(n,e){const t=mv(n);return()=>{var r;return(r=e3[e])!==null&&r!==void 0?r:t()}}const Uh=t3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),OC=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let o=0;o<i;o++)r+=n(sl(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function NC(n){return!!(typeof n=="function"&&Uh()||!n||typeof n=="string"&&(n in jg||Uh())||bv(n)||Array.isArray(n)&&n.every(NC))}const Su=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,jg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Su([0,.65,.55,1]),circOut:Su([.55,0,1,.45]),backIn:Su([.31,.01,.66,-.59]),backOut:Su([.33,1.53,.69,.99])};function LC(n,e){if(n)return typeof n=="function"&&Uh()?OC(n,e):bv(n)?Su(n):Array.isArray(n)?n.map(t=>LC(t,e)||jg.easeOut):jg[n]}const vr={x:!1,y:!1};function VC(){return vr.x||vr.y}function n3(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function MC(n,e){const t=n3(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function OT(n){return e=>{e.pointerType==="touch"||VC()||n(e)}}function r3(n,e,t={}){const[r,i,o]=MC(n,t),l=OT(c=>{const{target:d}=c,f=e(c);if(typeof f!="function"||!d)return;const m=OT(g=>{f(g),d.removeEventListener("pointerleave",m)});d.addEventListener("pointerleave",m,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const FC=(n,e)=>e?n===e?!0:FC(n,e.parentElement):!1,Dv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,i3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function s3(n){return i3.has(n.tagName)||n.tabIndex!==-1}const xu=new WeakSet;function NT(n){return e=>{e.key==="Enter"&&n(e)}}function Lm(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const o3=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=NT(()=>{if(xu.has(t))return;Lm(t,"down");const i=NT(()=>{Lm(t,"up")}),o=()=>Lm(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function LT(n){return Dv(n)&&!VC()}function a3(n,e,t={}){const[r,i,o]=MC(n,t),l=c=>{const d=c.currentTarget;if(!LT(c)||xu.has(d))return;xu.add(d);const f=e(c),m=(T,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",w),!(!LT(T)||!xu.has(d))&&(xu.delete(d),typeof f=="function"&&f(T,{success:x}))},g=T=>{m(T,t.useGlobalTarget||FC(d,T.target))},w=T=>{m(T,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",w,i)};return r.forEach(c=>{!s3(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(t.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",f=>o3(f,i),i)}),o}function l3(n){return n==="x"||n==="y"?vr[n]?null:(vr[n]=!0,()=>{vr[n]=!1}):vr.x||vr.y?null:(vr.x=vr.y=!0,()=>{vr.x=vr.y=!1})}const jC=new Set(["width","height","top","left","right","bottom",...vl]);let ph;function u3(){ph=void 0}const qr={now:()=>(ph===void 0&&qr.set($t.isProcessing||ij.useManualTiming?$t.timestamp:performance.now()),ph),set:n=>{ph=n,queueMicrotask(u3)}};function Ov(n,e){n.indexOf(e)===-1&&n.push(e)}function Nv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Lv{constructor(){this.subscriptions=[]}add(e){return Ov(this.subscriptions,e),()=>Nv(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function UC(n,e){return e?n*(1e3/e):0}const VT=30,c3=n=>!isNaN(parseFloat(n));class d3{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=qr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=qr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=c3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Lv);const r=this.events[e].add(t);return e==="change"?()=>{r(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>VT)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,VT);return UC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tc(n,e){return new d3(n,e)}function h3(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,tc(t))}function f3(n,e){const t=kf(n,e);let{transitionEnd:r={},transition:i={},...o}=t||{};o={...o,...r};for(const l in o){const c=Ij(o[l]);h3(n,l,c)}}function p3(n){return!!(en(n)&&n.add)}function Ug(n,e){const t=n.getValue("willChange");if(p3(t))return t.add(e)}function BC(n){return n.props[yC]}const $C=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,m3=1e-7,g3=12;function y3(n,e,t,r,i){let o,l,c=0;do l=e+(t-e)/2,o=$C(l,r,i)-n,o>0?t=l:e=l;while(Math.abs(o)>m3&&++c<g3);return l}function xc(n,e,t,r){if(n===e&&t===r)return On;const i=o=>y3(o,0,1,n,t);return o=>o===0||o===1?o:$C(i(o),e,r)}const zC=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,WC=n=>e=>1-n(1-e),HC=xc(.33,1.53,.69,.99),Vv=WC(HC),qC=zC(Vv),KC=n=>(n*=2)<1?.5*Vv(n):.5*(2-Math.pow(2,-10*(n-1))),Mv=n=>1-Math.sin(Math.acos(n)),GC=WC(Mv),QC=zC(Mv),YC=n=>/^0[^.\s]+$/u.test(n);function v3(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||YC(n):!0}const Lu=n=>Math.round(n*1e5)/1e5,Fv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _3(n){return n==null}const w3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jv=(n,e)=>t=>!!(typeof t=="string"&&w3.test(t)&&t.startsWith(n)||e&&!_3(t)&&Object.prototype.hasOwnProperty.call(t,e)),XC=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,o,l,c]=r.match(Fv);return{[n]:parseFloat(i),[e]:parseFloat(o),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},E3=n=>Ei(0,255,n),Vm={..._l,transform:n=>Math.round(E3(n))},Eo={test:jv("rgb","red"),parse:XC("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Vm.transform(n)+", "+Vm.transform(e)+", "+Vm.transform(t)+", "+Lu(ec.transform(r))+")"};function T3(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Bg={test:jv("#"),parse:T3,transform:Eo.transform},ja={test:jv("hsl","hue"),parse:XC("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Hr.transform(Lu(e))+", "+Hr.transform(Lu(t))+", "+Lu(ec.transform(r))+")"},Xt={test:n=>Eo.test(n)||Bg.test(n)||ja.test(n),parse:n=>Eo.test(n)?Eo.parse(n):ja.test(n)?ja.parse(n):Bg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Eo.transform(n):ja.transform(n)},S3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function x3(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Fv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(S3))===null||t===void 0?void 0:t.length)||0)>0}const JC="number",ZC="color",I3="var",P3="var(",MT="${}",C3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nc(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let o=0;const c=e.replace(C3,d=>(Xt.test(d)?(r.color.push(o),i.push(ZC),t.push(Xt.parse(d))):d.startsWith(P3)?(r.var.push(o),i.push(I3),t.push(d)):(r.number.push(o),i.push(JC),t.push(parseFloat(d))),++o,MT)).split(MT);return{values:t,split:c,indexes:r,types:i}}function eA(n){return nc(n).values}function tA(n){const{split:e,types:t}=nc(n),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const c=t[l];c===JC?o+=Lu(i[l]):c===ZC?o+=Xt.transform(i[l]):o+=i[l]}return o}}const A3=n=>typeof n=="number"?0:n;function R3(n){const e=eA(n);return tA(n)(e.map(A3))}const ks={test:x3,parse:eA,createTransformer:tA,getAnimatableNone:R3},k3=new Set(["brightness","contrast","saturate","opacity"]);function b3(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Fv)||[];if(!r)return n;const i=t.replace(r,"");let o=k3.has(e)?1:0;return r!==t&&(o*=100),e+"("+o+i+")"}const D3=/\b([a-z-]*)\(.*?\)/gu,$g={...ks,getAnimatableNone:n=>{const e=n.match(D3);return e?e.map(b3).join(" "):n}},O3={...Sv,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:$g,WebkitFilter:$g},Uv=n=>O3[n];function nA(n,e){let t=Uv(n);return t!==$g&&(t=ks),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const N3=new Set(["auto","none","0"]);function L3(n,e,t){let r=0,i;for(;r<n.length&&!i;){const o=n[r];typeof o=="string"&&!N3.has(o)&&nc(o).values.length&&(i=n[r]),r++}if(i&&t)for(const o of e)n[o]=nA(t,i)}const FT=n=>n===_l||n===Te,jT=(n,e)=>parseFloat(n.split(", ")[e]),UT=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return jT(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?jT(o[1],n):0}},V3=new Set(["x","y","z"]),M3=vl.filter(n=>!V3.has(n));function F3(n){const e=[];return M3.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const al={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:UT(4,13),y:UT(5,14)};al.translateX=al.x;al.translateY=al.y;const Io=new Set;let zg=!1,Wg=!1;function rA(){if(Wg){const n=Array.from(Io).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=F3(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([o,l])=>{var c;(c=r.getValue(o))===null||c===void 0||c.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wg=!1,zg=!1,Io.forEach(n=>n.complete()),Io.clear()}function iA(){Io.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Wg=!0)})}function j3(){iA(),rA()}class Bv{constructor(e,t,r,i,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Io.add(this),zg||(zg=!0,rt.read(iA),rt.resolveKeyframes(rA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=i?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const d=r.readValue(t,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Io.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Io.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),U3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B3(n){const e=U3.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function oA(n,e,t=1){const[r,i]=B3(n);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return sA(l)?parseFloat(l):l}return Tv(i)?oA(i,e,t+1):i}const aA=n=>e=>e.test(n),$3={test:n=>n==="auto",parse:n=>n},lA=[_l,Te,Hr,is,bj,kj,$3],BT=n=>lA.find(aA(n));class uA extends Bv{constructor(e,t,r,i,o){super(e,t,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),Tv(f))){const m=oA(f,t.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!jC.has(r)||e.length!==2)return;const[i,o]=e,l=BT(i),c=BT(o);if(l!==c)if(FT(l)&&FT(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)v3(e[i])&&r.push(i);r.length&&L3(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=al[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=al[r](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}const $T=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ks.test(n)||n==="0")&&!n.startsWith("url("));function z3(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function W3(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=$T(i,e),c=$T(o,e);return!l||!c?!1:z3(n)||(t==="spring"||kv(t))&&r}const H3=n=>n!==null;function bf(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(H3),o=e&&t!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const q3=40;class cA{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qr.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:o,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>q3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&j3(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=qr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:l,onComplete:c,onUpdate:d,isGenerator:f}=this.options;if(!f&&!W3(e,r,i,o))if(l)this.options.duration=0;else{d&&d(bf(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const lt=(n,e,t)=>n+(e-n)*t;function Mm(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function K3({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,o=0,l=0;if(!e)i=o=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;i=Mm(d,c,n+1/3),o=Mm(d,c,n),l=Mm(d,c,n-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Bh(n,e){return t=>t>0?e:n}const Fm=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},G3=[Bg,Eo,ja],Q3=n=>G3.find(e=>e.test(n));function zT(n){const e=Q3(n);if(!e)return!1;let t=e.parse(n);return e===ja&&(t=K3(t)),t}const WT=(n,e)=>{const t=zT(n),r=zT(e);if(!t||!r)return Bh(n,e);const i={...t};return o=>(i.red=Fm(t.red,r.red,o),i.green=Fm(t.green,r.green,o),i.blue=Fm(t.blue,r.blue,o),i.alpha=lt(t.alpha,r.alpha,o),Eo.transform(i))},Y3=(n,e)=>t=>e(n(t)),Ic=(...n)=>n.reduce(Y3),Hg=new Set(["none","hidden"]);function X3(n,e){return Hg.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function J3(n,e){return t=>lt(n,e,t)}function $v(n){return typeof n=="number"?J3:typeof n=="string"?Tv(n)?Bh:Xt.test(n)?WT:t6:Array.isArray(n)?dA:typeof n=="object"?Xt.test(n)?WT:Z3:Bh}function dA(n,e){const t=[...n],r=t.length,i=n.map((o,l)=>$v(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)t[l]=i[l](o);return t}}function Z3(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=$v(n[i])(n[i],e[i]));return i=>{for(const o in r)t[o]=r[o](i);return t}}function e6(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=n.indexes[l][i[l]],d=(t=n.values[c])!==null&&t!==void 0?t:0;r[o]=d,i[l]++}return r}const t6=(n,e)=>{const t=ks.createTransformer(e),r=nc(n),i=nc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Hg.has(n)&&!i.values.length||Hg.has(e)&&!r.values.length?X3(n,e):Ic(dA(e6(r,i),i.values),t):Bh(n,e)};function hA(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?lt(n,e,t):$v(n)(n,e)}const n6=5;function fA(n,e,t){const r=Math.max(e-n6,0);return UC(t-n(r),e-r)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jm=.001;function r6({duration:n=ft.duration,bounce:e=ft.bounce,velocity:t=ft.velocity,mass:r=ft.mass}){let i,o,l=1-e;l=Ei(ft.minDamping,ft.maxDamping,l),n=Ei(ft.minDuration,ft.maxDuration,mi(n)),l<1?(i=f=>{const m=f*l,g=m*n,w=m-t,T=qg(f,l),x=Math.exp(-g);return jm-w/T*x},o=f=>{const g=f*l*n,w=g*t+t,T=Math.pow(l,2)*Math.pow(f,2)*n,x=Math.exp(-g),R=qg(Math.pow(f,2),l);return(-i(f)+jm>0?-1:1)*((w-T)*x)/R}):(i=f=>{const m=Math.exp(-f*n),g=(f-t)*n+1;return-jm+m*g},o=f=>{const m=Math.exp(-f*n),g=(t-f)*(n*n);return m*g});const c=5/n,d=s6(i,o,c);if(n=pi(n),isNaN(d))return{stiffness:ft.stiffness,damping:ft.damping,duration:n};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:n}}}const i6=12;function s6(n,e,t){let r=t;for(let i=1;i<i6;i++)r=r-n(r)/e(r);return r}function qg(n,e){return n*Math.sqrt(1-e*e)}const o6=["duration","bounce"],a6=["stiffness","damping","mass"];function HT(n,e){return e.some(t=>n[t]!==void 0)}function l6(n){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...n};if(!HT(n,a6)&&HT(n,o6))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,o=2*Ei(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:ft.mass,stiffness:i,damping:o}}else{const t=r6(n);e={...e,...t,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function pA(n=ft.visualDuration,e=ft.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:f,mass:m,duration:g,velocity:w,isResolvedFromDuration:T}=l6({...t,velocity:-mi(t.velocity||0)}),x=w||0,R=f/(2*Math.sqrt(d*m)),I=l-o,V=mi(Math.sqrt(d/m)),M=Math.abs(I)<5;r||(r=M?ft.restSpeed.granular:ft.restSpeed.default),i||(i=M?ft.restDelta.granular:ft.restDelta.default);let F;if(R<1){const Q=qg(V,R);F=X=>{const D=Math.exp(-R*V*X);return l-D*((x+R*V*I)/Q*Math.sin(Q*X)+I*Math.cos(Q*X))}}else if(R===1)F=Q=>l-Math.exp(-V*Q)*(I+(x+V*I)*Q);else{const Q=V*Math.sqrt(R*R-1);F=X=>{const D=Math.exp(-R*V*X),P=Math.min(Q*X,300);return l-D*((x+R*V*I)*Math.sinh(P)+Q*I*Math.cosh(P))/Q}}const z={calculatedDuration:T&&g||null,next:Q=>{const X=F(Q);if(T)c.done=Q>=g;else{let D=0;R<1&&(D=Q===0?pi(x):fA(F,Q,X));const P=Math.abs(D)<=r,k=Math.abs(l-X)<=i;c.done=P&&k}return c.value=c.done?l:X,c},toString:()=>{const Q=Math.min(DC(z),Fg),X=OC(D=>z.next(Q*D).value,Q,30);return Q+"ms "+X}};return z}function qT({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:f=.5,restSpeed:m}){const g=n[0],w={done:!1,value:g},T=P=>c!==void 0&&P<c||d!==void 0&&P>d,x=P=>c===void 0?d:d===void 0||Math.abs(c-P)<Math.abs(d-P)?c:d;let R=t*e;const I=g+R,V=l===void 0?I:l(I);V!==I&&(R=V-g);const M=P=>-R*Math.exp(-P/r),F=P=>V+M(P),z=P=>{const k=M(P),N=F(P);w.done=Math.abs(k)<=f,w.value=w.done?V:N};let Q,X;const D=P=>{T(w.value)&&(Q=P,X=pA({keyframes:[w.value,x(w.value)],velocity:fA(F,P,w.value),damping:i,stiffness:o,restDelta:f,restSpeed:m}))};return D(0),{calculatedDuration:null,next:P=>{let k=!1;return!X&&Q===void 0&&(k=!0,z(P),D(P)),Q!==void 0&&P>=Q?X.next(P-Q):(!k&&z(P),w)}}}const u6=xc(.42,0,1,1),c6=xc(0,0,.58,1),mA=xc(.42,0,.58,1),d6=n=>Array.isArray(n)&&typeof n[0]!="number",h6={linear:On,easeIn:u6,easeInOut:mA,easeOut:c6,circIn:Mv,circInOut:QC,circOut:GC,backIn:Vv,backInOut:qC,backOut:HC,anticipate:KC},KT=n=>{if(bv(n)){hC(n.length===4);const[e,t,r,i]=n;return xc(e,t,r,i)}else if(typeof n=="string")return h6[n];return n};function f6(n,e,t){const r=[],i=t||hA,o=n.length-1;for(let l=0;l<o;l++){let c=i(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]||On:e;c=Ic(d,c)}r.push(c)}return r}function p6(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const o=n.length;if(hC(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=f6(e,r,i),d=c.length,f=m=>{if(l&&m<n[0])return e[0];let g=0;if(d>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const w=sl(n[g],n[g+1],m);return c[g](w)};return t?m=>f(Ei(n[0],n[o-1],m)):f}function m6(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=sl(0,e,r);n.push(lt(t,1,i))}}function g6(n){const e=[0];return m6(e,n.length-1),e}function y6(n,e){return n.map(t=>t*e)}function v6(n,e){return n.map(()=>e||mA).splice(0,n.length-1)}function $h({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=d6(r)?r.map(KT):KT(r),o={done:!1,value:e[0]},l=y6(t&&t.length===e.length?t:g6(e),n),c=p6(l,e,{ease:Array.isArray(i)?i:v6(e,i)});return{calculatedDuration:n,next:d=>(o.value=c(d),o.done=d>=n,o)}}const _6=n=>{const e=({timestamp:t})=>n(t);return{start:()=>rt.update(e,!0),stop:()=>Rs(e),now:()=>$t.isProcessing?$t.timestamp:qr.now()}},w6={decay:qT,inertia:qT,tween:$h,keyframes:$h,spring:pA},E6=n=>n/100;class zv extends cA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:t,motionValue:r,element:i,keyframes:o}=this.options,l=i?.KeyframeResolver||Bv,c=(d,f)=>this.onKeyframesResolved(d,f);this.resolver=new l(o,c,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=this.options,c=kv(t)?t:w6[t]||$h;let d,f;c!==$h&&typeof e[0]!="number"&&(d=Ic(E6,hA(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});o==="mirror"&&(f=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=DC(m));const{calculatedDuration:g}=m,w=g+i,T=w*(r+1)-i;return{generator:m,mirroredGenerator:f,mapPercentToKeyframes:d,calculatedDuration:g,resolvedDuration:w,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:f,totalDuration:m,resolvedDuration:g}=r;if(this.startTime===null)return o.next(0);const{delay:w,repeat:T,repeatType:x,repeatDelay:R,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const V=this.currentTime-w*(this.speed>=0?1:-1),M=this.speed>=0?V<0:V>m;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let F=this.currentTime,z=o;if(T){const P=Math.min(this.currentTime,m)/g;let k=Math.floor(P),N=P%1;!N&&P>=1&&(N=1),N===1&&k--,k=Math.min(k,T+1),!!(k%2)&&(x==="reverse"?(N=1-N,R&&(N-=R/g)):x==="mirror"&&(z=l)),F=Ei(0,1,N)*g}const Q=M?{done:!1,value:d[0]}:z.next(F);c&&(Q.value=c(Q.value));let{done:X}=Q;!M&&f!==null&&(X=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return D&&i!==void 0&&(Q.value=bf(d,this.options,i)),I&&I(Q.value),D&&this.finish(),Q}get duration(){const{resolved:e}=this;return e?mi(e.calculatedDuration):0}get time(){return mi(this.currentTime)}set time(e){e=pi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=mi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=_6,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const T6=new Set(["opacity","clipPath","filter","transform"]);function S6(n,e,t,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const f={[e]:t};d&&(f.offset=d);const m=LC(c,i);return Array.isArray(m)&&(f.easing=m),n.animate(f,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const x6=mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zh=10,I6=2e4;function P6(n){return kv(n.type)||n.type==="spring"||!NC(n.ease)}function C6(n,e){const t=new zv({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let o=0;for(;!r.done&&o<I6;)r=t.sample(o),i.push(r.value),o+=zh;return{times:void 0,keyframes:i,duration:o-zh,ease:"linear"}}const gA={anticipate:KC,backInOut:qC,circInOut:QC};function A6(n){return n in gA}class GT extends cA{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new uA(o,(l,c)=>this.onKeyframesResolved(l,c),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:o,type:l,motionValue:c,name:d,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&Uh()&&A6(o)&&(o=gA[o]),P6(this.options)){const{onComplete:g,onUpdate:w,motionValue:T,element:x,...R}=this.options,I=C6(e,R);e=I.keyframes,e.length===1&&(e[1]=e[0]),r=I.duration,i=I.times,o=I.ease,l="keyframes"}const m=S6(c.owner.current,d,e,{...this.options,duration:r,times:i,ease:o});return m.startTime=f??this.calcStartTime(),this.pendingTimeline?(DT(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;c.set(bf(e,this.options,t)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return mi(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return mi(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=pi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return On;const{animation:r}=t;DT(r,e)}return On}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:o,ease:l,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:m,onComplete:g,element:w,...T}=this.options,x=new zv({...T,keyframes:r,duration:i,type:o,ease:l,times:c,isGenerator:!0}),R=pi(this.time);f.setWithVelocity(x.sample(R-zh).value,x.sample(R).value,zh)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:o,damping:l,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return x6()&&r&&T6.has(r)&&!d&&!f&&!i&&o!=="mirror"&&l!==0&&c!=="inertia"}}const R6={type:"spring",stiffness:500,damping:25,restSpeed:10},k6=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),b6={type:"keyframes",duration:.8},D6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O6=(n,{keyframes:e})=>e.length>2?b6:jo.has(n)?n.startsWith("scale")?k6(e[1]):R6:D6;function N6({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const Wv=(n,e,t,r={},i,o)=>l=>{const c=Rv(r,n)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-pi(d);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:o?void 0:i};N6(c)||(m={...m,...O6(n,m)}),m.duration&&(m.duration=pi(m.duration)),m.repeatDelay&&(m.repeatDelay=pi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!o&&e.get()!==void 0){const w=bf(m.keyframes,c);if(w!==void 0)return rt.update(()=>{m.onUpdate(w),m.onComplete()}),new Zj([])}return!o&&GT.supports(m)?new GT(m):new zv(m)};function L6({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function yA(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var o;let{transition:l=n.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(l=r);const f=[],m=i&&n.animationState&&n.animationState.getState()[i];for(const g in d){const w=n.getValue(g,(o=n.latestValues[g])!==null&&o!==void 0?o:null),T=d[g];if(T===void 0||m&&L6(m,g))continue;const x={delay:t,...Rv(l||{},g)};let R=!1;if(window.MotionHandoffAnimation){const V=BC(n);if(V){const M=window.MotionHandoffAnimation(V,g,rt);M!==null&&(x.startTime=M,R=!0)}}Ug(n,g),w.start(Wv(g,w,T,n.shouldReduceMotion&&jC.has(g)?{type:!1}:x,n,R));const I=w.animation;I&&f.push(I)}return c&&Promise.all(f).then(()=>{rt.update(()=>{c&&f3(n,c)})}),f}function Kg(n,e,t={}){var r;const i=kf(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(o=t.transitionOverride);const l=i?()=>Promise.all(yA(n,i,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:w}=o;return V6(n,e,m+f,g,w,t)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,m]=d==="beforeChildren"?[l,c]:[c,l];return f().then(()=>m())}else return Promise.all([l(),c(t.delay)])}function V6(n,e,t=0,r=0,i=1,o){const l=[],c=(n.variantChildren.size-1)*r,d=i===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(n.variantChildren).sort(M6).forEach((f,m)=>{f.notify("AnimationStart",e),l.push(Kg(f,e,{...o,delay:t+d(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function M6(n,e){return n.sortNodePosition(e)}function F6(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Kg(n,o,t));r=Promise.all(i)}else if(typeof e=="string")r=Kg(n,e,t);else{const i=typeof e=="function"?kf(n,e,t.custom):e;r=Promise.all(yA(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const j6=yv.length;function vA(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?vA(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<j6;t++){const r=yv[t],i=n.props[r];(Zu(i)||i===!1)&&(e[r]=i)}return e}const U6=[...gv].reverse(),B6=gv.length;function $6(n){return e=>Promise.all(e.map(({animation:t,options:r})=>F6(n,t,r)))}function z6(n){let e=$6(n),t=QT(),r=!0;const i=d=>(f,m)=>{var g;const w=kf(n,m,d==="exit"?(g=n.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(w){const{transition:T,transitionEnd:x,...R}=w;f={...f,...R,...x}}return f};function o(d){e=d(n)}function l(d){const{props:f}=n,m=vA(n.parent)||{},g=[],w=new Set;let T={},x=1/0;for(let I=0;I<B6;I++){const V=U6[I],M=t[V],F=f[V]!==void 0?f[V]:m[V],z=Zu(F),Q=V===d?M.isActive:null;Q===!1&&(x=I);let X=F===m[V]&&F!==f[V]&&z;if(X&&r&&n.manuallyAnimateOnMount&&(X=!1),M.protectedKeys={...T},!M.isActive&&Q===null||!F&&!M.prevProp||Af(F)||typeof F=="boolean")continue;const D=W6(M.prevProp,F);let P=D||V===d&&M.isActive&&!X&&z||I>x&&z,k=!1;const N=Array.isArray(F)?F:[F];let L=N.reduce(i(V),{});Q===!1&&(L={});const{prevResolvedValues:U={}}=M,b={...U,...L},ve=he=>{P=!0,w.has(he)&&(k=!0,w.delete(he)),M.needsAnimating[he]=!0;const re=n.getValue(he);re&&(re.liveStyle=!1)};for(const he in b){const re=L[he],le=U[he];if(T.hasOwnProperty(he))continue;let se=!1;Mg(re)&&Mg(le)?se=!bC(re,le):se=re!==le,se?re!=null?ve(he):w.add(he):re!==void 0&&w.has(he)?ve(he):M.protectedKeys[he]=!0}M.prevProp=F,M.prevResolvedValues=L,M.isActive&&(T={...T,...L}),r&&n.blockInitialAnimation&&(P=!1),P&&(!(X&&D)||k)&&g.push(...N.map(he=>({animation:he,options:{type:V}})))}if(w.size){const I={};w.forEach(V=>{const M=n.getBaseTarget(V),F=n.getValue(V);F&&(F.liveStyle=!0),I[V]=M??null}),g.push({animation:I})}let R=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(g):Promise.resolve()}function c(d,f){var m;if(t[d].isActive===f)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(w=>{var T;return(T=w.animationState)===null||T===void 0?void 0:T.setActive(d,f)}),t[d].isActive=f;const g=l(d);for(const w in t)t[w].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>t,reset:()=>{t=QT(),r=!0}}}function W6(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!bC(e,n):!1}function po(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QT(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class Fs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class H6 extends Fs{constructor(e){super(e),e.animationState||(e.animationState=z6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Af(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let q6=0;class K6 extends Fs{constructor(){super(...arguments),this.id=q6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const G6={animation:{Feature:H6},exit:{Feature:K6}};function rc(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Pc(n){return{point:{x:n.pageX,y:n.pageY}}}const Q6=n=>e=>Dv(e)&&n(e,Pc(e));function Vu(n,e,t,r){return rc(n,e,Q6(t),r)}const YT=(n,e)=>Math.abs(n-e);function Y6(n,e){const t=YT(n.x,e.x),r=YT(n.y,e.y);return Math.sqrt(t**2+r**2)}class _A{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Bm(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=Y6(g.offset,{x:0,y:0})>=3;if(!w&&!T)return;const{point:x}=g,{timestamp:R}=$t;this.history.push({...x,timestamp:R});const{onStart:I,onMove:V}=this.handlers;w||(I&&I(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,g)},this.handlePointerMove=(g,w)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Um(w,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(g,w)=>{this.end();const{onEnd:T,onSessionEnd:x,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Bm(g.type==="pointercancel"?this.lastMoveEventInfo:Um(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(g,I),x&&x(g,I)},!Dv(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const l=Pc(e),c=Um(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=$t;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=t;m&&m(e,Bm(c,this.history)),this.removeListeners=Ic(Vu(this.contextWindow,"pointermove",this.handlePointerMove),Vu(this.contextWindow,"pointerup",this.handlePointerUp),Vu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rs(this.updatePoint)}}function Um(n,e){return e?{point:e(n.point)}:n}function XT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Bm({point:n},e){return{point:n,delta:XT(n,wA(e)),offset:XT(n,X6(e)),velocity:J6(e,.1)}}function X6(n){return n[0]}function wA(n){return n[n.length-1]}function J6(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=wA(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>pi(e)));)t--;if(!r)return{x:0,y:0};const o=mi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const EA=1e-4,Z6=1-EA,eU=1+EA,TA=.01,tU=0-TA,nU=0+TA;function Ln(n){return n.max-n.min}function rU(n,e,t){return Math.abs(n-e)<=t}function JT(n,e,t,r=.5){n.origin=r,n.originPoint=lt(e.min,e.max,n.origin),n.scale=Ln(t)/Ln(e),n.translate=lt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Z6&&n.scale<=eU||isNaN(n.scale))&&(n.scale=1),(n.translate>=tU&&n.translate<=nU||isNaN(n.translate))&&(n.translate=0)}function Mu(n,e,t,r){JT(n.x,e.x,t.x,r?r.originX:void 0),JT(n.y,e.y,t.y,r?r.originY:void 0)}function ZT(n,e,t){n.min=t.min+e.min,n.max=n.min+Ln(e)}function iU(n,e,t){ZT(n.x,e.x,t.x),ZT(n.y,e.y,t.y)}function e1(n,e,t){n.min=e.min-t.min,n.max=n.min+Ln(e)}function Fu(n,e,t){e1(n.x,e.x,t.x),e1(n.y,e.y,t.y)}function sU(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?lt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?lt(t,n,r.max):Math.min(n,t)),n}function t1(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function oU(n,{top:e,left:t,bottom:r,right:i}){return{x:t1(n.x,t,i),y:t1(n.y,e,r)}}function n1(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function aU(n,e){return{x:n1(n.x,e.x),y:n1(n.y,e.y)}}function lU(n,e){let t=.5;const r=Ln(n),i=Ln(e);return i>r?t=sl(e.min,e.max-r,n.min):r>i&&(t=sl(n.min,n.max-i,e.min)),Ei(0,1,t)}function uU(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Gg=.35;function cU(n=Gg){return n===!1?n=0:n===!0&&(n=Gg),{x:r1(n,"left","right"),y:r1(n,"top","bottom")}}function r1(n,e,t){return{min:i1(n,e),max:i1(n,t)}}function i1(n,e){return typeof n=="number"?n:n[e]||0}const s1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ua=()=>({x:s1(),y:s1()}),o1=()=>({min:0,max:0}),vt=()=>({x:o1(),y:o1()});function Gn(n){return[n("x"),n("y")]}function SA({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function dU({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function hU(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function $m(n){return n===void 0||n===1}function Qg({scale:n,scaleX:e,scaleY:t}){return!$m(n)||!$m(e)||!$m(t)}function yo(n){return Qg(n)||xA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function xA(n){return a1(n.x)||a1(n.y)}function a1(n){return n&&n!=="0%"}function Wh(n,e,t){const r=n-t,i=e*r;return t+i}function l1(n,e,t,r,i){return i!==void 0&&(n=Wh(n,i,r)),Wh(n,t,r)+e}function Yg(n,e=0,t=1,r,i){n.min=l1(n.min,e,t,r,i),n.max=l1(n.max,e,t,r,i)}function IA(n,{x:e,y:t}){Yg(n.x,e.translate,e.scale,e.originPoint),Yg(n.y,t.translate,t.scale,t.originPoint)}const u1=.999999999999,c1=1.0000000000001;function fU(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let o,l;for(let c=0;c<i;c++){o=t[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&$a(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,IA(n,l)),r&&yo(o.latestValues)&&$a(n,o.latestValues))}e.x<c1&&e.x>u1&&(e.x=1),e.y<c1&&e.y>u1&&(e.y=1)}function Ba(n,e){n.min=n.min+e,n.max=n.max+e}function d1(n,e,t,r,i=.5){const o=lt(n.min,n.max,i);Yg(n,e,t,o,r)}function $a(n,e){d1(n.x,e.x,e.scaleX,e.scale,e.originX),d1(n.y,e.y,e.scaleY,e.scale,e.originY)}function PA(n,e){return SA(hU(n.getBoundingClientRect(),e))}function pU(n,e,t){const r=PA(n,t),{scroll:i}=e;return i&&(Ba(r.x,i.offset.x),Ba(r.y,i.offset.y)),r}const CA=({current:n})=>n?n.ownerDocument.defaultView:null,mU=new WeakMap;class gU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Pc(m).point)},o=(m,g)=>{const{drag:w,dragPropagation:T,onDragStart:x}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=l3(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(I=>{let V=this.getAxisMotionValue(I).get()||0;if(Hr.test(V)){const{projection:M}=this.visualElement;if(M&&M.layout){const F=M.layout.layoutBox[I];F&&(V=Ln(F)*(parseFloat(V)/100))}}this.originPoint[I]=V}),x&&rt.postRender(()=>x(m,g)),Ug(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},l=(m,g)=>{const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:x,onDrag:R}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:I}=g;if(T&&this.currentDirection===null){this.currentDirection=yU(I),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,I),this.updateAxis("y",g.point,I),this.visualElement.render(),R&&R(m,g)},c=(m,g)=>this.stop(m,g),d=()=>Gn(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new _A(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:CA(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&rt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Zd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=sU(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&Fa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=oU(i.layoutBox,t):this.constraints=!1,this.elastic=cU(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=uU(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Fa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=pU(r,i.root,this.visualElement.getTransformPagePoint());let l=aU(i.layout.layoutBox,o);if(t){const c=t(dU(l));this.hasMutatedConstraints=!!c,c&&(l=SA(c))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=Gn(m=>{if(!Zd(m,t,this.currentDirection))return;let g=d&&d[m]||{};l&&(g={min:0,max:0});const w=i?200:1e6,T=i?40:1e7,x={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,x)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Ug(this.visualElement,e),r.start(Wv(e,r,0,t,this.visualElement,!1))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gn(t=>{const{drag:r}=this.getProps();if(!Zd(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[t];o.set(e[t]-lt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Fa(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Gn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=lU({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(l=>{if(!Zd(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];c.set(lt(d,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;mU.set(this.visualElement,this);const e=this.visualElement.current,t=Vu(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Fa(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),rt.read(r);const l=rc(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Gn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Gg,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Zd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function yU(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class vU extends Fs{constructor(e){super(e),this.removeGroupControls=On,this.removeListeners=On,this.controls=new gU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}unmount(){this.removeGroupControls(),this.removeListeners()}}const h1=n=>(e,t)=>{n&&rt.postRender(()=>n(e,t))};class _U extends Fs{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(e){this.session=new _A(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:h1(e),onStart:h1(t),onMove:r,onEnd:(o,l)=>{delete this.session,i&&rt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Vu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const fu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Te.test(n))n=parseFloat(n);else return n;const t=f1(n,e.target.x),r=f1(n,e.target.y);return`${t}% ${r}%`}},wU={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=ks.parse(n);if(i.length>5)return r;const o=ks.createTransformer(n),l=typeof i[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const f=lt(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}};class EU extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;Bj(TU),o&&(t.group&&t.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),mh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||rt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_v.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AA(n){const[e,t]=nj(),r=A.useContext(cC);return K.jsx(EU,{...n,layoutGroup:r,switchLayoutGroup:A.useContext(vC),isPresent:e,safeToRemove:t})}const TU={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:wU};function SU(n,e,t){const r=en(n)?n:tc(n);return r.start(Wv("",r,e,t)),r.animation}function xU(n){return n instanceof SVGElement&&n.tagName!=="svg"}const IU=(n,e)=>n.depth-e.depth;class PU{constructor(){this.children=[],this.isDirty=!1}add(e){Ov(this.children,e),this.isDirty=!0}remove(e){Nv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IU),this.isDirty=!1,this.children.forEach(e)}}function CU(n,e){const t=qr.now(),r=({timestamp:i})=>{const o=i-t;o>=e&&(Rs(r),n(o-e))};return rt.read(r,!0),()=>Rs(r)}const RA=["TopLeft","TopRight","BottomLeft","BottomRight"],AU=RA.length,p1=n=>typeof n=="string"?parseFloat(n):n,m1=n=>typeof n=="number"||Te.test(n);function RU(n,e,t,r,i,o){i?(n.opacity=lt(0,t.opacity!==void 0?t.opacity:1,kU(r)),n.opacityExit=lt(e.opacity!==void 0?e.opacity:1,0,bU(r))):o&&(n.opacity=lt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<AU;l++){const c=`border${RA[l]}Radius`;let d=g1(e,c),f=g1(t,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||m1(d)===m1(f)?(n[c]=Math.max(lt(p1(d),p1(f),r),0),(Hr.test(f)||Hr.test(d))&&(n[c]+="%")):n[c]=f}(e.rotate||t.rotate)&&(n.rotate=lt(e.rotate||0,t.rotate||0,r))}function g1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const kU=kA(0,.5,GC),bU=kA(.5,.95,On);function kA(n,e,t){return r=>r<n?0:r>e?1:t(sl(n,e,r))}function y1(n,e){n.min=e.min,n.max=e.max}function Kn(n,e){y1(n.x,e.x),y1(n.y,e.y)}function v1(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function _1(n,e,t,r,i){return n-=e,n=Wh(n,1/t,r),i!==void 0&&(n=Wh(n,1/i,r)),n}function DU(n,e=0,t=1,r=.5,i,o=n,l=n){if(Hr.test(e)&&(e=parseFloat(e),e=lt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=lt(o.min,o.max,r);n===o&&(c-=e),n.min=_1(n.min,e,t,c,i),n.max=_1(n.max,e,t,c,i)}function w1(n,e,[t,r,i],o,l){DU(n,e[t],e[r],e[i],e.scale,o,l)}const OU=["x","scaleX","originX"],NU=["y","scaleY","originY"];function E1(n,e,t,r){w1(n.x,e,OU,t?t.x:void 0,r?r.x:void 0),w1(n.y,e,NU,t?t.y:void 0,r?r.y:void 0)}function T1(n){return n.translate===0&&n.scale===1}function bA(n){return T1(n.x)&&T1(n.y)}function S1(n,e){return n.min===e.min&&n.max===e.max}function LU(n,e){return S1(n.x,e.x)&&S1(n.y,e.y)}function x1(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function DA(n,e){return x1(n.x,e.x)&&x1(n.y,e.y)}function I1(n){return Ln(n.x)/Ln(n.y)}function P1(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class VU{constructor(){this.members=[]}add(e){Ov(this.members,e),e.scheduleRender()}remove(e){if(Nv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MU(n,e,t){let r="";const i=n.x.translate/e.x,o=n.y.translate/e.y,l=t?.z||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:m,rotateX:g,rotateY:w,skewX:T,skewY:x}=t;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),w&&(r+=`rotateY(${w}deg) `),T&&(r+=`skewX(${T}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=n.x.scale*e.x,d=n.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const vo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Iu=typeof window<"u"&&window.MotionDebug!==void 0,zm=["","X","Y","Z"],FU={visibility:"hidden"},C1=1e3;let jU=0;function Wm(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function OA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=BC(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",rt,!(i||o))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&OA(r)}function NA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=jU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Iu&&(vo.totalNodes=vo.resolvedTargetDeltas=vo.recalculatedProjection=0),this.nodes.forEach($U),this.nodes.forEach(KU),this.nodes.forEach(GU),this.nodes.forEach(zU),Iu&&window.MotionDebug.record(vo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new PU)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Lv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=xU(l),this.instance=l;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||d)&&(this.isLayoutDirty=!0),n){let g;const w=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=CU(w,250),mh.hasAnimatedSinceResize&&(mh.hasAnimatedSinceResize=!1,this.nodes.forEach(R1))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:w,hasRelativeTargetChanged:T,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||m.getDefaultTransition()||ZU,{onLayoutAnimationStart:I,onLayoutAnimationComplete:V}=m.getProps(),M=!this.targetLayout||!DA(this.targetLayout,x)||T,F=!w&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||F||w&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,F);const z={...Rv(R,"layout"),onPlay:I,onComplete:V};(m.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z)}else w||R1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A1);return}this.isUpdating||this.nodes.forEach(HU),this.isUpdating=!1,this.nodes.forEach(qU),this.nodes.forEach(UU),this.nodes.forEach(BU),this.clearAllSnapshots();const c=qr.now();$t.delta=Ei(0,1e3/60,c-$t.timestamp),$t.timestamp=c,$t.isProcessing=!0,Nm.update.process($t),Nm.preRender.process($t),Nm.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_v.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WU),this.sharedNodes.forEach(YU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!bA(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&(c||yo(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),e9(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return vt();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(t9))){const{scroll:m}=this.root;m&&(Ba(d.x,m.offset.x),Ba(d.y,m.offset.y))}return d}removeElementScroll(l){var c;const d=vt();if(Kn(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:w}=m;m!==this.root&&g&&w.layoutScroll&&(g.wasRoot&&Kn(d,l),Ba(d.x,g.offset.x),Ba(d.y,g.offset.y))}return d}applyTransform(l,c=!1){const d=vt();Kn(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&$a(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),yo(m.latestValues)&&$a(d,m.latestValues)}return yo(this.latestValues)&&$a(d,this.latestValues),d}removeTransform(l){const c=vt();Kn(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!yo(f.latestValues))continue;Qg(f.latestValues)&&f.updateSnapshot();const m=vt(),g=f.measurePageBox();Kn(m,g),E1(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return yo(this.latestValues)&&E1(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:w}=this.options;if(!(!this.layout||!(g||w))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Fu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),IA(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Fu(this.relativeTargetOrigin,this.target,T.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Iu&&vo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qg(this.parent.latestValues)||xA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Kn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;fU(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=vt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v1(this.prevProjectionDelta.x,this.projectionDelta.x),v1(this.prevProjectionDelta.y,this.projectionDelta.y)),Mu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!P1(this.projectionDelta.x,this.prevProjectionDelta.x)||!P1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Iu&&vo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ua(),this.projectionDelta=Ua(),this.projectionDeltaWithTransform=Ua()}setAnimationOrigin(l,c=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},g=Ua();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=vt(),T=d?d.source:void 0,x=this.layout?this.layout.source:void 0,R=T!==x,I=this.getStack(),V=!I||I.members.length<=1,M=!!(R&&!V&&this.options.crossfade===!0&&!this.path.some(JU));this.animationProgress=0;let F;this.mixTargetDelta=z=>{const Q=z/1e3;k1(g.x,l.x,Q),k1(g.y,l.y,Q),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XU(this.relativeTarget,this.relativeTargetOrigin,w,Q),F&&LU(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=vt()),Kn(F,this.relativeTarget)),R&&(this.animationValues=m,RU(m,f,this.latestValues,Q,M,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{mh.hasAnimatedSinceResize=!0,this.currentAnimation=SU(0,C1,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:m}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&LA(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||vt();const g=Ln(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const w=Ln(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Kn(c,d),$a(c,m),Mu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new VU),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&Wm("z",l,f,this.animationValues);for(let m=0;m<zm.length;m++)Wm(`rotate${zm[m]}`,l,f,this.animationValues),Wm(`skew${zm[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return FU;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=fh(l?.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=fh(l?.pointerEvents)||""),this.hasProjected&&!yo(this.latestValues)&&(R.transform=m?m({},""):"none",this.hasProjected=!1),R}const w=g.animationValues||g.latestValues;this.applyTransformsToTarget(),f.transform=MU(this.projectionDeltaWithTransform,this.treeScale,w),m&&(f.transform=m(w,f.transform));const{x:T,y:x}=this.projectionDelta;f.transformOrigin=`${T.origin*100}% ${x.origin*100}% 0`,g.animationValues?f.opacity=g===this?(d=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:f.opacity=g===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const R in jh){if(w[R]===void 0)continue;const{correct:I,applyTo:V}=jh[R],M=f.transform==="none"?w[R]:I(w[R],g);if(V){const F=V.length;for(let z=0;z<F;z++)f[V[z]]=M}else f[R]=M}return this.options.layoutId&&(f.pointerEvents=g===this?fh(l?.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(A1),this.root.sharedNodes.clear()}}}function UU(n){n.updateLayout()}function BU(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:o}=n.options,l=t.source!==n.layout.source;o==="size"?Gn(g=>{const w=l?t.measuredBox[g]:t.layoutBox[g],T=Ln(w);w.min=r[g].min,w.max=w.min+T}):LA(o,t.layoutBox,r)&&Gn(g=>{const w=l?t.measuredBox[g]:t.layoutBox[g],T=Ln(r[g]);w.max=w.min+T,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+T)});const c=Ua();Mu(c,r,t.layoutBox);const d=Ua();l?Mu(d,n.applyTransform(i,!0),t.measuredBox):Mu(d,r,t.layoutBox);const f=!bA(c);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:w,layout:T}=g;if(w&&T){const x=vt();Fu(x,t.layoutBox,w.layoutBox);const R=vt();Fu(R,r,T.layoutBox),DA(x,R)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=R,n.relativeTargetOrigin=x,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function $U(n){Iu&&vo.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function zU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function WU(n){n.clearSnapshot()}function A1(n){n.clearMeasurements()}function HU(n){n.isLayoutDirty=!1}function qU(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function R1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function KU(n){n.resolveTargetDelta()}function GU(n){n.calcProjection()}function QU(n){n.resetSkewAndRotation()}function YU(n){n.removeLeadSnapshot()}function k1(n,e,t){n.translate=lt(e.translate,0,t),n.scale=lt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function b1(n,e,t,r){n.min=lt(e.min,t.min,r),n.max=lt(e.max,t.max,r)}function XU(n,e,t,r){b1(n.x,e.x,t.x,r),b1(n.y,e.y,t.y,r)}function JU(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const ZU={duration:.45,ease:[.4,0,.1,1]},D1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),O1=D1("applewebkit/")&&!D1("chrome/")?Math.round:On;function N1(n){n.min=O1(n.min),n.max=O1(n.max)}function e9(n){N1(n.x),N1(n.y)}function LA(n,e,t){return n==="position"||n==="preserve-aspect"&&!rU(I1(e),I1(t),.2)}function t9(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const n9=NA({attachResizeListener:(n,e)=>rc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hm={current:void 0},VA=NA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Hm.current){const n=new n9({});n.mount(window),n.setOptions({layoutScroll:!0}),Hm.current=n}return Hm.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),r9={pan:{Feature:_U},drag:{Feature:vU,ProjectionNode:VA,MeasureLayout:AA}};function L1(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,o=r[i];o&&rt.postRender(()=>o(e,Pc(e)))}class i9 extends Fs{mount(){const{current:e}=this.node;e&&(this.unmount=r3(e,t=>(L1(this.node,t,"Start"),r=>L1(this.node,r,"End"))))}unmount(){}}class s9 extends Fs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ic(rc(this.node.current,"focus",()=>this.onFocus()),rc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function V1(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),o=r[i];o&&rt.postRender(()=>o(e,Pc(e)))}class o9 extends Fs{mount(){const{current:e}=this.node;e&&(this.unmount=a3(e,t=>(V1(this.node,t,"Start"),(r,{success:i})=>V1(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xg=new WeakMap,qm=new WeakMap,a9=n=>{const e=Xg.get(n.target);e&&e(n)},l9=n=>{n.forEach(a9)};function u9({root:n,...e}){const t=n||document;qm.has(t)||qm.set(t,{});const r=qm.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(l9,{root:n,...e})),r[i]}function c9(n,e,t){const r=u9(e);return Xg.set(n,t),r.observe(n),()=>{Xg.delete(n),r.unobserve(n)}}const d9={some:0,all:1};class h9 extends Fs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:d9[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),w=f?m:g;w&&w(d)};return c9(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(f9(e,t))&&this.startObserver()}unmount(){}}function f9({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const p9={inView:{Feature:h9},tap:{Feature:o9},focus:{Feature:s9},hover:{Feature:i9}},m9={layout:{ProjectionNode:VA,MeasureLayout:AA}},Jg={current:null},MA={current:!1};function g9(){if(MA.current=!0,!!pv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jg.current=n.matches;n.addListener(e),e()}else Jg.current=!1}const y9=[...lA,Xt,ks],v9=n=>y9.find(aA(n)),M1=new WeakMap;function _9(n,e,t){for(const r in e){const i=e[r],o=t[r];if(en(i))n.addValue(r,i);else if(en(o))n.addValue(r,tc(i,{owner:n}));else if(o!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,tc(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const F1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class w9{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=qr.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,rt.render(this.render,!1,!0))};const{latestValues:d,renderState:f,onUpdate:m}=l;this.onUpdate=m,this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Rf(t),this.isVariantNode=gC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const T in w){const x=w[T];d[T]!==void 0&&en(x)&&x.set(d[T],!1)}}mount(e){this.current=e,M1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),MA.current||g9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){M1.delete(this.current),this.projection&&this.projection.unmount(),Rs(this.notifyUpdate),Rs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jo.has(e),i=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ol){const t=ol[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<F1.length;r++){const i=F1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=_9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=tc(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(sA(i)||YC(i))?i=parseFloat(i):!v9(i)&&ks.test(t)&&(i=nA(e,t)),this.setBaseTarget(e,en(i)?i.get():i)),en(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=Ev(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!en(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Lv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class FA extends w9{constructor(){super(...arguments),this.KeyframeResolver=uA}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function E9(n){return window.getComputedStyle(n)}class T9 extends FA{constructor(){super(...arguments),this.type="html",this.renderInstance=IC}readValueFromInstance(e,t){if(jo.has(t)){const r=Uv(t);return r&&r.default||0}else{const r=E9(e),i=(TC(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return PA(e,t)}build(e,t,r){xv(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Av(e,t,r)}}class S9 extends FA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(jo.has(t)){const r=Uv(t);return r&&r.default||0}return t=PC.has(t)?t:vv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return RC(e,t,r)}build(e,t,r){Iv(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){CC(e,t,r,i)}mount(e){this.isSVGTag=Cv(e.tagName),super.mount(e)}}const x9=(n,e)=>wv(n)?new S9(e):new T9(e,{allowProjection:n!==A.Fragment}),I9=Yj({...G6,...p9,...r9,...m9},x9),P9=dj(I9);var jA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},j1=pt.createContext&&pt.createContext(jA),C9=["attr","size","title"];function A9(n,e){if(n==null)return{};var t=R9(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function R9(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Hh(){return Hh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hh.apply(this,arguments)}function U1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?U1(Object(t),!0).forEach(function(r){k9(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):U1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function k9(n,e,t){return e=b9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function b9(n){var e=D9(n,"string");return typeof e=="symbol"?e:e+""}function D9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UA(n){return n&&n.map((e,t)=>pt.createElement(e.tag,qh({key:t},e.attr),UA(e.child)))}function Ne(n){return e=>pt.createElement(O9,Hh({attr:qh({},n.attr)},e),UA(n.child))}function O9(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=A9(n,C9),c=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),pt.createElement("svg",Hh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:qh(qh({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&pt.createElement("title",null,o),n.children)};return j1!==void 0?pt.createElement(j1.Consumer,null,t=>e(t)):e(jA)}function Az(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(n)}function Rz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(n)}function kz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function bz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(n)}function Dz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(n)}function Oz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(n)}function Nz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(n)}function BA(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(n)}function Lz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(n)}function Vz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(n)}function Mz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function Fz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(n)}function jz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function Uz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(n)}function Bz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(n)}function $z(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function zz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(n)}function Wz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function $A(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(n)}function zA(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(n)}function Hz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(n)}function qz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(n)}function WA(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function Kz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}function N9(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(n)}function Gz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(n)}function Qz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(n)}function Yz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function Xz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(n)}function Jz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function Zz(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(n)}function e8(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(n)}function t8(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function n8(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(n)}function r8(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(n)}function i8(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(n)}function s8(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function o8(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(n)}function Kh(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function a8(n){return Ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}const L9=()=>{const{currentUser:n,logout:e}=Fo(),{isDemo:t,transactions:r,maxTransactions:i,clearTransactions:o}=av(),l=Ms(),c=Pf(),d=uC({maxWidth:768}),{t:f}=Tc(),m=async()=>{await e(),c("/")},g=async()=>{window.confirm(f("navbar.demoExitConfirm"))&&(await o(),window.location.replace("/soldi-sotto/"))},w=[{label:f("navbar.dashboard"),path:"/dashboard",icon:K.jsx($A,{})},{label:f("navbar.transactions"),path:"/transactions",icon:K.jsx(zA,{})},{label:f("navbar.analytics"),path:"/analytics",icon:K.jsx(BA,{})}];return K.jsx(sC,{basename:"/soldi-sotto",children:K.jsx(P9.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:"fixed-top",style:{height:"64px",backgroundColor:"var(--glass-bg)",backdropFilter:"blur(35px)",WebkitBackdropFilter:"blur(35px)",borderBottom:"1px solid var(--glass-border)",boxShadow:"0 1px 20px rgba(0, 0, 0, 0.08)",zIndex:1030},children:K.jsx("div",{className:"container-fluid h-100",children:K.jsxs("div",{className:"d-flex align-items-center justify-content-between h-100 w-100",children:[K.jsxs("div",{className:"d-flex align-items-center gap-2",children:[K.jsx(fo,{to:"/",className:"text-decoration-none text-dark fw-bold",style:{fontSize:"1.35rem",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",whiteSpace:"nowrap",letterSpacing:"0.01em",lineHeight:1.1,minWidth:"120px",maxWidth:"220px",overflow:"hidden",textOverflow:"ellipsis",marginRight:"8px"},children:"💰 Soldi Sotto"}),t&&K.jsxs(Xy,{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"8px",backgroundColor:"rgba(25, 135, 84, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[r.length,"/",i]})]}),!d&&K.jsxs("div",{className:"d-flex align-items-center gap-2 ms-auto",children:[(n||t)&&w.map(T=>K.jsx(fo,{to:T.path,className:"text-decoration-none px-3 py-2 rounded-pill transition-all",style:{color:l.pathname===T.path?"#0d6efd":"#495057",fontWeight:"500",fontSize:"16px",backgroundColor:l.pathname===T.path?"rgba(13, 110, 253, 0.15)":"transparent",transition:"all 0.2s ease",textShadow:l.pathname===T.path?"0 1px 2px rgba(13, 110, 253, 0.2)":"none"},onMouseEnter:x=>{l.pathname!==T.path&&(x.target.style.backgroundColor="rgba(255, 255, 255, 0.3)",x.target.style.color="#0d6efd",x.target.style.backdropFilter="blur(10px)")},onMouseLeave:x=>{l.pathname!==T.path&&(x.target.style.backgroundColor="transparent",x.target.style.color="#495057",x.target.style.backdropFilter="none")},children:T.label},T.path)),n&&K.jsx(fo,{to:"/profile",className:"text-decoration-none px-3 py-2 rounded-pill transition-all",style:{color:l.pathname==="/profile"?"#0d6efd":"#495057",fontWeight:"500",fontSize:"16px",backgroundColor:l.pathname==="/profile"?"rgba(13, 110, 253, 0.15)":"transparent",transition:"all 0.2s ease",textShadow:l.pathname==="/profile"?"0 1px 2px rgba(13, 110, 253, 0.2)":"none"},onMouseEnter:T=>{l.pathname!=="/profile"&&(T.target.style.backgroundColor="rgba(255, 255, 255, 0.3)",T.target.style.color="#0d6efd",T.target.style.backdropFilter="blur(10px)")},onMouseLeave:T=>{l.pathname!=="/profile"&&(T.target.style.backgroundColor="transparent",T.target.style.color="#495057",T.target.style.backdropFilter="none")},children:f("navbar.profile")}),t&&!n&&K.jsxs(K.Fragment,{children:[K.jsx(ss,{variant:"outline-primary",className:"fw-medium",style:{borderRadius:"10px",fontSize:"15px",padding:"6px 14px",border:"1.2px solid #0d6efd",background:"rgba(13,110,253,0.06)",color:"#0d6efd",minWidth:"0",transition:"all 0.2s"},onClick:g,children:f("navbar.backToHome")}),K.jsx(ss,{variant:"primary",className:"fw-medium",style:{borderRadius:"10px",fontSize:"15px",padding:"6px 14px",background:"rgba(13, 110, 253, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",minWidth:"0"},onClick:()=>c("/register"),children:f("navbar.register")})]}),n&&K.jsx(ss,{variant:"outline-secondary",className:"fw-medium",style:{borderRadius:"10px",fontSize:"15px",padding:"6px 14px",border:"1.2px solid #6c757d",background:"rgba(108,117,125,0.06)",color:"#495057",minWidth:"0",transition:"all 0.2s"},onClick:m,children:f("navbar.logout")})]}),d&&K.jsx("div",{children:n||t?K.jsxs(Nr,{align:"end",children:[K.jsx(Nr.Toggle,{as:ss,variant:"link",className:"text-dark border-0 shadow-none",style:{fontSize:"20px",width:"40px",height:"40px",padding:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.3)",borderRadius:"10px",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:K.jsx(N9,{})}),K.jsxs(Nr.Menu,{className:"border-0 shadow",style:{borderRadius:"16px",backgroundColor:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(25px)",WebkitBackdropFilter:"blur(25px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.15)",minWidth:"200px"},children:[w.map(T=>K.jsxs(Nr.Item,{as:fo,to:T.path,className:"d-flex align-items-center gap-2 py-2",style:{color:l.pathname===T.path?"#0d6efd":"#495057",backgroundColor:l.pathname===T.path?"rgba(13, 110, 253, 0.1)":"transparent",borderRadius:"8px",margin:"2px 8px",fontSize:"15px",fontWeight:"500"},children:[T.icon,T.label]},T.path)),n&&K.jsxs(K.Fragment,{children:[K.jsx(Nr.Divider,{style:{margin:"8px 0",opacity:.3}}),K.jsxs(Nr.Item,{as:fo,to:"/profile",className:"d-flex align-items-center gap-2 py-2",style:{color:l.pathname==="/profile"?"#0d6efd":"#495057",backgroundColor:l.pathname==="/profile"?"rgba(13, 110, 253, 0.1)":"transparent",borderRadius:"8px",margin:"2px 8px",fontSize:"15px",fontWeight:"500"},children:[K.jsx(Kh,{}),f("navbar.profile")]})]}),t&&!n&&K.jsxs(K.Fragment,{children:[K.jsx(Nr.Divider,{style:{margin:"8px 0",opacity:.3}}),K.jsxs(Nr.Item,{onClick:()=>c("/register"),className:"d-flex align-items-center gap-2 py-2 fw-medium text-primary",style:{borderRadius:"8px",margin:"2px 8px",fontSize:"15px",fontWeight:"600"},children:[K.jsx(Kh,{}),f("navbar.register")]})]}),n&&K.jsxs(K.Fragment,{children:[K.jsx(Nr.Divider,{style:{margin:"8px 0",opacity:.3}}),K.jsxs(Nr.Item,{onClick:m,className:"d-flex align-items-center gap-2 py-2 text-danger",style:{borderRadius:"8px",margin:"2px 8px",fontSize:"15px",fontWeight:"500"},children:[K.jsx(WA,{}),f("navbar.logout")]})]})]})]}):K.jsxs("div",{className:"d-flex gap-2",children:[K.jsx(fo,{to:"/login",children:K.jsx(ss,{variant:"link",size:"sm",className:"text-muted text-decoration-none",style:{fontSize:"14px"},children:"Login"})}),K.jsx(fo,{to:"/register",children:K.jsx(ss,{variant:"primary",size:"sm",className:"fw-medium",style:{borderRadius:"12px",fontSize:"14px",padding:"6px 12px",background:"rgba(13, 110, 253, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:"Registrati"})})]})})]})})})})},V9=()=>{const n=Ms(),e=Pf(),{currentUser:t,logout:r}=Fo(),{isDemo:i,transactions:o,maxTransactions:l}=av(),[c,d]=A.useState(!0),[f,m]=A.useState(0),{t:g}=Tc();A.useEffect(()=>{let R=!1;const I=()=>{R||(window.requestAnimationFrame(()=>{const V=window.scrollY;V>f&&V>40?d(!1):d(!0),m(V),R=!1}),R=!0)};return window.addEventListener("scroll",I,{passive:!0}),()=>window.removeEventListener("scroll",I)},[f]);const w=async()=>{await r(),e("/")},T=[{key:"/dashboard",icon:K.jsx($A,{size:20}),label:g("navbar.dashboard"),path:"/dashboard"},{key:"/transactions",icon:K.jsx(zA,{size:20}),label:g("navbar.transactions"),path:"/transactions",badge:i?`${o.length}/${l}`:null},{key:"/analytics",icon:K.jsx(BA,{size:20}),label:g("navbar.analytics"),path:"/analytics"},...t?[{key:"/profile",icon:K.jsx(Kh,{size:20}),label:g("navbar.profile"),path:"/profile"}]:i?[{key:"register",icon:K.jsx(Kh,{size:20}),label:g("navbar.register"),action:()=>e("/register")}]:[{key:"logout",icon:K.jsx(WA,{size:20}),label:g("navbar.logout"),action:w}]],x=R=>{R.action?R.action():e(R.path)};return K.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"60px",background:"var(--glass-bg)",borderTop:"1px solid var(--glass-border)",display:"flex",alignItems:"center",justifyContent:"space-around",padding:"0 8px",zIndex:1030,boxShadow:"0 -4px 25px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(25px)",WebkitBackdropFilter:"blur(25px)",transition:"transform 0.35s cubic-bezier(.4,2,.6,1)",transform:c?"translateY(0)":"translateY(100%)",pointerEvents:c?"auto":"none"},children:T.map(R=>{const I=n.pathname===R.path;return K.jsxs("button",{onClick:()=>x(R),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"8px",background:I?"rgba(13, 110, 253, 0.15)":"transparent",border:"none",cursor:"pointer",transition:"all 0.2s ease",color:I?"#0d6efd":"#6c757d",minWidth:"56px",minHeight:"44px",borderRadius:"12px",backdropFilter:I?"blur(10px)":"none",boxShadow:I?"0 2px 8px rgba(13, 110, 253, 0.2)":"none",WebkitTapHighlightColor:"transparent"},onTouchStart:V=>{I||(V.currentTarget.style.background="rgba(255, 255, 255, 0.4)",V.currentTarget.style.transform="scale(0.95)",V.currentTarget.style.backdropFilter="blur(10px)")},onTouchEnd:V=>{I||(V.currentTarget.style.background="transparent",V.currentTarget.style.transform="scale(1)",V.currentTarget.style.backdropFilter="none")},children:[K.jsxs("div",{className:"position-relative",children:[K.jsx("div",{style:{marginBottom:"2px",transform:I?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease",filter:I?"drop-shadow(0 1px 2px rgba(13, 110, 253, 0.3))":"none"},children:R.icon}),R.badge&&K.jsx(Xy,{className:"position-absolute top-0 start-100 translate-middle",style:{fontSize:"9px",padding:"2px 4px",borderRadius:"8px",lineHeight:"1",marginTop:"-2px",marginLeft:"-2px",backgroundColor:"rgba(13, 110, 253, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:R.badge})]}),K.jsx("span",{style:{fontSize:"10px",fontWeight:I?"600":"400",textAlign:"center",lineHeight:"1",marginTop:"2px",textShadow:I?"0 1px 2px rgba(13, 110, 253, 0.3)":"none"},children:R.label})]},R.key)})})},HA=({children:n})=>{HA.propTypes={children:be.node.isRequired};const e=Ms(),{currentUser:t}=Fo(),{isDemo:r}=av(),i=uC({maxWidth:768}),c=!["/","/login","/register"].includes(e.pathname)&&(t||r);return K.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh",background:"var(--background-primary)"},children:[c&&!i&&K.jsx(L9,{}),K.jsx("main",{style:{flex:1,position:"relative",overflowX:"hidden",minHeight:c?i?"calc(100vh - 60px)":"calc(100vh - 64px)":"100vh",paddingTop:c?i?"2.5rem":"64px":"0",paddingBottom:c&&i?"60px":"0",paddingLeft:i?"1rem":"2rem",paddingRight:i?"1rem":"2rem",background:"var(--background-primary)",transition:"all var(--transition-base)"},children:n}),c&&i&&K.jsx(V9,{})]})},M9=A.lazy(()=>Ii(()=>import("./Dashboard-DHD2KXCS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),F9=A.lazy(()=>Ii(()=>import("./TransactionList-CfAFCKi5.js"),__vite__mapDeps([9,1,2,3,4,5,6,7,10,11,12,13]))),j9=A.lazy(()=>Ii(()=>import("./TransactionAnalytics-BEd6VfXa.js"),__vite__mapDeps([14,7,2,10,5,4,12,6,8,13]))),U9=A.lazy(()=>Ii(()=>import("./Stats-Bv0Vt7lx.js").then(n=>n.S),__vite__mapDeps([15,10,7,11,16,5,4,6,8]))),B9=A.lazy(()=>Ii(()=>import("./Profile-DNg01cEC.js"),__vite__mapDeps([17,7,8,4,6,5,3]))),$9=A.lazy(()=>Ii(()=>import("./Home-BkJXo8pX.js"),__vite__mapDeps([18,19,6,4,8,16]))),z9=A.lazy(()=>Ii(()=>import("./LandingPage-DZRKJSDj.js"),__vite__mapDeps([19,6,4,8]))),W9=A.lazy(()=>Ii(()=>import("./Login-jcCiWKX4.js"),__vite__mapDeps([20,12,4,5]))),H9=A.lazy(()=>Ii(()=>import("./Register-CNBJekAy.js"),__vite__mapDeps([21,12,4,5]))),q9=()=>K.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",style:{background:"var(--background-primary)"},children:K.jsx(bP,{animation:"border",variant:"primary"})}),Zg=({children:n})=>{Zg.propTypes={children:be.node.isRequired};const{currentUser:e,loading:t}=Fo();return t?K.jsx(q9,{}):e?K.jsx(iC,{to:"/dashboard",replace:!0}):n},K9=()=>K.jsx(sC,{basename:"/soldi-sotto",children:K.jsx(HA,{children:K.jsx(A.Suspense,{fallback:K.jsx("div",{children:"Loading..."}),children:K.jsxs(T5,{children:[K.jsx(yr,{path:"/",element:K.jsx($9,{})}),K.jsx(yr,{path:"/login",element:K.jsx(Zg,{children:K.jsx(W9,{})})}),K.jsx(yr,{path:"/register",element:K.jsx(Zg,{children:K.jsx(H9,{})})}),K.jsx(yr,{path:"/dashboard",element:K.jsx(M9,{})}),K.jsx(yr,{path:"/transactions",element:K.jsx(F9,{})}),K.jsx(yr,{path:"/analytics",element:K.jsx(j9,{})}),K.jsx(yr,{path:"/stats",element:K.jsx(U9,{})}),K.jsx(yr,{path:"/profile",element:K.jsx(B9,{})}),K.jsx(yr,{path:"/landing",element:K.jsx(z9,{})}),K.jsx(yr,{path:"*",element:K.jsx(iC,{to:"/",replace:!0})})]})})})});function G9(){return K.jsx(aS,{children:K.jsx(zP,{children:K.jsx(Ky,{children:K.jsx(lv,{children:K.jsx(K9,{})})})})})}const Ae=n=>typeof n=="string",pu=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},B1=n=>n==null?"":""+n,Q9=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},Y9=/###/g,$1=n=>n&&n.indexOf("###")>-1?n.replace(Y9,"."):n,z1=n=>!n||Ae(n),ju=(n,e,t)=>{const r=Ae(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(z1(n))return{};const o=$1(r[i]);!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={},++i}return z1(n)?{}:{obj:n,k:$1(r[i])}},W1=(n,e,t)=>{const{obj:r,k:i}=ju(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let o=e[e.length-1],l=e.slice(0,e.length-1),c=ju(n,l,Object);for(;c.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),c=ju(n,l,Object),c?.obj&&typeof c.obj[`${c.k}.${o}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${o}`]=t},X9=(n,e,t,r)=>{const{obj:i,k:o}=ju(n,e,Object);i[o]=i[o]||[],i[o].push(t)},Gh=(n,e)=>{const{obj:t,k:r}=ju(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},J9=(n,e,t)=>{const r=Gh(n,t);return r!==void 0?r:Gh(e,t)},qA=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Ae(n[r])||n[r]instanceof String||Ae(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):qA(n[r],e[r],t):n[r]=e[r]);return n},Ra=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Z9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const eB=n=>Ae(n)?n.replace(/[&<>"'\/]/g,e=>Z9[e]):n;class tB{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const nB=[" ",",","?","!",";"],rB=new tB(20),iB=(n,e,t)=>{e=e||"",t=t||"";const r=nB.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(r.length===0)return!0;const i=rB.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!i.test(n);if(!o){const l=n.indexOf(t);l>0&&!i.test(n.substring(0,l))&&(o=!0)}return o},ey=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let l,c="";for(let d=o;d<r.length;++d)if(d!==o&&(c+=t),c+=r[d],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;o+=d-o+1;break}i=l}return i},ic=n=>n?.replace("_","-"),sB={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class Qh{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||sB,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Ae(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Qh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Qh(this.logger,e)}}var Vr=new Qh;class Df{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let l=0;l<o;l++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let l=0;l<o;l++)i.apply(i,[e,...t])})}}class H1 extends Df{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],r&&(Array.isArray(r)?c.push(...r):Ae(r)&&o?c.push(...r.split(o)):c.push(r)));const d=Gh(this.data,c);return!d&&!t&&!r&&e.indexOf(".")>-1&&(e=c[0],t=c[1],r=c.slice(2).join(".")),d||!l||!Ae(r)?d:ey(this.data?.[e]?.[t],r,o)}addResource(e,t,r,i,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[e,t];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),i=t,t=c[1]),this.addNamespaces(t),W1(this.data,c,i),o.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const o in r)(Ae(r[o])||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,o,l={silent:!1,skipCopy:!1}){let c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),i=r,r=t,t=c[1]),this.addNamespaces(t);let d=Gh(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?qA(d,r,o):d={...d,...r},W1(this.data,c,d),l.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var KA={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(o=>{e=this.processors[o]?.process(e,t,r,i)??e}),e}};const q1={},K1=n=>!Ae(n)&&typeof n!="boolean"&&typeof n!="number";class Yh extends Df{constructor(e,t={}){super(),Q9(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Vr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!iB(e,r,i);if(l&&!c){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Ae(o)?[o]:o};const f=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(f[0])>-1)&&(o=f.shift()),e=f.join(i)}return{key:e,namespaces:Ae(o)?[o]:o}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],i),f=d[d.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const g=i.lng||this.language,w=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return w?o?{res:`${f}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:`${f}${m}${c}`:o?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:c;const T=this.resolve(e,i);let x=T?.res;const R=T?.usedKey||c,I=T?.exactUsedKey||c,V=["[object Number]","[object Function]","[object RegExp]"],M=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,F=!this.i18nFormat||this.i18nFormat.handleAsObject,z=i.count!==void 0&&!Ae(i.count),Q=Yh.hasDefaultValue(i),X=z?this.pluralResolver.getSuffix(g,i.count,i):"",D=i.ordinal&&z?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",P=z&&!i.ordinal&&i.count===0,k=P&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${X}`]||i[`defaultValue${D}`]||i.defaultValue;let N=x;F&&!x&&Q&&(N=k);const L=K1(N),U=Object.prototype.toString.apply(N);if(F&&N&&L&&V.indexOf(U)<0&&!(Ae(M)&&Array.isArray(N))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,N,{...i,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return o?(T.res=b,T.usedParams=this.getUsedParamsDetails(i),T):b}if(l){const b=Array.isArray(N),ve=b?[]:{},Fe=b?I:R;for(const Re in N)if(Object.prototype.hasOwnProperty.call(N,Re)){const he=`${Fe}${l}${Re}`;Q&&!x?ve[Re]=this.translate(he,{...i,defaultValue:K1(k)?k[Re]:void 0,joinArrays:!1,ns:d}):ve[Re]=this.translate(he,{...i,joinArrays:!1,ns:d}),ve[Re]===he&&(ve[Re]=N[Re])}x=ve}}else if(F&&Ae(M)&&Array.isArray(x))x=x.join(M),x&&(x=this.extendTranslation(x,e,i,r));else{let b=!1,ve=!1;!this.isValidLookup(x)&&Q&&(b=!0,x=k),this.isValidLookup(x)||(ve=!0,x=c);const Re=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ve?void 0:x,he=Q&&k!==x&&this.options.updateMissing;if(ve||b||he){if(this.logger.log(he?"updateKey":"missingKey",g,f,c,he?k:x),l){const $=this.resolve(c,{...i,keySeparator:!1});$&&$.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&le&&le[0])for(let $=0;$<le.length;$++)re.push(le[$]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(i.lng||this.language):re.push(i.lng||this.language);const se=($,J,fe)=>{const Se=Q&&fe!==x?fe:Re;this.options.missingKeyHandler?this.options.missingKeyHandler($,f,J,Se,he,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing($,f,J,Se,he,i),this.emit("missingKey",$,f,J,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?re.forEach($=>{const J=this.pluralResolver.getSuffixes($,i);P&&i[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(fe=>{se([$],c+fe,i[`defaultValue${fe}`]||k)})}):se(re,c,k))}x=this.extendTranslation(x,e,i,T,r),ve&&x===c&&this.options.appendNamespaceToMissingKey&&(x=`${f}${m}${c}`),(ve||b)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${m}${c}`:c,b?x:void 0,i))}return o?(T.res=x,T.usedParams=this.getUsedParamsDetails(i),T):x}extendTranslation(e,t,r,i,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=Ae(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const g=e.match(this.interpolator.nestingRegexp);f=g&&g.length}let m=r.replace&&!Ae(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,r.lng||this.language||i.usedLng,r),d){const g=e.match(this.interpolator.nestingRegexp),w=g&&g.length;f<w&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>o?.[0]===g[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${t[0]}`),null):this.translate(...g,t),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=Ae(l)?[l]:l;return e!=null&&c?.length&&r.applyPostProcessor!==!1&&(e=KA.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,o,l,c;return Ae(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const f=this.extractFromKey(d,t),m=f.key;i=m;let g=f.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const w=t.count!==void 0&&!Ae(t.count),T=w&&!t.ordinal&&t.count===0,x=t.context!==void 0&&(Ae(t.context)||typeof t.context=="number")&&t.context!=="",R=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);g.forEach(I=>{this.isValidLookup(r)||(c=I,!q1[`${R[0]}-${I}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(q1[`${R[0]}-${I}`]=!0,this.logger.warn(`key "${i}" for languages "${R.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),R.forEach(V=>{if(this.isValidLookup(r))return;l=V;const M=[m];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(M,m,V,I,t);else{let z;w&&(z=this.pluralResolver.getSuffix(V,t.count,t));const Q=`${this.options.pluralSeparator}zero`,X=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(M.push(m+z),t.ordinal&&z.indexOf(X)===0&&M.push(m+z.replace(X,this.options.pluralSeparator)),T&&M.push(m+Q)),x){const D=`${m}${this.options.contextSeparator}${t.context}`;M.push(D),w&&(M.push(D+z),t.ordinal&&z.indexOf(X)===0&&M.push(D+z.replace(X,this.options.pluralSeparator)),T&&M.push(D+Q))}}let F;for(;F=M.pop();)this.isValidLookup(r)||(o=F,r=this.getResource(V,I,F,t))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ae(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of t)delete i[o]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class G1{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Vr.create("languageUtils")}getScriptPartFromCode(e){if(e=ic(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=ic(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ae(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ae(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],o=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Ae(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Ae(e)&&o(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&o(this.formatLanguageCode(l))}),i}}const Q1={zero:0,one:1,two:2,few:3,many:4,other:5},Y1={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class oB{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Vr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=ic(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Y1;if(!e.match(/-|_/))return Y1;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,t)}return this.pluralRulesCache[o]=l,l}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>Q1[i]-Q1[o]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const X1=(n,e,t,r=".",i=!0)=>{let o=J9(n,e,t);return!o&&i&&Ae(t)&&(o=ey(n,t,r),o===void 0&&(o=ey(e,t,r))),o},Km=n=>n.replace(/\$/g,"$$$$");class aB{constructor(e={}){this.logger=Vr.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:f,unescapeSuffix:m,unescapePrefix:g,nestingPrefix:w,nestingPrefixEscaped:T,nestingSuffix:x,nestingSuffixEscaped:R,nestingOptionsSeparator:I,maxReplaces:V,alwaysFormat:M}=e.interpolation;this.escape=t!==void 0?t:eB,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Ra(o):l||"{{",this.suffix=c?Ra(c):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=m?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=w?Ra(w):T||Ra("$t("),this.nestingSuffix=x?Ra(x):R||Ra(")"),this.nestingOptionsSeparator=I||",",this.maxReplaces=V||1e3,this.alwaysFormat=M!==void 0?M:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){let o,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=T=>{if(T.indexOf(this.formatSeparator)<0){const V=X1(t,d,T,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(V,void 0,r,{...i,...t,interpolationkey:T}):V}const x=T.split(this.formatSeparator),R=x.shift().trim(),I=x.join(this.formatSeparator).trim();return this.format(X1(t,d,R,this.options.keySeparator,this.options.ignoreJSONStructure),I,r,{...i,...t,interpolationkey:R})};this.resetRegExp();const m=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:T=>Km(T)},{regex:this.regexp,safeValue:T=>this.escapeValue?Km(this.escape(T)):Km(T)}].forEach(T=>{for(c=0;o=T.regex.exec(e);){const x=o[1].trim();if(l=f(x),l===void 0)if(typeof m=="function"){const I=m(e,o,i);l=Ae(I)?I:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))l="";else if(g){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),l="";else!Ae(l)&&!this.useRawValueToEscape&&(l=B1(l));const R=T.safeValue(l);if(e=e.replace(o[0],R),g?(T.regex.lastIndex+=l.length,T.regex.lastIndex-=o[0].length):T.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,o,l;const c=(d,f)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const g=d.split(new RegExp(`${m}[ ]*{`));let w=`{${g[1]}`;d=g[0],w=this.interpolate(w,l);const T=w.match(/'/g),x=w.match(/"/g);((T?.length??0)%2===0&&!x||x.length%2!==0)&&(w=w.replace(/'/g,'"'));try{l=JSON.parse(w),f&&(l={...f,...l})}catch(R){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,R),`${d}${m}${w}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!Ae(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const f=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(f!==-1&&(d=i[1].slice(f).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),i[1]=i[1].slice(0,f)),o=t(c.call(this,i[1].trim(),l),l),o&&i[0]===e&&!Ae(o))return o;Ae(o)||(o=B1(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),d.length&&(o=d.reduce((m,g)=>this.format(m,g,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const lB=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();t[m]||(t[m]=f),f==="false"&&(t[m]=!1),f==="true"&&(t[m]=!0),isNaN(f)||(t[m]=parseInt(f,10))}})}return{formatName:e,formatOptions:t}},J1=n=>{const e={};return(t,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const l=r+JSON.stringify(o);let c=e[l];return c||(c=n(ic(r),i),e[l]=c),c(t)}},uB=n=>(e,t,r)=>n(ic(t),r)(e);class cB{constructor(e={}){this.logger=Vr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?J1:uB;this.formats={number:r((i,o)=>{const l=new Intl.NumberFormat(i,{...o});return c=>l.format(c)}),currency:r((i,o)=>{const l=new Intl.NumberFormat(i,{...o,style:"currency"});return c=>l.format(c)}),datetime:r((i,o)=>{const l=new Intl.DateTimeFormat(i,{...o});return c=>l.format(c)}),relativetime:r((i,o)=>{const l=new Intl.RelativeTimeFormat(i,{...o});return c=>l.format(c,o.range||"day")}),list:r((i,o)=>{const l=new Intl.ListFormat(i,{...o});return c=>l.format(c)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=J1(t)}format(e,t,r,i={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(c=>c.indexOf(")")>-1)){const c=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,c)].join(this.formatSeparator)}return o.reduce((c,d)=>{const{formatName:f,formatOptions:m}=lB(d);if(this.formats[f]){let g=c;try{const w=i?.formatParams?.[i.interpolationkey]||{},T=w.locale||w.lng||i.locale||i.lng||r;g=this.formats[f](c,T,{...m,...i,...w})}catch(w){this.logger.warn(w)}return g}else this.logger.warn(`there was no format function for ${f}`);return c},e)}}const dB=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class hB extends Df{constructor(e,t,r,i={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Vr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,t,r,i){const o={},l={},c={},d={};return e.forEach(f=>{let m=!0;t.forEach(g=>{const w=`${f}|${g}`;!r.reload&&this.store.hasResourceBundle(f,g)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?l[w]===void 0&&(l[w]=!0):(this.state[w]=1,m=!1,l[w]===void 0&&(l[w]=!0),o[w]===void 0&&(o[w]=!0),d[g]===void 0&&(d[g]=!0)))}),m||(c[f]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,t,r){const i=e.split("|"),o=i[0],l=i[1];t&&this.emit("failedLoading",o,l,t),!t&&r&&this.store.addResourceBundle(o,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const c={};this.queue.forEach(d=>{X9(d.loaded,[o],l),dB(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{c[f]||(c[f]={});const m=d.loaded[f];m.length&&m.forEach(g=>{c[f][g]===void 0&&(c[f][g]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,t,r,i=0,o=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:o,callback:l});return}this.readingCalls++;const c=(f,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(f&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,o*2,l)},o);return}l(f,m)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const f=d(e,t);f&&typeof f.then=="function"?f.then(m=>c(null,m)).catch(c):c(null,f)}catch(f){c(f)}return}return d(e,t,c)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ae(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ae(t)&&(t=[t]);const o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${t}loading namespace ${o} for language ${i} failed`,l),!l&&c&&this.logger.log(`${t}loaded namespace ${o} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,t,r,i,o,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const d={...l,isUpdate:o},f=this.backend.create.bind(this.backend);if(f.length<6)try{let m;f.length===5?m=f(e,t,r,i,d):m=f(e,t,r,i),m&&typeof m.then=="function"?m.then(g=>c(null,g)).catch(c):c(null,m)}catch(m){c(m)}else f(e,t,r,i,c,d)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const Z1=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Ae(n[1])&&(e.defaultValue=n[1]),Ae(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),eS=n=>(Ae(n.ns)&&(n.ns=[n.ns]),Ae(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Ae(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),eh=()=>{},fB=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class sc extends Df{constructor(e={},t){if(super(),this.options=eS(e),this.services={},this.logger=Vr,this.modules={external:[]},fB(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Ae(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Z1();this.options={...r,...this.options,...eS(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Vr.init(i(this.modules.logger),this.options):Vr.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=cB;const m=new G1(this.options);this.store=new H1(this.options.resources,this.options);const g=this.services;g.logger=Vr,g.resourceStore=this.store,g.languageUtils=m,g.pluralResolver=new oB(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=i(f),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new aB(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new hB(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(T,...x)=>{this.emit(T,...x)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Yh(this.services,this.options),this.translator.on("*",(T,...x)=>{this.emit(T,...x)}),this.modules.external.forEach(T=>{T.init&&T.init(this)})}if(this.format=this.options.interpolation.format,t||(t=eh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...m)=>this.store[f](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...m)=>(this.store[f](...m),this)});const c=pu(),d=()=>{const f=(m,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),t(m,g)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e,t=eh){let r=t;const i=Ae(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,t,r){const i=pu();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=eh),this.services.backendConnector.reload(e,t,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&KA.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=pu();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...f)=>this.t(...f)),t&&t(c,(...f)=>this.t(...f))},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=Ae(c)?c:c&&c[0],f=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Ae(c)?[c]:c);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,m=>{o(m,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,t,r){const i=(o,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(c)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);const f=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(o)?m=o.map(g=>`${d.keyPrefix}${f}${g}`):m=d.keyPrefix?`${d.keyPrefix}${f}${o}`:o,this.t(m,d)};return Ae(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const f=this.services.backendConnector.state[`${c}|${d}`];return f===-1||f===0||f===2};if(t.precheck){const c=t.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(o,e)))}loadNamespaces(e,t){const r=pu();return this.options.ns?(Ae(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=pu();Ae(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=i.concat(o),this.loadResources(l=>{r.resolve(),t&&t(l)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";if(Intl.Locale){const i=new Intl.Locale(e);if(i&&i.getTextInfo){const o=i.getTextInfo();if(o&&o.direction)return o.direction}}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new G1(Z1());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new sc(e,t)}cloneInstance(e={},t=eh){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new sc(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const c=Object.keys(this.store.data).reduce((d,f)=>(d[f]={...this.store.data[f]},d[f]=Object.keys(d[f]).reduce((m,g)=>(m[g]={...d[f][g]},m),d[f]),d),{});o.store=new H1(c,i),o.services.resourceStore=o.store}return o.translator=new Yh(o.services,i),o.translator.on("*",(c,...d)=>{o.emit(c,...d)}),o.init(i,t),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const rn=sc.createInstance();rn.createInstance=sc.createInstance;rn.createInstance;rn.dir;rn.init;rn.loadResources;rn.reloadResources;rn.use;rn.changeLanguage;rn.getFixedT;rn.t;rn.exists;rn.setDefaultNamespace;rn.hasLoadedNamespace;rn.loadNamespaces;rn.loadLanguages;const{slice:pB,forEach:mB}=[];function gB(n){return mB.call(pB.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function yB(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const tS=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,vB=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let o=`${n}=${i}`;if(r.maxAge>0){const l=r.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(r.domain){if(!tS.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!tS.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},nS={create(n,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),r&&(i.domain=r),document.cookie=vB(n,e,i)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var _B={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return nS.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=e;t&&typeof document<"u"&&nS.create(t,n,r,i,o)}},wB={name:"querystring",lookup(n){let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const o=r.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(t=o[l].substring(c+1))}}return t}},EB={name:"hash",lookup(n){let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const o=i.substring(1);if(e){const l=o.split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===e&&(r=l[c].substring(d+1))}}if(r)return r;if(!r&&t>-1){const l=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return r}};let ka=null;const rS=()=>{if(ka!==null)return ka;try{if(ka=typeof window<"u"&&window.localStorage!==null,!ka)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{ka=!1}return ka};var TB={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&rS())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&rS()&&window.localStorage.setItem(t,n)}};let ba=null;const iS=()=>{if(ba!==null)return ba;try{if(ba=typeof window<"u"&&window.sessionStorage!==null,!ba)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{ba=!1}return ba};var SB={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&iS())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&iS()&&window.sessionStorage.setItem(t,n)}},xB={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:i}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},IB={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},PB={name:"path",lookup(n){let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},CB={name:"subdomain",lookup(n){let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}};let GA=!1;try{document.cookie,GA=!0}catch{}const QA=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];GA||QA.splice(1,1);const AB=()=>({order:QA,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class YA{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=gB(t,this.options||{},AB()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(_B),this.addDetector(wB),this.addDetector(TB),this.addDetector(SB),this.addDetector(xB),this.addDetector(IB),this.addDetector(PB),this.addDetector(CB),this.addDetector(EB)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(r=>r!=null&&!yB(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}YA.type="languageDetector";const RB="SoldiSotto",kB="Hello, {{name}}!",bB="Add Transaction",DB="Quick Actions",OB={title:"Recent Transactions",viewAll:"View all",manageAll:"Manage all transactions",emptyTitle:"No transactions yet",emptyDescription:"Start by adding your first transaction to see the summary here.",addFirst:"Add your first transaction"},NB="Income",LB="Expense",VB="Manage All",MB={statsTitle:"Your Statistics",settingsTitle:"Settings",theme:"Appearance",themeLight:"Light",themeDark:"Dark",themeSystem:"System",currentTheme:"Current theme",language:"Language",currentLanguage:"Current language",username:"Username",edit:"Edit",currentUsername:"Current username",totalTransactions:"Total Transactions",currentBalance:"Current Balance",daysActive:"Days Active",days:"days",user:"User",registeredOn:"Registered on",dateNotAvailable:"Date not available",account:"Account",accountInfo:"Your settings are saved automatically. Your data is protected with end-to-end encryption.",backToDashboard:"Back to Dashboard",editUsername:"Edit Username",newUsername:"New Username",usernamePlaceholder:"Enter new username",usernameHelp:"Username must be at least 3 characters and availability will be verified",updating:"Updating...",usernameMinLength:"Username must be at least 3 characters",usernameSame:"Username is the same as current",usernameConfirm:`Are you sure you want to change your username from "{{currentUsername}}" to "{{newUsername}}"?

This action cannot be undone.`,usernameUnavailable:"Username already taken",usernameSuccess:"Username updated successfully!",usernameError:"Error updating username",usernamePermissionError:"Insufficient permissions to update username",usernameNetworkError:"Connection error. Please try again later"},FB="Logout",jB="What do you want to record today?",UB="Managing your finances is the first step to freedom.",BB="No transactions yet. Add your first one!",$B="Your Transactions",zB="Search transactions...",WB="Type",HB="Amount (€)",qB="Date",KB="Description",GB="Category",QB="Cancel",YB="Add",XB="Are you sure you want to delete this transaction? This action cannot be undone.",JB="Edit",ZB="Save",e$="Actions",t$="No data available.",n$="Loading...",r$="An error occurred.",i$={title:"Create Account",subtitle:"Start your financial journey",username:"Username",usernamePlaceholder:"choose a username",usernameHelp:"Min. 3 characters",usernameMin:"Min. 3 characters",email:"Email",emailPlaceholder:"your email",password:"Password",passwordPlaceholder:"create a password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"repeat your password",registerButton:"Create Account",haveAccount:"Already have an account?",loginNow:"Login now",backToHome:"Back to Home"},s$={title:"Welcome back!",subtitle:"Sign in to your account",usernameOrEmail:"Username or Email",usernameOrEmailPlaceholder:"username or email",usernameOrEmailHelp:"Enter your registration email to sign in",password:"Password",passwordPlaceholder:"enter your password",loginButton:"Login",noAccount:"Don't have an account?",registerNow:"Register now",backToHome:"Back to Home"},o$="Are you sure you want to logout?",a$={title:"Dashboard",addTransaction:"Add Transaction",motivationalQuotes:["Every euro saved is a euro earned.","The best investment is you.","Small steps, big results.","Managing your finances is the first step to freedom.","Don't count the cents, make them count!","Wealth is built one day at a time.","The future belongs to those who plan it.","Save today to live better tomorrow.","It's not how much you earn, but how much you save that counts.","Financial discipline is the key to success."]},l$={add:"Add Transaction",edit:"Edit Transaction",delete:"Delete Transaction",confirmDelete:"Are you sure you want to delete this transaction? This action cannot be undone.",empty:"No transactions yet. Add your first one!",amount:"Amount (€)",date:"Date",description:"Description",category:"Category",type:"Transaction Type",income:"Income",expense:"Expense",addIncome:"Add Income",addExpense:"Add Expense",saveChanges:"Save Changes",cancel:"Cancel"},u$={dashboard:"Dashboard",transactions:"Transactions",analytics:"Analytics",profile:"Profile",logout:"Logout",register:"Register",backToHome:"Back to Home",demoExitConfirm:"You will exit demo mode and return to the landing page. Continue?"},c$={heroTitle:"Soldi Sotto",heroSubtitle:"Your personal finance under control. Manage income and expenses, view detailed statistics and make informed decisions for your financial future.",tryDemo:"Try Free Demo",register:"Register Free",login:"Login",mainFeatures:"Main Features",startToday:"Start Today",chooseHowToStart:"Choose how to start your journey to financial freedom",demo:"Free Demo",premium:"Full Account",free:"Free",demoFeatures:["✓ Up to 10 demo transactions","✓ All basic features","✓ View statistics","✓ No registration required"],premiumFeatures:["✓ Unlimited transactions","✓ Advanced PDF export","✓ Detailed statistics","✓ Secure cloud backup","✓ Priority support"],ctaTitle:"Ready to Take Control of Your Finances?",ctaSubtitle:"Join thousands of users who have already transformed their financial management"},d$={title:"Financial Overview",totalIncome:"Total Income",totalExpense:"Total Expense",balance:"Balance",totalTransactions:"total transactions"},h$={title:"Analytics & Insights",subtitle:"Analyze your financial habits and discover hidden patterns",thisMonth:"This month",lastMonth:"Last month",last3Months:"Last 3 months",thisYear:"This year",custom:"Custom...",from:"From",to:"to",demoMode:"Demo Mode Active",demoDescription:"Viewing demo analytics with {{current}}/{{max}} transactions. Register for complete and historical analytics!",totalIncome:"Total Income",totalExpense:"Total Expense",balance:"Balance",savingsRate:"Savings Rate",topExpenseCategories:"Top Expense Categories",topIncomeCategories:"Top Income Categories",ofTotal:"of total",noExpenseData:"No expenses in selected period",noIncomeData:"No income in selected period",monthlyTrend:"Last 6 Months Trend",insufficientData:"Insufficient data to show trend",avgDailyExpense:"Average Daily Expense",avgTransaction:"Average Transaction",avgTransactionDescription:"Average amount per transaction",totalTransactions:"Total Transactions",inSelectedPeriod:"In selected period"},f$={editTitle:"Edit Transaction",newTitle:"New Transaction",editSubtitle:"Modify transaction details",newSubtitle:"Quickly add a new transaction",type:"Transaction Type",expense:"Expense",income:"Income",amount:"Amount (€)",amountPlaceholder:"0.00",date:"Date",description:"Description",descriptionPlaceholder:"E.g. Grocery shopping, Salary...",category:"Category",selectCategory:"Select a category",cancel:"Cancel",saving:"Saving...",adding:"Adding...",saveChanges:"Save Changes",addButton:"Add {{type}}"},p$={title:"Your transactions",loadingTransactions:"Loading transactions...",accessRequired:"Access required",loginRequired:"Please login to view your transactions",today:"Today",yesterday:"Yesterday",of:"of",demoMode:"Demo Mode",transactions:"transactions",deleteConfirm:"Delete Permanently",filters:{label:"Filters",show:"Show Filters",hide:"Hide Filters",today:"Today",week:"Week",month:"Month",year:"Year",all:"All",allTypes:"All"},empty:{title:"No transactions found",tryFilters:"Try modifying your search filters",addFirst:"Start by adding your first transaction"}},m$={alimentazione:"Food",supermercato:"Groceries",trasporti:"Transportation",casa:"Home",intrattenimento:"Entertainment",abbonamenti:"Subscriptions",salute:"Health",viaggi:"Travel",shopping:"Shopping",altro:"Other",stipendio:"Salary",bonus:"Bonus",regalo:"Gift",vendite:"Sales",rimborso:"Refund",freelance:"Freelance",investimenti:"Investments"},g$={modalityActive:"Demo Mode Active",transactionsUsed:"You have used {{used}}/{{total}} demo transactions.",registerForComplete:"Register for complete functionality",limitReached:"You have reached the limit of {{limit}} transactions in demo mode. Register for complete functionality!",transactionAdded:"Transaction added in demo mode!",transactionUpdated:"Transaction updated!",transactionDeleted:"Transaction deleted!",allTransactionsCleared:"All demo transactions have been removed!",sampleSalary:"Salary",sampleGroceries:"Groceries",sampleFuel:"Fuel",sampleTransactionsAdded:"Sample transactions have been added!"},y$={addSuccess:"Transaction added successfully!",addError:"Error adding transaction",updateSuccess:"Transaction updated successfully!",updateError:"Error updating transaction",deleteSuccess:"Transaction deleted successfully!",deleteError:"Error deleting transaction",success:"Success",warning:"Warning",info:"Info"},v$={appName:RB,welcome:kB,addTransaction:bB,quickActions:DB,recentTransactions:OB,income:NB,expense:LB,manageAll:VB,profile:MB,logout:FB,whatToRegister:jB,motivationalQuote:UB,noTransactions:BB,yourTransactions:$B,searchTransactions:zB,type:WB,amount:HB,date:qB,description:KB,category:GB,cancel:QB,add:YB,delete:"Delete",confirmDelete:XB,edit:JB,save:ZB,actions:e$,emptyState:t$,loading:n$,error:r$,register:i$,login:s$,logoutConfirm:o$,dashboard:a$,transaction:l$,navbar:u$,landing:c$,financialOverview:d$,analytics:h$,transactionModal:f$,transactions:p$,categories:m$,demo:g$,notifications:y$},_$="SoldiSotto",w$="Ciao, {{name}}!",E$="Aggiungi Transazione",T$="Azioni Rapide",S$={title:"Transazioni Recenti",viewAll:"Vedi tutte",manageAll:"Gestisci tutte le transazioni",emptyTitle:"Nessuna transazione ancora",emptyDescription:"Inizia aggiungendo la tua prima transazione per vedere il riepilogo qui.",addFirst:"Aggiungi la prima transazione"},x$="Entrata",I$="Spesa",P$="Gestisci Tutto",C$={statsTitle:"Le Tue Statistiche",settingsTitle:"Impostazioni",theme:"Apparenza",themeLight:"Chiaro",themeDark:"Scuro",themeSystem:"Sistema",currentTheme:"Tema attuale",language:"Lingua",currentLanguage:"Lingua attuale",username:"Nome Utente",edit:"Modifica",currentUsername:"Username attuale",totalTransactions:"Transazioni Totali",currentBalance:"Saldo Attuale",daysActive:"Giorni Attivi",days:"giorni",user:"Utente",registeredOn:"Registrato il",dateNotAvailable:"Data non disponibile",account:"Account",accountInfo:"Le tue impostazioni vengono salvate automaticamente. I tuoi dati sono protetti con crittografia end-to-end.",backToDashboard:"Torna alla Dashboard",editUsername:"Modifica Username",newUsername:"Nuovo Username",usernamePlaceholder:"Inserisci il nuovo username",usernameHelp:"L'username deve essere di almeno 3 caratteri e sarà verificata la disponibilità",updating:"Aggiornamento...",usernameMinLength:"L'username deve essere di almeno 3 caratteri",usernameSame:"L'username è uguale a quello attuale",usernameConfirm:`Sei sicuro di voler cambiare il tuo username da "{{currentUsername}}" a "{{newUsername}}"?

Questa azione non può essere annullata.`,usernameUnavailable:"Username già in uso",usernameSuccess:"Username aggiornato con successo!",usernameError:"Errore nell'aggiornamento dell'username",usernamePermissionError:"Permessi insufficienti per aggiornare l'username",usernameNetworkError:"Errore di connessione. Riprova più tardi"},A$="Logout",R$="Cosa vuoi registrare oggi?",k$="Gestire le tue finanze è il primo passo verso la libertà.",b$="Nessuna transazione ancora. Aggiungi la prima!",D$="Le tue transazioni",O$="Cerca transazioni...",N$="Tipo",L$="Importo (€)",V$="Data",M$="Descrizione",F$="Categoria",j$="Annulla",U$="Aggiungi",B$="Sei sicuro di voler eliminare questa transazione? Questa azione non può essere annullata.",$$="Modifica",z$="Salva",W$="Azioni",H$="Nessun dato disponibile.",q$="Caricamento...",K$="Si è verificato un errore.",G$={title:"Crea Account",subtitle:"Inizia il tuo viaggio finanziario",username:"Username",usernamePlaceholder:"scegli un username",usernameHelp:"Min. 3 caratteri",usernameMin:"Min. 3 caratteri",email:"Email",emailPlaceholder:"la tua email",password:"Password",passwordPlaceholder:"crea una password",confirmPassword:"Conferma Password",confirmPasswordPlaceholder:"ripeti la password",registerButton:"Crea Account",haveAccount:"Hai già un account?",loginNow:"Accedi ora",backToHome:"Torna alla Home"},Q$={title:"Bentornato!",subtitle:"Accedi con il tuo account",usernameOrEmail:"Username o Email",usernameOrEmailPlaceholder:"username o email",usernameOrEmailHelp:"Inserisci la email di registrazione per accedere",password:"Password",passwordPlaceholder:"inserisci la tua password",loginButton:"Accedi",noAccount:"Non hai un account?",registerNow:"Registrati ora",backToHome:"Torna alla Home"},Y$="Sei sicuro di voler uscire?",X$={title:"Dashboard",addTransaction:"Aggiungi Transazione",motivationalQuotes:["Ogni euro risparmiato è un euro guadagnato.","Il miglior investimento sei tu.","Piccoli passi, grandi risultati.","Gestire le tue finanze è il primo passo verso la libertà.","Non contare i centesimi, falli contare!","La ricchezza si costruisce un giorno alla volta.","Il futuro appartiene a chi lo pianifica.","Risparmiare oggi per vivere meglio domani.","Non è quanto guadagni, ma quanto risparmi che conta.","La disciplina finanziaria è la chiave del successo."]},J$={add:"Aggiungi Transazione",edit:"Modifica Transazione",delete:"Elimina Transazione",confirmDelete:"Sei sicuro di voler eliminare questa transazione? Questa azione non può essere annullata.",empty:"Nessuna transazione ancora. Aggiungi la prima!",amount:"Importo (€)",date:"Data",description:"Descrizione",category:"Categoria",type:"Tipo di Transazione",income:"Entrata",expense:"Spesa",addIncome:"Aggiungi Entrata",addExpense:"Aggiungi Spesa",saveChanges:"Salva Modifiche",cancel:"Annulla"},Z$={dashboard:"Dashboard",transactions:"Transazioni",analytics:"Analytics",profile:"Profilo",logout:"Logout",register:"Registrati",backToHome:"Torna alla Home",demoExitConfirm:"Uscirai dalla modalità demo e tornerai alla pagina iniziale. Continuare?"},ez={heroTitle:"Soldi Sotto",heroSubtitle:"La tua finanza personale sotto controllo. Gestisci entrate e uscite, visualizza statistiche dettagliate e prendi decisioni informate per il tuo futuro finanziario.",tryDemo:"Prova Demo Gratuita",register:"Registrati Gratis",login:"Accedi",mainFeatures:"Funzionalità Principali",startToday:"Inizia Oggi Stesso",chooseHowToStart:"Scegli come iniziare il tuo viaggio verso la libertà finanziaria",demo:"Demo Gratuita",premium:"Account Completo",free:"Gratis",demoFeatures:["✓ Fino a 10 transazioni demo","✓ Tutte le funzionalità base","✓ Visualizzazione statistiche","✓ Nessuna registrazione richiesta"],premiumFeatures:["✓ Transazioni illimitate","✓ Export PDF avanzato","✓ Statistiche dettagliate","✓ Backup cloud sicuro","✓ Supporto prioritario"],ctaTitle:"Pronto a Prendere il Controllo delle Tue Finanze?",ctaSubtitle:"Unisciti a migliaia di utenti che hanno già trasformato la loro gestione finanziaria"},tz={title:"Panoramica Finanziaria",totalIncome:"Entrate Totali",totalExpense:"Uscite Totali",balance:"Bilancio",totalTransactions:"transazioni totali"},nz={title:"Statistiche & Approfondimenti",subtitle:"Analizza le tue abitudini finanziarie e scopri pattern nascosti",thisMonth:"Questo mese",lastMonth:"Mese scorso",last3Months:"Ultimi tre mesi",thisYear:"Quest'anno",custom:"Personalizzato...",from:"Dal",to:"al",demoMode:"Modalità Demo Attiva",demoDescription:"Visualizzi statistiche demo con {{current}}/{{max}} transazioni. Registrati per statistiche complete e storiche!",totalIncome:"Entrate Totali",totalExpense:"Uscite Totali",balance:"Bilancio",savingsRate:"Tasso Risparmio",topExpenseCategories:"Top Categorie Spesa",topIncomeCategories:"Top Categorie Entrata",ofTotal:"del totale",noExpenseData:"Nessuna spesa nel periodo selezionato",noIncomeData:"Nessuna entrata nel periodo selezionato",monthlyTrend:"Trend Ultimi 6 Mesi",insufficientData:"Dati insufficienti per mostrare il trend",avgDailyExpense:"Spesa Media Giornaliera",avgTransaction:"Transazione Media",avgTransactionDescription:"Importo medio per transazione",totalTransactions:"Transazioni Totali",inSelectedPeriod:"Nel periodo selezionato"},rz={editTitle:"Modifica Transazione",newTitle:"Nuova Transazione",editSubtitle:"Modifica i dettagli della transazione",newSubtitle:"Aggiungi velocemente una nuova transazione",type:"Tipo di Transazione",expense:"Spesa",income:"Entrata",amount:"Importo (€)",amountPlaceholder:"0,00",date:"Data",description:"Descrizione",descriptionPlaceholder:"Es. Spesa alimentare, Stipendio...",category:"Categoria",selectCategory:"Seleziona una categoria",cancel:"Annulla",saving:"Salvando...",adding:"Aggiungendo...",saveChanges:"Salva Modifiche",addButton:"Aggiungi {{type}}"},iz={title:"Le tue transazioni",loadingTransactions:"Caricamento transazioni...",accessRequired:"Accesso richiesto",loginRequired:"Effettua il login per visualizzare le tue transazioni",today:"Oggi",yesterday:"Ieri",of:"di",demoMode:"Modalità Demo",transactions:"transazioni",deleteConfirm:"Elimina Definitivamente",filters:{label:"Filtri",show:"Mostra Filtri",hide:"Nascondi Filtri",today:"Oggi",week:"Settimana",month:"Mese",year:"Anno",all:"Tutto",allTypes:"Tutti"},empty:{title:"Nessuna transazione trovata",tryFilters:"Prova a modificare i filtri di ricerca",addFirst:"Inizia aggiungendo la tua prima transazione"}},sz={alimentazione:"Alimentazione",supermercato:"Spesa",trasporti:"Trasporti",casa:"Casa",intrattenimento:"Svago",abbonamenti:"Abbonamenti",salute:"Salute",viaggi:"Viaggi",shopping:"Shopping",altro:"Altro",stipendio:"Stipendio",bonus:"Bonus",regalo:"Regalo",vendite:"Vendite",rimborso:"Rimborso",freelance:"Freelance",investimenti:"Investimenti"},oz={modalityActive:"Modalità Demo Attiva",transactionsUsed:"Hai utilizzato {{used}}/{{total}} transazioni demo.",registerForComplete:"Registrati per funzionalità complete",limitReached:"Hai raggiunto il limite di {{limit}} transazioni nella modalità demo. Registrati per funzionalità complete!",transactionAdded:"Transazione aggiunta in modalità demo!",transactionUpdated:"Transazione aggiornata!",transactionDeleted:"Transazione eliminata!",allTransactionsCleared:"Tutte le transazioni demo sono state rimosse!",sampleSalary:"Stipendio",sampleGroceries:"Spesa alimentare",sampleFuel:"Benzina",sampleTransactionsAdded:"Sono state aggiunte alcune transazioni di esempio!"},az={addSuccess:"Transazione aggiunta con successo!",addError:"Errore nell'aggiunta della transazione",updateSuccess:"Transazione aggiornata con successo!",updateError:"Errore nell'aggiornamento della transazione",deleteSuccess:"Transazione eliminata con successo!",deleteError:"Errore nell'eliminazione della transazione",success:"Successo",warning:"Attenzione",info:"Informazione"},lz={appName:_$,welcome:w$,addTransaction:E$,quickActions:T$,recentTransactions:S$,income:x$,expense:I$,manageAll:P$,profile:C$,logout:A$,whatToRegister:R$,motivationalQuote:k$,noTransactions:b$,yourTransactions:D$,searchTransactions:O$,type:N$,amount:L$,date:V$,description:M$,category:F$,cancel:j$,add:U$,delete:"Elimina",confirmDelete:B$,edit:$$,save:z$,actions:W$,emptyState:H$,loading:q$,error:K$,register:G$,login:Q$,logoutConfirm:Y$,dashboard:X$,transaction:J$,navbar:Z$,landing:ez,financialOverview:tz,analytics:nz,transactionModal:rz,transactions:iz,categories:sz,demo:oz,notifications:az},uz={en:{translation:v$},it:{translation:lz}};rn.use(YA).use(x4).init({resources:uz,fallbackLng:"it",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});uk.createRoot(document.getElementById("root")).render(K.jsx(Ky,{children:K.jsx(lv,{children:K.jsx(G9,{})})}));export{Ii as $,dh as A,YI as B,tj as C,fv as D,nj as E,bz as F,rj as G,Xy as H,Jz as I,Wz as J,jz as K,cC as L,dC as M,gP as N,r8 as O,be as P,$P as Q,pt as R,kg as S,Xz as T,Fz as U,n8 as V,BA as W,Az as X,Dz as Y,Rz as Z,Lz as _,PM as a,RV as a0,iC as a1,dz as a2,Mz as a3,Kz as a4,Zz as a5,Uz as a6,Kh as a7,WA as a8,a8 as a9,qz as aA,t8 as aB,Oz as aC,Nz as aD,zz as aE,e8 as aF,Tz as aG,Sz as aH,kz as aI,Hz as aJ,Bz as aK,$z as aL,fo as aM,mz as aN,UE as aO,pz as aP,XI as aQ,cz as aR,Oo as aS,Vz as aa,_z as ab,gz as ac,IV as ad,qI as ae,zI as af,WI as ag,a4 as ah,YV as ai,cM as aj,dM as ak,Eu as al,Ma as am,iT as an,xz as ao,Yy as ap,Gy as aq,jV as ar,TM as as,XV as at,JI as au,KI as av,tM as aw,bP as ax,Qz as ay,o8 as az,Iz as b,Sn as c,yP as d,QI as e,nn as f,LV as g,Pf as h,uC as i,K as j,Tc as k,ss as l,uT as m,P9 as n,s8 as o,i8 as p,qE as q,A as r,Fo as s,av as t,vs as u,Yz as v,zA as w,Gz as x,vz as y,Eg as z};
