import{r,a5 as Y,a6 as pe,a7 as P,a8 as Re,j as l,a9 as Je,aa as Me,ab as Qe,u as W,c as w,a as Ee,ac as Ze,ad as et,ae as tt,af as nt,ag as xe,ah as Le,ai as ot,aj as rt}from"./index-B5Mx-j49.js";import{u as N}from"./useEventCallback-1-eyDLsX.js";import{d as st}from"./Col-DpLbBq7f.js";function at(){const e=r.useRef(!0),t=r.useRef(()=>e.current);return r.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function it(e){const t=r.useRef(null);return r.useEffect(()=>{t.current=e}),t.current}const lt=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",ct=typeof document<"u",Ne=ct||lt?r.useLayoutEffect:r.useEffect;var ut=Function.prototype.bind.call(Function.prototype.call,[].slice);function D(e,t){return ut(e.querySelectorAll(t))}function Oe(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const dt="data-rr-ui-",ft="rrUi";function ht(e){return`${dt}${e}`}function Vt(e){return`${ft}${e}`}const Fe=r.createContext(Y?window:void 0);Fe.Provider;function ye(){return r.useContext(Fe)}const ke=e=>!e||typeof e=="function"?e:t=>{e.current=t};function gt(e,t){const n=ke(e),o=ke(t);return s=>{n&&n(s),o&&o(s)}}function ve(e,t){return r.useMemo(()=>gt(e,t),[e,t])}var se;function je(e){if((!se&&se!==0||e)&&Y){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),se=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return se}function mt(){return r.useState(null)}function fe(e){e===void 0&&(e=pe());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function Et(e){const t=r.useRef(e);return t.current=e,t}function pt(e){const t=Et(e);r.useEffect(()=>()=>t.current(),[])}function Rt(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Se=ht("modal-open");class be{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Rt(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[o]:s.style[o]},t.scrollBarWidth&&(n[o]=`${parseInt(P(s,o)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(Se,""),P(s,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Se),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const he=(e,t)=>Y?e==null?(t||pe()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function yt(e,t){const n=ye(),[o,s]=r.useState(()=>he(e,n?.document));if(!o){const a=he(e);a&&s(a)}return r.useEffect(()=>{},[t,o]),r.useEffect(()=>{const a=he(e);a!==o&&s(a)},[e,o]),o}function vt({children:e,in:t,onExited:n,mountOnEnter:o,unmountOnExit:s}){const a=r.useRef(null),d=r.useRef(t),f=N(n);r.useEffect(()=>{t?d.current=!0:f(a.current)},[t,f]);const g=ve(a,Re(e)),u=r.cloneElement(e,{ref:g});return t?u:s||!d.current&&o?null:u}const bt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Tt(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function Ct(e){let{onEnter:t,onEntering:n,onEntered:o,onExit:s,onExiting:a,onExited:d,addEndListener:f,children:g}=e,u=Tt(e,bt);const m=r.useRef(null),p=ve(m,Re(g)),E=b=>M=>{b&&m.current&&b(m.current,M)},y=r.useCallback(E(t),[t]),$=r.useCallback(E(n),[n]),O=r.useCallback(E(o),[o]),_=r.useCallback(E(s),[s]),v=r.useCallback(E(a),[a]),H=r.useCallback(E(d),[d]),k=r.useCallback(E(f),[f]);return Object.assign({},u,{nodeRef:m},t&&{onEnter:y},n&&{onEntering:$},o&&{onEntered:O},s&&{onExit:_},a&&{onExiting:v},d&&{onExited:H},f&&{addEndListener:k},{children:typeof g=="function"?(b,M)=>g(b,Object.assign({},M,{ref:p})):r.cloneElement(g,{ref:p})})}const wt=["component"];function Mt(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}const xt=r.forwardRef((e,t)=>{let{component:n}=e,o=Mt(e,wt);const s=Ct(o);return l.jsx(n,Object.assign({ref:t},s))});function Nt({in:e,onTransition:t}){const n=r.useRef(null),o=r.useRef(!0),s=N(t);return Ne(()=>{if(!n.current)return;let a=!1;return s({in:e,element:n.current,initial:o.current,isStale:()=>a}),()=>{a=!0}},[e,s]),Ne(()=>(o.current=!1,()=>{o.current=!0}),[]),n}function Ot({children:e,in:t,onExited:n,onEntered:o,transition:s}){const[a,d]=r.useState(!t);t&&a&&d(!1);const f=Nt({in:!!t,onTransition:u=>{const m=()=>{u.isStale()||(u.in?o?.(u.element,u.initial):(d(!0),n?.(u.element)))};Promise.resolve(s(u)).then(m,p=>{throw u.in||d(!0),p})}}),g=ve(f,Re(e));return a&&!t?null:r.cloneElement(e,{ref:g})}function Ae(e,t,n){return e?l.jsx(xt,Object.assign({},n,{component:e})):t?l.jsx(Ot,Object.assign({},n,{transition:t})):l.jsx(vt,Object.assign({},n))}const kt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function jt(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}let ge;function St(e){return ge||(ge=new be({ownerDocument:e?.document})),ge}function At(e){const t=ye(),n=e||St(t),o=r.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:r.useCallback(s=>{o.current.dialog=s},[]),setBackdropRef:r.useCallback(s=>{o.current.backdrop=s},[])})}const De=r.forwardRef((e,t)=>{let{show:n=!1,role:o="dialog",className:s,style:a,children:d,backdrop:f=!0,keyboard:g=!0,onBackdropClick:u,onEscapeKeyDown:m,transition:p,runTransition:E,backdropTransition:y,runBackdropTransition:$,autoFocus:O=!0,enforceFocus:_=!0,restoreFocus:v=!0,restoreFocusOptions:H,renderDialog:k,renderBackdrop:b=c=>l.jsx("div",Object.assign({},c)),manager:M,container:ae,onShow:q,onHide:U=()=>{},onExit:ie,onExited:K,onExiting:J,onEnter:Q,onEntering:Z,onEntered:ee}=e,le=jt(e,kt);const T=ye(),j=yt(ae),h=At(M),ce=at(),te=it(n),[x,S]=r.useState(!n),R=r.useRef(null);r.useImperativeHandle(t,()=>h,[h]),Y&&!te&&n&&(R.current=fe(T?.document)),n&&x&&S(!1);const C=N(()=>{if(h.add(),A.current=Me(document,"keydown",de),V.current=Me(document,"focus",()=>setTimeout(ue),!0),q&&q(),O){var c,re;const X=fe((c=(re=h.dialog)==null?void 0:re.ownerDocument)!=null?c:T?.document);h.dialog&&X&&!Oe(h.dialog,X)&&(R.current=X,h.dialog.focus())}}),G=N(()=>{if(h.remove(),A.current==null||A.current(),V.current==null||V.current(),v){var c;(c=R.current)==null||c.focus==null||c.focus(H),R.current=null}});r.useEffect(()=>{!n||!j||C()},[n,j,C]),r.useEffect(()=>{x&&G()},[x,G]),pt(()=>{G()});const ue=N(()=>{if(!_||!ce()||!h.isTopModal())return;const c=fe(T?.document);h.dialog&&c&&!Oe(h.dialog,c)&&h.dialog.focus()}),ne=N(c=>{c.target===c.currentTarget&&(u?.(c),f===!0&&U())}),de=N(c=>{g&&Qe(c)&&h.isTopModal()&&(m?.(c),c.defaultPrevented||U())}),V=r.useRef(),A=r.useRef(),oe=(...c)=>{S(!0),K?.(...c)};if(!j)return null;const B=Object.assign({role:o,ref:h.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},le,{style:a,className:s,tabIndex:-1});let z=k?k(B):l.jsx("div",Object.assign({},B,{children:r.cloneElement(d,{role:"document"})}));z=Ae(p,E,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:ie,onExiting:J,onExited:oe,onEnter:Q,onEntering:Z,onEntered:ee,children:z});let L=null;return f&&(L=b({ref:h.setBackdropRef,onClick:ne}),L=Ae(y,$,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:L})),l.jsx(l.Fragment,{children:Je.createPortal(l.jsxs(l.Fragment,{children:[L,z]}),j)})});De.displayName="Modal";const Bt=Object.assign(De,{Manager:be});function Lt(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Ft(e,t){e.classList?e.classList.add(t):Lt(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Be(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Dt(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Be(e.className,t):e.setAttribute("class",Be(e.className&&e.className.baseVal||"",t))}const I={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class It extends be{adjustAndStore(t,n,o){const s=n.style[t];n.dataset[t]=s,P(n,{[t]:`${parseFloat(P(n,t))+o}px`})}restore(t,n){const o=n.dataset[t];o!==void 0&&(delete n.dataset[t],P(n,{[t]:o}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Ft(n,"modal-open"),!t.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";D(n,I.FIXED_CONTENT).forEach(a=>this.adjustAndStore(o,a,t.scrollBarWidth)),D(n,I.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-t.scrollBarWidth)),D(n,I.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Dt(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";D(n,I.FIXED_CONTENT).forEach(a=>this.restore(o,a)),D(n,I.STICKY_CONTENT).forEach(a=>this.restore(s,a)),D(n,I.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let me;function Wt(e){return me||(me=new It(e)),me}const Ie=r.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},s)=>(t=W(t,"modal-body"),l.jsx(n,{ref:s,className:w(e,t),...o})));Ie.displayName="ModalBody";const We=r.createContext({onHide(){}}),Te=r.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:o,size:s,fullscreen:a,children:d,scrollable:f,...g},u)=>{e=W(e,"modal");const m=`${e}-dialog`,p=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return l.jsx("div",{...g,ref:u,className:w(m,t,s&&`${e}-${s}`,o&&`${m}-centered`,f&&`${m}-scrollable`,a&&p),children:l.jsx("div",{className:w(`${e}-content`,n),children:d})})});Te.displayName="ModalDialog";const $e=r.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},s)=>(t=W(t,"modal-footer"),l.jsx(n,{ref:s,className:w(e,t),...o})));$e.displayName="ModalFooter";const _e=r.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:o,children:s,...a},d)=>{const f=r.useContext(We),g=Ee(()=>{f?.onHide(),o?.()});return l.jsxs("div",{ref:d,...a,children:[s,n&&l.jsx(Ze,{"aria-label":e,variant:t,onClick:g})]})});_e.displayName="AbstractModalHeader";const He=r.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:o=!1,...s},a)=>(e=W(e,"modal-header"),l.jsx(_e,{ref:a,...s,className:w(t,e),closeLabel:n,closeButton:o})));He.displayName="ModalHeader";const $t=st("h4"),Ue=r.forwardRef(({className:e,bsPrefix:t,as:n=$t,...o},s)=>(t=W(t,"modal-title"),l.jsx(n,{ref:s,className:w(e,t),...o})));Ue.displayName="ModalTitle";function _t(e){return l.jsx(Le,{...e,timeout:null})}function Ht(e){return l.jsx(Le,{...e,timeout:null})}const Ke=r.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:o,contentClassName:s,children:a,dialogAs:d=Te,"data-bs-theme":f,"aria-labelledby":g,"aria-describedby":u,"aria-label":m,show:p=!1,animation:E=!0,backdrop:y=!0,keyboard:$=!0,onEscapeKeyDown:O,onShow:_,onHide:v,container:H,autoFocus:k=!0,enforceFocus:b=!0,restoreFocus:M=!0,restoreFocusOptions:ae,onEntered:q,onExit:U,onExiting:ie,onEnter:K,onEntering:J,onExited:Q,backdropClassName:Z,manager:ee,...le},T)=>{const[j,h]=r.useState({}),[ce,te]=r.useState(!1),x=r.useRef(!1),S=r.useRef(!1),R=r.useRef(null),[C,G]=mt(),ue=et(T,G),ne=Ee(v),de=tt();e=W(e,"modal");const V=r.useMemo(()=>({onHide:ne}),[ne]);function A(){return ee||Wt({isRTL:de})}function oe(i){if(!Y)return;const F=A().getScrollbarWidth()>0,we=i.scrollHeight>pe(i).documentElement.clientHeight;h({paddingRight:F&&!we?je():void 0,paddingLeft:!F&&we?je():void 0})}const B=Ee(()=>{C&&oe(C.dialog)});nt(()=>{xe(window,"resize",B),R.current==null||R.current()});const z=()=>{x.current=!0},L=i=>{x.current&&C&&i.target===C.dialog&&(S.current=!0),x.current=!1},c=()=>{te(!0),R.current=rt(C.dialog,()=>{te(!1)})},re=i=>{i.target===i.currentTarget&&c()},X=i=>{if(y==="static"){re(i);return}if(S.current||i.target!==i.currentTarget){S.current=!1;return}v?.()},Ge=i=>{$?O?.(i):(i.preventDefault(),y==="static"&&c())},Ve=(i,F)=>{i&&oe(i),K?.(i,F)},ze=i=>{R.current==null||R.current(),U?.(i)},Xe=(i,F)=>{J?.(i,F),ot(window,"resize",B)},Pe=i=>{i&&(i.style.display=""),Q?.(i),xe(window,"resize",B)},Ye=r.useCallback(i=>l.jsx("div",{...i,className:w(`${e}-backdrop`,Z,!E&&"show")}),[E,Z,e]),Ce={...n,...j};Ce.display="block";const qe=i=>l.jsx("div",{role:"dialog",...i,style:Ce,className:w(t,e,ce&&`${e}-static`,!E&&"show"),onClick:y?X:void 0,onMouseUp:L,"data-bs-theme":f,"aria-label":m,"aria-labelledby":g,"aria-describedby":u,children:l.jsx(d,{...le,onMouseDown:z,className:o,contentClassName:s,children:a})});return l.jsx(We.Provider,{value:V,children:l.jsx(Bt,{show:p,ref:ue,backdrop:y,container:H,keyboard:!0,autoFocus:k,enforceFocus:b,restoreFocus:M,restoreFocusOptions:ae,onEscapeKeyDown:Ge,onShow:_,onHide:v,onEnter:Ve,onEntering:Xe,onEntered:q,onExit:ze,onExiting:ie,onExited:Pe,manager:A(),transition:E?_t:void 0,backdropTransition:E?Ht:void 0,renderBackdrop:Ye,renderDialog:qe})})});Ke.displayName="Modal";const zt=Object.assign(Ke,{Body:Ie,Header:He,Title:Ue,Footer:$e,Dialog:Te,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{zt as M,Vt as a,ht as d,D as q,ve as u};
